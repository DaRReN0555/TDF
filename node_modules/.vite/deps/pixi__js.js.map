{"version":3,"file":"pixi__js.js","names":["source","WebGPURenderer","WebGLRenderer","_Application","split","_Loader","defaultValue","source","crossOrigin","WORKER_CODE","WORKER_URL","WorkerInstance","WORKER_CODE","WORKER_URL","WorkerInstance","WorkerInstance","WorkerInstance$1","_isWebGPUSupported","_isWebGLSupported","WORKER_CODE","WORKER_URL","WorkerInstance","urlHash","WorkerInstance","ktxWorker","gpuFormatToBasisTranscoderFormatMap","supportedCompressedTextureFormats","extensions","_Culler","find","freeze","source","NAMESPACE","conventions","NAMESPACE","DOMImplementation","node","Text","NAMESPACE","ParseError","XMLReader","source","a","end","position","appendElement","value","dom","DOMParser","sax","source","DOMParser","_AlphaFilter","vertex","fragment","source","source","_BlurFilterPass","fragment","source","fragment","vertex","source","fragment","source","_NoiseFilter","_PrepareBase","_TilingSprite","source","source","position","position","_RenderLayer","_PerspectiveMesh","_RopeGeometry","_MeshRope","_Particle","_ParticleContainer","_NineSliceSprite","_SplitBitmapText","_SplitText"],"sources":["../../pixi.js/lib/environment-browser/browserExt.mjs","../../pixi.js/lib/environment-webworker/webworkerExt.mjs","../../pixi.js/lib/filters/blend-modes/blend-template.frag.mjs","../../pixi.js/lib/filters/blend-modes/blend-template.vert.mjs","../../pixi.js/lib/filters/blend-modes/blend-template.wgsl.mjs","../../pixi.js/lib/filters/blend-modes/BlendModeFilter.mjs","../../pixi.js/lib/filters/blend-modes/hls/GLhls.mjs","../../pixi.js/lib/filters/blend-modes/hls/GPUhls.mjs","../../pixi.js/lib/advanced-blend-modes/ColorBlend.mjs","../../pixi.js/lib/advanced-blend-modes/ColorBurnBlend.mjs","../../pixi.js/lib/advanced-blend-modes/ColorDodgeBlend.mjs","../../pixi.js/lib/advanced-blend-modes/DarkenBlend.mjs","../../pixi.js/lib/advanced-blend-modes/DifferenceBlend.mjs","../../pixi.js/lib/advanced-blend-modes/DivideBlend.mjs","../../pixi.js/lib/advanced-blend-modes/ExclusionBlend.mjs","../../pixi.js/lib/advanced-blend-modes/HardLightBlend.mjs","../../pixi.js/lib/advanced-blend-modes/HardMixBlend.mjs","../../pixi.js/lib/advanced-blend-modes/LightenBlend.mjs","../../pixi.js/lib/advanced-blend-modes/LinearBurnBlend.mjs","../../pixi.js/lib/advanced-blend-modes/LinearDodgeBlend.mjs","../../pixi.js/lib/advanced-blend-modes/LinearLightBlend.mjs","../../pixi.js/lib/advanced-blend-modes/LuminosityBlend.mjs","../../pixi.js/lib/advanced-blend-modes/NegationBlend.mjs","../../pixi.js/lib/advanced-blend-modes/OverlayBlend.mjs","../../pixi.js/lib/advanced-blend-modes/PinLightBlend.mjs","../../pixi.js/lib/advanced-blend-modes/SaturationBlend.mjs","../../pixi.js/lib/advanced-blend-modes/SoftLightBlend.mjs","../../pixi.js/lib/advanced-blend-modes/SubtractBlend.mjs","../../pixi.js/lib/advanced-blend-modes/VividLightBlend.mjs","../../pixi.js/lib/utils/browser/isWebGLSupported.mjs","../../pixi.js/lib/utils/browser/isWebGPUSupported.mjs","../../pixi.js/lib/rendering/renderers/autoDetectRenderer.mjs","../../pixi.js/lib/app/Application.mjs","../../pixi.js/lib/scene/text-bitmap/BitmapFont.mjs","../../pixi.js/lib/scene/text-bitmap/asset/bitmapFontTextParser.mjs","../../pixi.js/lib/scene/text-bitmap/asset/bitmapFontXMLParser.mjs","../../pixi.js/lib/scene/text-bitmap/asset/bitmapFontXMLStringParser.mjs","../../pixi.js/lib/scene/text-bitmap/asset/loadBitmapFont.mjs","../../pixi.js/lib/assets/BackgroundLoader.mjs","../../pixi.js/lib/assets/cache/parsers/cacheTextureArray.mjs","../../pixi.js/lib/assets/detections/utils/testImageFormat.mjs","../../pixi.js/lib/assets/detections/parsers/detectAvif.mjs","../../pixi.js/lib/assets/detections/parsers/detectDefaults.mjs","../../pixi.js/lib/assets/detections/utils/testVideoFormat.mjs","../../pixi.js/lib/assets/detections/parsers/detectMp4.mjs","../../pixi.js/lib/assets/detections/parsers/detectOgv.mjs","../../pixi.js/lib/assets/detections/parsers/detectWebm.mjs","../../pixi.js/lib/assets/detections/parsers/detectWebp.mjs","../../pixi.js/lib/assets/loader/Loader.mjs","../../pixi.js/lib/assets/utils/checkDataUrl.mjs","../../pixi.js/lib/assets/utils/checkExtension.mjs","../../pixi.js/lib/assets/loader/parsers/loadJson.mjs","../../pixi.js/lib/assets/loader/parsers/loadTxt.mjs","../../pixi.js/lib/assets/loader/parsers/loadWebFont.mjs","../../pixi.js/lib/utils/network/getResolutionOfUrl.mjs","../../pixi.js/lib/assets/loader/parsers/textures/utils/createTexture.mjs","../../pixi.js/lib/assets/loader/parsers/textures/loadSVG.mjs","../../pixi.js/lib/_virtual/checkImageBitmap.worker.mjs","../../pixi.js/lib/_virtual/loadImageBitmap.worker.mjs","../../pixi.js/lib/assets/loader/workers/WorkerManager.mjs","../../pixi.js/lib/assets/loader/parsers/textures/loadTextures.mjs","../../pixi.js/lib/assets/loader/parsers/textures/loadVideoTextures.mjs","../../pixi.js/lib/assets/resolver/parsers/resolveTextureUrl.mjs","../../pixi.js/lib/assets/resolver/parsers/resolveJsonUrl.mjs","../../pixi.js/lib/assets/Assets.mjs","../../pixi.js/lib/compressed-textures/basis/detectBasis.mjs","../../pixi.js/lib/rendering/renderers/shared/texture/sources/CompressedSource.mjs","../../pixi.js/lib/rendering/renderers/gl/texture/utils/getSupportedGlCompressedTextureFormats.mjs","../../pixi.js/lib/rendering/renderers/gpu/texture/utils/getSupportedGPUCompressedTextureFormats.mjs","../../pixi.js/lib/rendering/renderers/shared/texture/utils/getSupportedCompressedTextureFormats.mjs","../../pixi.js/lib/rendering/renderers/shared/texture/utils/getSupportedTextureFormats.mjs","../../pixi.js/lib/_virtual/basis.worker.mjs","../../pixi.js/lib/compressed-textures/basis/utils/setBasisTranscoderPath.mjs","../../pixi.js/lib/compressed-textures/basis/worker/loadBasisOnWorker.mjs","../../pixi.js/lib/compressed-textures/basis/loadBasis.mjs","../../pixi.js/lib/compressed-textures/basis/utils/createLevelBuffers.mjs","../../pixi.js/lib/compressed-textures/basis/utils/gpuFormatToBasisTranscoderFormat.mjs","../../pixi.js/lib/compressed-textures/dds/const.mjs","../../pixi.js/lib/compressed-textures/dds/parseDDS.mjs","../../pixi.js/lib/compressed-textures/dds/loadDDS.mjs","../../pixi.js/lib/compressed-textures/ktx2/const.mjs","../../pixi.js/lib/compressed-textures/ktx/parseKTX.mjs","../../pixi.js/lib/compressed-textures/ktx/loadKTX.mjs","../../pixi.js/lib/_virtual/ktx.worker.mjs","../../pixi.js/lib/compressed-textures/ktx2/utils/setKTXTranscoderPath.mjs","../../pixi.js/lib/compressed-textures/ktx2/worker/loadKTX2onWorker.mjs","../../pixi.js/lib/compressed-textures/ktx2/loadKTX2.mjs","../../pixi.js/lib/compressed-textures/ktx2/utils/convertFormatIfRequired.mjs","../../pixi.js/lib/compressed-textures/ktx2/utils/createLevelBuffersFromKTX.mjs","../../pixi.js/lib/compressed-textures/ktx2/utils/glFormatToGPUFormat.mjs","../../pixi.js/lib/compressed-textures/ktx2/utils/vkFormatToGPUFormat.mjs","../../pixi.js/lib/compressed-textures/ktx2/utils/getTextureFormatFromKTXTexture.mjs","../../pixi.js/lib/compressed-textures/ktx2/utils/gpuFormatToKTXBasisTranscoderFormat.mjs","../../pixi.js/lib/compressed-textures/shared/resolveCompressedTextureUrl.mjs","../../pixi.js/lib/compressed-textures/shared/detectCompressed.mjs","../../pixi.js/lib/culling/Culler.mjs","../../pixi.js/lib/culling/CullerPlugin.mjs","../../@xmldom/xmldom/lib/conventions.js","../../@xmldom/xmldom/lib/dom.js","../../@xmldom/xmldom/lib/entities.js","../../@xmldom/xmldom/lib/sax.js","../../@xmldom/xmldom/lib/dom-parser.js","../../@xmldom/xmldom/lib/index.js","../../pixi.js/lib/environment-webworker/WebWorkerAdapter.mjs","../../pixi.js/lib/filters/defaults/alpha/alpha.frag.mjs","../../pixi.js/lib/filters/defaults/alpha/alpha.wgsl.mjs","../../pixi.js/lib/filters/defaults/alpha/AlphaFilter.mjs","../../pixi.js/lib/filters/defaults/blur/const.mjs","../../pixi.js/lib/filters/defaults/blur/gl/generateBlurFragSource.mjs","../../pixi.js/lib/filters/defaults/blur/gl/generateBlurVertSource.mjs","../../pixi.js/lib/filters/defaults/blur/gl/generateBlurGlProgram.mjs","../../pixi.js/lib/filters/defaults/blur/gpu/blur-template.wgsl.mjs","../../pixi.js/lib/filters/defaults/blur/gpu/generateBlurProgram.mjs","../../pixi.js/lib/filters/defaults/blur/BlurFilterPass.mjs","../../pixi.js/lib/filters/defaults/blur/BlurFilter.mjs","../../pixi.js/lib/filters/defaults/color-matrix/colorMatrixFilter.frag.mjs","../../pixi.js/lib/filters/defaults/color-matrix/colorMatrixFilter.wgsl.mjs","../../pixi.js/lib/filters/defaults/color-matrix/ColorMatrixFilter.mjs","../../pixi.js/lib/filters/defaults/displacement/displacement.frag.mjs","../../pixi.js/lib/filters/defaults/displacement/displacement.vert.mjs","../../pixi.js/lib/filters/defaults/displacement/displacement.wgsl.mjs","../../pixi.js/lib/filters/defaults/displacement/DisplacementFilter.mjs","../../pixi.js/lib/filters/defaults/noise/noise.frag.mjs","../../pixi.js/lib/filters/defaults/noise/noise.wgsl.mjs","../../pixi.js/lib/filters/defaults/noise/NoiseFilter.mjs","../../pixi.js/lib/maths/point/pointInTriangle.mjs","../../pixi.js/lib/maths/shapes/Triangle.mjs","../../pixi.js/lib/filters/blend-modes/hsl.wgsl.mjs","../../pixi.js/lib/prepare/PrepareBase.mjs","../../pixi.js/lib/scene/mesh/shared/Mesh.mjs","../../pixi.js/lib/scene/sprite-animated/AnimatedSprite.mjs","../../pixi.js/lib/utils/misc/Transform.mjs","../../pixi.js/lib/scene/sprite-tiling/TilingSprite.mjs","../../pixi.js/lib/scene/text/AbstractText.mjs","../../pixi.js/lib/scene/text/Text.mjs","../../pixi.js/lib/prepare/PrepareQueue.mjs","../../pixi.js/lib/scene/text-bitmap/BitmapText.mjs","../../pixi.js/lib/scene/text-html/utils/textStyleToCSS.mjs","../../pixi.js/lib/scene/text-html/HTMLTextStyle.mjs","../../pixi.js/lib/scene/text-html/HTMLText.mjs","../../pixi.js/lib/prepare/PrepareUpload.mjs","../../pixi.js/lib/prepare/PrepareSystem.mjs","../../pixi.js/lib/rendering/batcher/gpu/generateGPULayout.mjs","../../pixi.js/lib/rendering/batcher/gpu/generateLayout.mjs","../../pixi.js/lib/rendering/high-shader/compiler/utils/formatShader.mjs","../../pixi.js/lib/rendering/mask/scissor/ScissorMask.mjs","../../pixi.js/lib/rendering/renderers/gl/shader/migrateFragmentFromV7toV8.mjs","../../pixi.js/lib/rendering/renderers/gl/shader/program/mapSize.mjs","../../pixi.js/lib/rendering/renderers/shared/geometry/const.mjs","../../pixi.js/lib/rendering/renderers/shared/texture/const.mjs","../../pixi.js/lib/rendering/renderers/shared/texture/TextureUvs.mjs","../../pixi.js/lib/rendering/renderers/shared/utils/parseFunctionBody.mjs","../../pixi.js/lib/scene/container/bounds/getFastGlobalBounds.mjs","../../pixi.js/lib/scene/container/RenderContainer.mjs","../../pixi.js/lib/scene/container/utils/collectAllRenderables.mjs","../../pixi.js/lib/scene/container/utils/updateLocalTransform.mjs","../../pixi.js/lib/scene/container/utils/updateWorldTransform.mjs","../../pixi.js/lib/scene/graphics/shared/utils/buildGeometryFromPath.mjs","../../pixi.js/lib/scene/layers/RenderLayer.mjs","../../pixi.js/lib/scene/mesh-perspective/utils/applyProjectiveTransformationToPlane.mjs","../../pixi.js/lib/scene/mesh-perspective/utils/compute2DProjections.mjs","../../pixi.js/lib/scene/mesh-perspective/PerspectivePlaneGeometry.mjs","../../pixi.js/lib/scene/mesh-perspective/PerspectiveMesh.mjs","../../pixi.js/lib/scene/mesh-plane/MeshPlane.mjs","../../pixi.js/lib/scene/mesh-simple/RopeGeometry.mjs","../../pixi.js/lib/scene/mesh-simple/MeshRope.mjs","../../pixi.js/lib/scene/mesh-simple/MeshSimple.mjs","../../pixi.js/lib/scene/mesh/shared/getTextureDefaultMatrix.mjs","../../pixi.js/lib/scene/particle-container/shared/Particle.mjs","../../pixi.js/lib/scene/particle-container/shared/particleData.mjs","../../pixi.js/lib/scene/particle-container/shared/ParticleContainer.mjs","../../pixi.js/lib/scene/sprite-nine-slice/NineSliceSprite.mjs","../../pixi.js/lib/scene/text-bitmap/utils/bitmapTextSplit.mjs","../../pixi.js/lib/scene/text-split/AbstractSplitText.mjs","../../pixi.js/lib/scene/text-split/SplitBitmapText.mjs","../../pixi.js/lib/scene/text/utils/canvasTextSplit.mjs","../../pixi.js/lib/scene/text-split/SplitText.mjs","../../pixi.js/lib/scene/text/utils/generateTextStyleKey.mjs","../../pixi.js/lib/utils/logging/logDebugTexture.mjs","../../pixi.js/lib/utils/logging/logScene.mjs","../../pixi.js/lib/index.mjs"],"sourcesContent":["import { ExtensionType } from '../extensions/Extensions.mjs';\n\n\"use strict\";\nconst browserExt = {\n  extension: {\n    type: ExtensionType.Environment,\n    name: \"browser\",\n    priority: -1\n  },\n  test: () => true,\n  load: async () => {\n    await import('./browserAll.mjs');\n  }\n};\n\nexport { browserExt };\n//# sourceMappingURL=browserExt.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\n\n\"use strict\";\nconst webworkerExt = {\n  extension: {\n    type: ExtensionType.Environment,\n    name: \"webworker\",\n    priority: 0\n  },\n  test: () => typeof self !== \"undefined\" && self.WorkerGlobalScope !== void 0,\n  load: async () => {\n    await import('./webworkerAll.mjs');\n  }\n};\n\nexport { webworkerExt };\n//# sourceMappingURL=webworkerExt.mjs.map\n","var blendTemplateFrag = \"\\nin vec2 vTextureCoord;\\nin vec4 vColor;\\n\\nout vec4 finalColor;\\n\\nuniform float uBlend;\\n\\nuniform sampler2D uTexture;\\nuniform sampler2D uBackTexture;\\n\\n{FUNCTIONS}\\n\\nvoid main()\\n{ \\n    vec4 back = texture(uBackTexture, vTextureCoord);\\n    vec4 front = texture(uTexture, vTextureCoord);\\n    float blendedAlpha = front.a + back.a * (1.0 - front.a);\\n    \\n    {MAIN}\\n}\\n\";\n\nexport { blendTemplateFrag as default };\n//# sourceMappingURL=blend-template.frag.mjs.map\n","var blendTemplateVert = \"in vec2 aPosition;\\nout vec2 vTextureCoord;\\nout vec2 backgroundUv;\\n\\nuniform vec4 uInputSize;\\nuniform vec4 uOutputFrame;\\nuniform vec4 uOutputTexture;\\n\\nvec4 filterVertexPosition( void )\\n{\\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\\n    \\n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\\n\\n    return vec4(position, 0.0, 1.0);\\n}\\n\\nvec2 filterTextureCoord( void )\\n{\\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\\n}\\n\\nvoid main(void)\\n{\\n    gl_Position = filterVertexPosition();\\n    vTextureCoord = filterTextureCoord();\\n}\\n\";\n\nexport { blendTemplateVert as default };\n//# sourceMappingURL=blend-template.vert.mjs.map\n","var blendTemplate = \"\\nstruct GlobalFilterUniforms {\\n  uInputSize:vec4<f32>,\\n  uInputPixel:vec4<f32>,\\n  uInputClamp:vec4<f32>,\\n  uOutputFrame:vec4<f32>,\\n  uGlobalFrame:vec4<f32>,\\n  uOutputTexture:vec4<f32>,\\n};\\n\\nstruct BlendUniforms {\\n  uBlend:f32,\\n};\\n\\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\\n@group(0) @binding(2) var uSampler : sampler;\\n@group(0) @binding(3) var uBackTexture: texture_2d<f32>;\\n\\n@group(1) @binding(0) var<uniform> blendUniforms : BlendUniforms;\\n\\n\\nstruct VSOutput {\\n    @builtin(position) position: vec4<f32>,\\n    @location(0) uv : vec2<f32>\\n  };\\n\\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\\n{\\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\\n\\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\\n\\n    return vec4(position, 0.0, 1.0);\\n}\\n\\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\\n{\\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\\n}\\n\\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\\n{\\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  \\n}\\n  \\n@vertex\\nfn mainVertex(\\n  @location(0) aPosition : vec2<f32>, \\n) -> VSOutput {\\n  return VSOutput(\\n   filterVertexPosition(aPosition),\\n   filterTextureCoord(aPosition)\\n  );\\n}\\n\\n{FUNCTIONS}\\n\\n@fragment\\nfn mainFragment(\\n  @location(0) uv: vec2<f32>\\n) -> @location(0) vec4<f32> {\\n\\n\\n   var back =  textureSample(uBackTexture, uSampler, uv);\\n   var front = textureSample(uTexture, uSampler, uv);\\n   var blendedAlpha = front.a + back.a * (1.0 - front.a);\\n   \\n   var out = vec4<f32>(0.0,0.0,0.0,0.0);\\n\\n   {MAIN}\\n\\n   return out;\\n}\";\n\nexport { blendTemplate as default };\n//# sourceMappingURL=blend-template.wgsl.mjs.map\n","import { GlProgram } from '../../rendering/renderers/gl/shader/GlProgram.mjs';\nimport { GpuProgram } from '../../rendering/renderers/gpu/shader/GpuProgram.mjs';\nimport { UniformGroup } from '../../rendering/renderers/shared/shader/UniformGroup.mjs';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture.mjs';\nimport { Filter } from '../Filter.mjs';\nimport blendTemplateFrag from './blend-template.frag.mjs';\nimport blendTemplateVert from './blend-template.vert.mjs';\nimport blendTemplate from './blend-template.wgsl.mjs';\n\n\"use strict\";\nclass BlendModeFilter extends Filter {\n  constructor(options) {\n    const gpuOptions = options.gpu;\n    const gpuSource = compileBlendModeShader({ source: blendTemplate, ...gpuOptions });\n    const gpuProgram = GpuProgram.from({\n      vertex: {\n        source: gpuSource,\n        entryPoint: \"mainVertex\"\n      },\n      fragment: {\n        source: gpuSource,\n        entryPoint: \"mainFragment\"\n      }\n    });\n    const glOptions = options.gl;\n    const glSource = compileBlendModeShader({ source: blendTemplateFrag, ...glOptions });\n    const glProgram = GlProgram.from({\n      vertex: blendTemplateVert,\n      fragment: glSource\n    });\n    const uniformGroup = new UniformGroup({\n      uBlend: {\n        value: 1,\n        type: \"f32\"\n      }\n    });\n    super({\n      gpuProgram,\n      glProgram,\n      blendRequired: true,\n      resources: {\n        blendUniforms: uniformGroup,\n        uBackTexture: Texture.EMPTY\n      }\n    });\n  }\n}\nfunction compileBlendModeShader(options) {\n  const { source, functions, main } = options;\n  return source.replace(\"{FUNCTIONS}\", functions).replace(\"{MAIN}\", main);\n}\n\nexport { BlendModeFilter };\n//# sourceMappingURL=BlendModeFilter.mjs.map\n","\"use strict\";\nconst hslgl = `\n\tfloat getLuminosity(vec3 c) {\n\t\treturn 0.3 * c.r + 0.59 * c.g + 0.11 * c.b;\n\t}\n\n\tvec3 setLuminosity(vec3 c, float lum) {\n\t\tfloat modLum = lum - getLuminosity(c);\n\t\tvec3 color = c.rgb + vec3(modLum);\n\n\t\t// clip back into legal range\n\t\tmodLum = getLuminosity(color);\n\t\tvec3 modLumVec = vec3(modLum);\n\n\t\tfloat cMin = min(color.r, min(color.g, color.b));\n\t\tfloat cMax = max(color.r, max(color.g, color.b));\n\n\t\tif(cMin < 0.0) {\n\t\t\tcolor = mix(modLumVec, color, modLum / (modLum - cMin));\n\t\t}\n\n\t\tif(cMax > 1.0) {\n\t\t\tcolor = mix(modLumVec, color, (1.0 - modLum) / (cMax - modLum));\n\t\t}\n\n\t\treturn color;\n\t}\n\n\tfloat getSaturation(vec3 c) {\n\t\treturn max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));\n\t}\n\n\tvec3 setSaturationMinMidMax(vec3 cSorted, float s) {\n\t\tvec3 colorSorted = cSorted;\n\n\t\tif(colorSorted.z > colorSorted.x) {\n\t\t\tcolorSorted.y = (((colorSorted.y - colorSorted.x) * s) / (colorSorted.z - colorSorted.x));\n\t\t\tcolorSorted.z = s;\n\t\t}\n\t\telse {\n\t\t\tcolorSorted.y = 0.0;\n\t\t\tcolorSorted.z = 0.0;\n\t\t}\n\n\t\tcolorSorted.x = 0.0;\n\n\t\treturn colorSorted;\n\t}\n\n\tvec3 setSaturation(vec3 c, float s) {\n\t\tvec3 color = c;\n\n\t\tif(color.r <= color.g && color.r <= color.b) {\n\t\t\tif(color.g <= color.b) {\n\t\t\t\tcolor = setSaturationMinMidMax(color.rgb, s).rgb;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcolor = setSaturationMinMidMax(color.rbg, s).rbg;\n\t\t\t}\n\t\t}\n\t\telse if(color.g <= color.r && color.g <= color.b) {\n\t\t\tif(color.r <= color.b) {\n\t\t\t\tcolor = setSaturationMinMidMax(color.grb, s).grb;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcolor = setSaturationMinMidMax(color.gbr, s).gbr;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// Using bgr for both fixes part of hue\n\t\t\tif(color.r <= color.g) {\n\t\t\t\tcolor = setSaturationMinMidMax(color.brg, s).brg;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcolor = setSaturationMinMidMax(color.bgr, s).bgr;\n\t\t\t}\n\t\t}\n\n\t\treturn color;\n\t}\n    `;\n\nexport { hslgl };\n//# sourceMappingURL=GLhls.mjs.map\n","\"use strict\";\nconst hslgpu = `\n\tfn getLuminosity(c: vec3<f32>) -> f32\n\t{\n\t\treturn 0.3*c.r + 0.59*c.g + 0.11*c.b;\n\t}\n\n\tfn setLuminosity(c: vec3<f32>, lum: f32) -> vec3<f32>\n\t{\n\t\tvar modLum: f32 = lum - getLuminosity(c);\n\t\tvar color: vec3<f32> = c.rgb + modLum;\n\n\t\t// clip back into legal range\n\t\tmodLum = getLuminosity(color);\n\t\tlet modLumVec = vec3<f32>(modLum);\n\n\t\tlet cMin: f32 = min(color.r, min(color.g, color.b));\n\t\tlet cMax: f32 = max(color.r, max(color.g, color.b));\n\n\t\tif(cMin < 0.0)\n\t\t{\n\t\t\tcolor = mix(modLumVec, color, modLum / (modLum - cMin));\n\t\t}\n\n\t\tif(cMax > 1.0)\n\t\t{\n\t\t\tcolor = mix(modLumVec, color, (1 - modLum) / (cMax - modLum));\n\t\t}\n\n\t\treturn color;\n\t}\n\n\tfn getSaturation(c: vec3<f32>) -> f32\n\t{\n\t\treturn max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));\n\t}\n\n\tfn setSaturationMinMidMax(cSorted: vec3<f32>, s: f32) -> vec3<f32>\n\t{\n\t\tvar colorSorted = cSorted;\n\n\t\tif(colorSorted.z > colorSorted.x)\n\t\t{\n\t\t\tcolorSorted.y = (((colorSorted.y - colorSorted.x) * s) / (colorSorted.z - colorSorted.x));\n\t\t\tcolorSorted.z = s;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tcolorSorted.y = 0;\n\t\t\tcolorSorted.z = 0;\n\t\t}\n\n\t\tcolorSorted.x = 0;\n\n\t\treturn colorSorted;\n\t}\n\n\tfn setSaturation(c: vec3<f32>, s: f32) -> vec3<f32>\n\t{\n\t\tvar color = c;\n\n\t\tif (color.r <= color.g && color.r <= color.b)\n\t\t{\n\t\t\tif (color.g <= color.b)\n\t\t\t{\n\t\t\t\tcolor = vec3<f32>(setSaturationMinMidMax(color.rgb, s)).rgb;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcolor = vec3<f32>(setSaturationMinMidMax(color.rbg, s)).rbg;\n\t\t\t}\n\t\t}\n\t\telse if (color.g <= color.r && color.g <= color.b)\n\t\t{\n\t\t\tif (color.r <= color.b)\n\t\t\t{\n\t\t\t\tcolor = vec3<f32>(setSaturationMinMidMax(color.grb, s)).grb;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcolor = vec3<f32>(setSaturationMinMidMax(color.gbr, s)).gbr;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Using bgr for both fixes part of hue\n\t\t\tif (color.r <= color.g)\n\t\t\t{\n\t\t\t\tcolor = vec3<f32>(setSaturationMinMidMax(color.brg, s)).brg;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcolor  = vec3<f32>(setSaturationMinMidMax(color.bgr, s)).bgr;\n\t\t\t}\n\t\t}\n\n\t\treturn color;\n\t}\n\t`;\n\nexport { hslgpu };\n//# sourceMappingURL=GPUhls.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\nimport { hslgl } from '../filters/blend-modes/hls/GLhls.mjs';\nimport { hslgpu } from '../filters/blend-modes/hls/GPUhls.mjs';\n\n\"use strict\";\nclass ColorBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                ${hslgl}\n\n                vec3 blendColor(vec3 base, vec3 blend,  float opacity)\n                {\n                    return (setLuminosity(blend, getLuminosity(base)) * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                finalColor = vec4(blendColor(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                `\n      },\n      gpu: {\n        functions: `\n                ${hslgpu}\n\n                fn blendColorOpacity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    return (setLuminosity(blend, getLuminosity(base)) * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                out = vec4<f32>(blendColorOpacity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                `\n      }\n    });\n  }\n}\n/** @ignore */\nColorBlend.extension = {\n  name: \"color\",\n  type: ExtensionType.BlendMode\n};\n\nexport { ColorBlend };\n//# sourceMappingURL=ColorBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass ColorBurnBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                float colorBurn(float base, float blend)\n                {\n                    return max((1.0 - ((1.0 - base) / blend)), 0.0);\n                }\n\n                vec3 blendColorBurn(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        colorBurn(base.r, blend.r),\n                        colorBurn(base.g, blend.g),\n                        colorBurn(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                finalColor = vec4(blendColorBurn(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n            `\n      },\n      gpu: {\n        functions: `\n                fn colorBurn(base:f32, blend:f32) -> f32\n                {\n                    return max((1.0-((1.0-base)/blend)),0.0);\n                }\n\n                fn blendColorBurn(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        colorBurn(base.r, blend.r),\n                        colorBurn(base.g, blend.g),\n                        colorBurn(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                out = vec4<f32>(blendColorBurn(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            `\n      }\n    });\n  }\n}\n/** @ignore */\nColorBurnBlend.extension = {\n  name: \"color-burn\",\n  type: ExtensionType.BlendMode\n};\n\nexport { ColorBurnBlend };\n//# sourceMappingURL=ColorBurnBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass ColorDodgeBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                float colorDodge(float base, float blend)\n                {\n                    return base / (1.0 - blend);\n                }\n\n                vec3 blendColorDodge(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        colorDodge(base.r, blend.r),\n                        colorDodge(base.g, blend.g),\n                        colorDodge(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                finalColor = vec4(blendColorDodge(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                `\n      },\n      gpu: {\n        functions: `\n                fn colorDodge(base: f32, blend: f32) -> f32\n                {\n                    return base / (1.0 - blend);\n                }\n\n                fn blendColorDodge(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        colorDodge(base.r, blend.r),\n                        colorDodge(base.g, blend.g),\n                        colorDodge(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                    out = vec4<f32>(blendColorDodge(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                `\n      }\n    });\n  }\n}\n/** @ignore */\nColorDodgeBlend.extension = {\n  name: \"color-dodge\",\n  type: ExtensionType.BlendMode\n};\n\nexport { ColorDodgeBlend };\n//# sourceMappingURL=ColorDodgeBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass DarkenBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                vec3 blendDarken(vec3 base, vec3 blend, float opacity)\n                {\n                    return (min(base, blend) * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                finalColor = vec4(blendDarken(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                `\n      },\n      gpu: {\n        functions: `\n                fn blendDarken(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    return (min(blend,base) * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                out = vec4<f32>(blendDarken(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                `\n      }\n    });\n  }\n}\n/** @ignore */\nDarkenBlend.extension = {\n  name: \"darken\",\n  type: ExtensionType.BlendMode\n};\n\nexport { DarkenBlend };\n//# sourceMappingURL=DarkenBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass DifferenceBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                vec3 blendDifference(vec3 base, vec3 blend,  float opacity)\n                {\n                    return (abs(blend - base) * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                finalColor = vec4(blendDifference(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n            `\n      },\n      gpu: {\n        functions: `\n                fn blendDifference(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    return (abs(blend - base) * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                out = vec4<f32>(blendDifference(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            `\n      }\n    });\n  }\n}\n/** @ignore */\nDifferenceBlend.extension = {\n  name: \"difference\",\n  type: ExtensionType.BlendMode\n};\n\nexport { DifferenceBlend };\n//# sourceMappingURL=DifferenceBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass DivideBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                float divide(float base, float blend)\n                {\n                    return (blend > 0.0) ? clamp(base / blend, 0.0, 1.0) : 1.0;\n                }\n\n                vec3 blendDivide(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        divide(base.r, blend.r),\n                        divide(base.g, blend.g),\n                        divide(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                finalColor = vec4(blendDivide(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                `\n      },\n      gpu: {\n        functions: `\n                fn divide(base: f32, blend: f32) -> f32\n                {\n                    return select(1.0, clamp(base / blend, 0.0, 1.0), blend > 0.0);\n                }\n\n                fn blendDivide(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        divide(base.r, blend.r),\n                        divide(base.g, blend.g),\n                        divide(base.b, blend.b)\n                    );\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                out = vec4<f32>(blendDivide(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            `\n      }\n    });\n  }\n}\n/** @ignore */\nDivideBlend.extension = {\n  name: \"divide\",\n  type: ExtensionType.BlendMode\n};\n\nexport { DivideBlend };\n//# sourceMappingURL=DivideBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass ExclusionBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                vec3 exclusion(vec3 base, vec3 blend)\n                {\n                    return base + blend - 2.0 * base * blend;\n                }\n\n                vec3 blendExclusion(vec3 base, vec3 blend, float opacity)\n                {\n                    return (exclusion(base, blend) * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                finalColor = vec4(blendExclusion(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                `\n      },\n      gpu: {\n        functions: `\n                fn exclusion(base: vec3<f32>, blend: vec3<f32>) -> vec3<f32>\n                {\n                    return base+blend-2.0*base*blend;\n                }\n\n                fn blendExclusion(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    return (exclusion(base, blend) * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                out = vec4<f32>(blendExclusion(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            `\n      }\n    });\n  }\n}\n/** @ignore */\nExclusionBlend.extension = {\n  name: \"exclusion\",\n  type: ExtensionType.BlendMode\n};\n\nexport { ExclusionBlend };\n//# sourceMappingURL=ExclusionBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass HardLightBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                float hardLight(float base, float blend)\n                {\n                    return (blend < 0.5) ? 2.0 * base * blend : 1.0 - 2.0 * (1.0 - base) * (1.0 - blend);\n                }\n\n                vec3 blendHardLight(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        hardLight(base.r, blend.r),\n                        hardLight(base.g, blend.g),\n                        hardLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                finalColor = vec4(blendHardLight(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n            `\n      },\n      gpu: {\n        functions: `\n                fn hardLight(base: f32, blend: f32) -> f32\n                {\n                    return select(1.0 - 2.0 * (1.0 - base) * (1.0 - blend), 2.0 * base * blend, blend < 0.5);\n                }\n\n                fn blendHardLight(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        hardLight(base.r, blend.r),\n                        hardLight(base.g, blend.g),\n                        hardLight(base.b, blend.b)\n                    );\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                out = vec4<f32>(blendHardLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                `\n      }\n    });\n  }\n}\n/** @ignore */\nHardLightBlend.extension = {\n  name: \"hard-light\",\n  type: ExtensionType.BlendMode\n};\n\nexport { HardLightBlend };\n//# sourceMappingURL=HardLightBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass HardMixBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                float hardMix(float base, float blend)\n                {\n                    return (base + blend >= 1.0) ? 1.0 : 0.0;\n                }\n\n                vec3 blendHardMix(vec3 base, vec3 blend,  float opacity)\n                {\n                    vec3 blended = vec3(\n                        hardMix(base.r, blend.r),\n                        hardMix(base.g, blend.g),\n                        hardMix(base.b, blend.b)\n                    );\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                finalColor = vec4(blendHardMix(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n            `\n      },\n      gpu: {\n        functions: `\n                fn hardMix(base: f32, blend: f32) -> f32\n                {\n                    return select(0.0, 1.0, base + blend >= 1.0);\n                }\n\n                fn blendHardMix(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended: vec3<f32> = vec3<f32>(\n                        hardMix(base.r, blend.r),\n                        hardMix(base.g, blend.g),\n                        hardMix(base.b, blend.b)\n                    );\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                out = vec4<f32>(blendHardMix(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            `\n      }\n    });\n  }\n}\n/** @ignore */\nHardMixBlend.extension = {\n  name: \"hard-mix\",\n  type: ExtensionType.BlendMode\n};\n\nexport { HardMixBlend };\n//# sourceMappingURL=HardMixBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass LightenBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                vec3 blendLighten(vec3 base, vec3 blend, float opacity)\n                {\n                    return (max(base, blend) * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                finalColor = vec4(blendLighten(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                `\n      },\n      gpu: {\n        functions: `\n                fn blendLighten(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    return (max(base, blend) * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                out = vec4<f32>(blendLighten(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            `\n      }\n    });\n  }\n}\n/** @ignore */\nLightenBlend.extension = {\n  name: \"lighten\",\n  type: ExtensionType.BlendMode\n};\n\nexport { LightenBlend };\n//# sourceMappingURL=LightenBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass LinearBurnBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                float linearBurn(float base, float blend)\n                {\n                    return max(0.0, base + blend - 1.0);\n                }\n\n                vec3 blendLinearBurn(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        linearBurn(base.r, blend.r),\n                        linearBurn(base.g, blend.g),\n                        linearBurn(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                finalColor = vec4(blendLinearBurn(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                `\n      },\n      gpu: {\n        functions: `\n                fn linearBurn(base: f32, blend: f32) -> f32\n                {\n                    return max(0.0, base + blend - 1.0);\n                }\n\n                fn blendLinearBurn(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        linearBurn(base.r, blend.r),\n                        linearBurn(base.g, blend.g),\n                        linearBurn(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                out = vec4<f32>(blendLinearBurn(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                `\n      }\n    });\n  }\n}\n/** @ignore */\nLinearBurnBlend.extension = {\n  name: \"linear-burn\",\n  type: ExtensionType.BlendMode\n};\n\nexport { LinearBurnBlend };\n//# sourceMappingURL=LinearBurnBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass LinearDodgeBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                float linearDodge(float base, float blend) {\n                    return min(1.0, base + blend);\n                }\n\n                vec3 blendLinearDodge(vec3 base, vec3 blend, float opacity) {\n                    vec3 blended = vec3(\n                        linearDodge(base.r, blend.r),\n                        linearDodge(base.g, blend.g),\n                        linearDodge(base.b, blend.b)\n                    );\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                finalColor = vec4(blendLinearDodge(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                `\n      },\n      gpu: {\n        functions: `\n                fn linearDodge(base: f32, blend: f32) -> f32\n                {\n                    return min(1, base + blend);\n                }\n\n                fn blendLinearDodge(base:vec3<f32>, blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        linearDodge(base.r, blend.r),\n                        linearDodge(base.g, blend.g),\n                        linearDodge(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                out = vec4<f32>(blendLinearDodge(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            `\n      }\n    });\n  }\n}\n/** @ignore */\nLinearDodgeBlend.extension = {\n  name: \"linear-dodge\",\n  type: ExtensionType.BlendMode\n};\n\nexport { LinearDodgeBlend };\n//# sourceMappingURL=LinearDodgeBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass LinearLightBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                float linearBurn(float base, float blend) {\n                    return max(0.0, base + blend - 1.0);\n                }\n\n                float linearDodge(float base, float blend) {\n                    return min(1.0, base + blend);\n                }\n\n                float linearLight(float base, float blend) {\n                    return (blend <= 0.5) ? linearBurn(base,2.0*blend) : linearBurn(base,2.0*(blend-0.5));\n                }\n\n                vec3 blendLinearLight(vec3 base, vec3 blend, float opacity) {\n                    vec3 blended = vec3(\n                        linearLight(base.r, blend.r),\n                        linearLight(base.g, blend.g),\n                        linearLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                finalColor = vec4(blendLinearLight(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                `\n      },\n      gpu: {\n        functions: `\n                fn linearBurn(base: f32, blend: f32) -> f32\n                {\n                    return max(0.0, base + blend - 1.0);\n                }\n\n                fn linearDodge(base: f32, blend: f32) -> f32\n                {\n                    return min(1.0, base + blend);\n                }\n\n                fn linearLight(base: f32, blend: f32) -> f32\n                {\n                    return select(linearBurn(base,2.0*(blend-0.5)), linearBurn(base,2.0*blend), blend <= 0.5);\n                }\n\n                fn blendLinearLightOpacity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        linearLight(base.r, blend.r),\n                        linearLight(base.g, blend.g),\n                        linearLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                out = vec4<f32>(blendLinearLightOpacity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            `\n      }\n    });\n  }\n}\n/** @ignore */\nLinearLightBlend.extension = {\n  name: \"linear-light\",\n  type: ExtensionType.BlendMode\n};\n\nexport { LinearLightBlend };\n//# sourceMappingURL=LinearLightBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\nimport { hslgl } from '../filters/blend-modes/hls/GLhls.mjs';\nimport { hslgpu } from '../filters/blend-modes/hls/GPUhls.mjs';\n\n\"use strict\";\nclass LuminosityBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                ${hslgl}\n\n                vec3 blendLuminosity(vec3 base, vec3 blend,  float opacity)\n                {\n                    vec3 blendLuminosity = setLuminosity(base, getLuminosity(blend));\n                    return (blendLuminosity * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                finalColor = vec4(blendLuminosity(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                `\n      },\n      gpu: {\n        functions: `\n                ${hslgpu}\n\n                fn blendLuminosity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blendLuminosity: vec3<f32> = setLuminosity(base, getLuminosity(blend));\n                    return (blendLuminosity * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                out = vec4<f32>(blendLuminosity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            `\n      }\n    });\n  }\n}\n/** @ignore */\nLuminosityBlend.extension = {\n  name: \"luminosity\",\n  type: ExtensionType.BlendMode\n};\n\nexport { LuminosityBlend };\n//# sourceMappingURL=LuminosityBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass NegationBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                vec3 negation(vec3 base, vec3 blend)\n                {\n                    return 1.0-abs(1.0-base-blend);\n                }\n\n                vec3 blendNegation(vec3 base, vec3 blend, float opacity)\n                {\n                    return (negation(base, blend) * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                finalColor = vec4(blendNegation(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;\n                `\n      },\n      gpu: {\n        functions: `\n                fn blendNegation(base: vec3<f32>, blend: vec3<f32>) -> vec3<f32>\n                {\n                    return 1.0-abs(1.0-base-blend);\n                }\n\n                fn blendNegationOpacity(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    return (blendNegation(base, blend) * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                out = vec4<f32>(blendNegationOpacity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            `\n      }\n    });\n  }\n}\n/** @ignore */\nNegationBlend.extension = {\n  name: \"negation\",\n  type: ExtensionType.BlendMode\n};\n\nexport { NegationBlend };\n//# sourceMappingURL=NegationBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass OverlayBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                float overlay(float base, float blend)\n                {\n                    return (base < 0.5) ? (2.0*base*blend) : (1.0-2.0*(1.0-base)*(1.0-blend));\n                }\n\n                vec3 blendOverlay(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        overlay(base.r, blend.r),\n                        overlay(base.g, blend.g),\n                        overlay(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                finalColor = vec4(blendOverlay(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                `\n      },\n      gpu: {\n        functions: `\n                fn overlay(base: f32, blend: f32) -> f32\n                {\n                    return select((1.0-2.0*(1.0-base)*(1.0-blend)), (2.0*base*blend), base < 0.5);\n                }\n\n                fn blendOverlay(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        overlay(base.r, blend.r),\n                        overlay(base.g, blend.g),\n                        overlay(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                out = vec4<f32>(blendOverlay(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                `\n      }\n    });\n  }\n}\n/** @ignore */\nOverlayBlend.extension = {\n  name: \"overlay\",\n  type: ExtensionType.BlendMode\n};\n\nexport { OverlayBlend };\n//# sourceMappingURL=OverlayBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass PinLightBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                float pinLight(float base, float blend)\n                {\n                    return (blend <= 0.5) ? min(base, 2.0 * blend) : max(base, 2.0 * (blend - 0.5));\n                }\n\n                vec3 blendPinLight(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        pinLight(base.r, blend.r),\n                        pinLight(base.g, blend.g),\n                        pinLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                finalColor = vec4(blendPinLight(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;\n                `\n      },\n      gpu: {\n        functions: `\n                fn pinLight(base: f32, blend: f32) -> f32\n                {\n                    return select(max(base,2.0*(blend-0.5)), min(base,2.0*blend), blend <= 0.5);\n                }\n\n                fn blendPinLight(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        pinLight(base.r, blend.r),\n                        pinLight(base.g, blend.g),\n                        pinLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                out = vec4<f32>(blendPinLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                `\n      }\n    });\n  }\n}\n/** @ignore */\nPinLightBlend.extension = {\n  name: \"pin-light\",\n  type: ExtensionType.BlendMode\n};\n\nexport { PinLightBlend };\n//# sourceMappingURL=PinLightBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\nimport { hslgl } from '../filters/blend-modes/hls/GLhls.mjs';\nimport { hslgpu } from '../filters/blend-modes/hls/GPUhls.mjs';\n\n\"use strict\";\nclass SaturationBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                ${hslgl}\n\n                vec3 blendSaturation(vec3 base, vec3 blend,  float opacity)\n                {\n                    vec3 blendSaturation = setLuminosity(setSaturation(base, getSaturation(blend)), getLuminosity(base));\n                    return (blendSaturation * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                finalColor = vec4(blendSaturation(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;\n            `\n      },\n      gpu: {\n        functions: `\n                ${hslgpu}\n\n                fn blendSaturation(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blendSaturation = setLuminosity(setSaturation(base, getSaturation(blend)), getLuminosity(base));\n                    return (blendSaturation * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                out = vec4<f32>(blendSaturation(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            `\n      }\n    });\n  }\n}\n/** @ignore */\nSaturationBlend.extension = {\n  name: \"saturation\",\n  type: ExtensionType.BlendMode\n};\n\nexport { SaturationBlend };\n//# sourceMappingURL=SaturationBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass SoftLightBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                float softLight(float base, float blend)\n                {\n                    return (blend < 0.5) ? (2.0 * base * blend + base * base * (1.0 - 2.0 * blend)) : (sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend));\n                }\n\n                vec3 blendSoftLight(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        softLight(base.r, blend.r),\n                        softLight(base.g, blend.g),\n                        softLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                finalColor = vec4(blendSoftLight(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;\n                `\n      },\n      gpu: {\n        functions: `\n                fn softLight(base: f32, blend: f32) -> f32\n                {\n                    return select(2.0 * base * blend + base * base * (1.0 - 2.0 * blend), sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend), blend < 0.5);\n                }\n\n                fn blendSoftLight(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended: vec3<f32> = vec3<f32>(\n                        softLight(base.r, blend.r),\n                        softLight(base.g, blend.g),\n                        softLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                out = vec4<f32>(blendSoftLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                `\n      }\n    });\n  }\n}\n/** @ignore */\nSoftLightBlend.extension = {\n  name: \"soft-light\",\n  type: ExtensionType.BlendMode\n};\n\nexport { SoftLightBlend };\n//# sourceMappingURL=SoftLightBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass SubtractBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                float subtract(float base, float blend)\n                {\n                    return max(0.0, base - blend);\n                }\n\n                vec3 blendSubtract(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        subtract(base.r, blend.r),\n                        subtract(base.g, blend.g),\n                        subtract(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                finalColor = vec4(blendSubtract(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;\n                `\n      },\n      gpu: {\n        functions: `\n                fn subtract(base: f32, blend: f32) -> f32\n                {\n                    return max(0, base - blend);\n                }\n\n                fn blendSubtract(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        subtract(base.r, blend.r),\n                        subtract(base.g, blend.g),\n                        subtract(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                out = vec4<f32>(blendSubtract(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                `\n      }\n    });\n  }\n}\n/** @ignore */\nSubtractBlend.extension = {\n  name: \"subtract\",\n  type: ExtensionType.BlendMode\n};\n\nexport { SubtractBlend };\n//# sourceMappingURL=SubtractBlend.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { BlendModeFilter } from '../filters/blend-modes/BlendModeFilter.mjs';\n\n\"use strict\";\nclass VividLightBlend extends BlendModeFilter {\n  constructor() {\n    super({\n      gl: {\n        functions: `\n                float colorBurn(float base, float blend)\n                {\n                    return max((1.0-((1.0-base)/blend)),0.0);\n                }\n\n                float colorDodge(float base, float blend)\n                {\n                    return min(1.0, base / (1.0-blend));\n                }\n\n                float vividLight(float base, float blend)\n                {\n                    return (blend < 0.5) ? colorBurn(base,(2.0*blend)) : colorDodge(base,(2.0*(blend-0.5)));\n                }\n\n                vec3 blendVividLight(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        vividLight(base.r, blend.r),\n                        vividLight(base.g, blend.g),\n                        vividLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            `,\n        main: `\n                finalColor = vec4(blendVividLight(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n            `\n      },\n      gpu: {\n        functions: `\n                fn colorBurn(base:f32, blend:f32) -> f32\n                {\n                    return max((1.0-((1.0-base)/blend)),0.0);\n                }\n\n                fn colorDodge(base: f32, blend: f32) -> f32\n                {\n                    return min(1.0, base / (1.0-blend));\n                }\n\n                fn vividLight(base: f32, blend: f32) -> f32\n                {\n                    return select(colorDodge(base,(2.0*(blend-0.5))), colorBurn(base,(2.0*blend)), blend<0.5);\n                }\n\n                fn blendVividLight(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended: vec3<f32> = vec3<f32>(\n                        vividLight(base.r, blend.r),\n                        vividLight(base.g, blend.g),\n                        vividLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                `,\n        main: `\n                out = vec4<f32>(blendVividLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                `\n      }\n    });\n  }\n}\n/** @ignore */\nVividLightBlend.extension = {\n  name: \"vivid-light\",\n  type: ExtensionType.BlendMode\n};\n\nexport { VividLightBlend };\n//# sourceMappingURL=VividLightBlend.mjs.map\n","import { DOMAdapter } from '../../environment/adapter.mjs';\nimport { AbstractRenderer } from '../../rendering/renderers/shared/system/AbstractRenderer.mjs';\n\n\"use strict\";\nlet _isWebGLSupported;\nfunction isWebGLSupported(failIfMajorPerformanceCaveat) {\n  if (_isWebGLSupported !== void 0)\n    return _isWebGLSupported;\n  _isWebGLSupported = (() => {\n    const contextOptions = {\n      stencil: true,\n      failIfMajorPerformanceCaveat: failIfMajorPerformanceCaveat ?? AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat\n    };\n    try {\n      if (!DOMAdapter.get().getWebGLRenderingContext()) {\n        return false;\n      }\n      const canvas = DOMAdapter.get().createCanvas();\n      let gl = canvas.getContext(\"webgl\", contextOptions);\n      const success = !!gl?.getContextAttributes()?.stencil;\n      if (gl) {\n        const loseContext = gl.getExtension(\"WEBGL_lose_context\");\n        if (loseContext) {\n          loseContext.loseContext();\n        }\n      }\n      gl = null;\n      return success;\n    } catch (_e) {\n      return false;\n    }\n  })();\n  return _isWebGLSupported;\n}\n\nexport { isWebGLSupported };\n//# sourceMappingURL=isWebGLSupported.mjs.map\n","import { DOMAdapter } from '../../environment/adapter.mjs';\n\n\"use strict\";\nlet _isWebGPUSupported;\nasync function isWebGPUSupported(options = {}) {\n  if (_isWebGPUSupported !== void 0)\n    return _isWebGPUSupported;\n  _isWebGPUSupported = await (async () => {\n    const gpu = DOMAdapter.get().getNavigator().gpu;\n    if (!gpu) {\n      return false;\n    }\n    try {\n      const adapter = await gpu.requestAdapter(options);\n      await adapter.requestDevice();\n      return true;\n    } catch (_e) {\n      return false;\n    }\n  })();\n  return _isWebGPUSupported;\n}\n\nexport { isWebGPUSupported };\n//# sourceMappingURL=isWebGPUSupported.mjs.map\n","import { isWebGLSupported } from '../../utils/browser/isWebGLSupported.mjs';\nimport { isWebGPUSupported } from '../../utils/browser/isWebGPUSupported.mjs';\nimport { AbstractRenderer } from './shared/system/AbstractRenderer.mjs';\n\n\"use strict\";\nconst renderPriority = [\"webgl\", \"webgpu\", \"canvas\"];\nasync function autoDetectRenderer(options) {\n  let preferredOrder = [];\n  if (options.preference) {\n    preferredOrder.push(options.preference);\n    renderPriority.forEach((item) => {\n      if (item !== options.preference) {\n        preferredOrder.push(item);\n      }\n    });\n  } else {\n    preferredOrder = renderPriority.slice();\n  }\n  let RendererClass;\n  let finalOptions = {};\n  for (let i = 0; i < preferredOrder.length; i++) {\n    const rendererType = preferredOrder[i];\n    if (rendererType === \"webgpu\" && await isWebGPUSupported()) {\n      const { WebGPURenderer } = await import('./gpu/WebGPURenderer.mjs');\n      RendererClass = WebGPURenderer;\n      finalOptions = { ...options, ...options.webgpu };\n      break;\n    } else if (rendererType === \"webgl\" && isWebGLSupported(\n      options.failIfMajorPerformanceCaveat ?? AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat\n    )) {\n      const { WebGLRenderer } = await import('./gl/WebGLRenderer.mjs');\n      RendererClass = WebGLRenderer;\n      finalOptions = { ...options, ...options.webgl };\n      break;\n    } else if (rendererType === \"canvas\") {\n      finalOptions = { ...options };\n      throw new Error(\"CanvasRenderer is not yet implemented\");\n    }\n  }\n  delete finalOptions.webgpu;\n  delete finalOptions.webgl;\n  if (!RendererClass) {\n    throw new Error(\"No available renderer for the current environment\");\n  }\n  const renderer = new RendererClass();\n  await renderer.init(finalOptions);\n  return renderer;\n}\n\nexport { autoDetectRenderer };\n//# sourceMappingURL=autoDetectRenderer.mjs.map\n","import { extensions, ExtensionType } from '../extensions/Extensions.mjs';\nimport { autoDetectRenderer } from '../rendering/renderers/autoDetectRenderer.mjs';\nimport { Container } from '../scene/container/Container.mjs';\nimport { ApplicationInitHook } from '../utils/global/globalHooks.mjs';\nimport { deprecation, v8_0_0 } from '../utils/logging/deprecation.mjs';\n\n\"use strict\";\nconst _Application = class _Application {\n  constructor(...args) {\n    /**\n     * The root display container for your application.\n     * All visual elements should be added to this container or its children.\n     * @example\n     * ```js\n     * // Create a sprite and add it to the stage\n     * const sprite = Sprite.from('image.png');\n     * app.stage.addChild(sprite);\n     *\n     * // Create a container for grouping objects\n     * const container = new Container();\n     * app.stage.addChild(container);\n     * ```\n     */\n    this.stage = new Container();\n    if (args[0] !== void 0) {\n      deprecation(v8_0_0, \"Application constructor options are deprecated, please use Application.init() instead.\");\n    }\n  }\n  /**\n   * Initializes the PixiJS application with the specified options.\n   *\n   * This method must be called after creating a new Application instance.\n   * @param options - Configuration options for the application and renderer\n   * @returns A promise that resolves when initialization is complete\n   * @example\n   * ```js\n   * const app = new Application();\n   *\n   * // Initialize with custom options\n   * await app.init({\n   *     width: 800,\n   *     height: 600,\n   *     backgroundColor: 0x1099bb,\n   *     preference: 'webgl', // or 'webgpu'\n   * });\n   * ```\n   */\n  async init(options) {\n    options = { ...options };\n    this.renderer = await autoDetectRenderer(options);\n    _Application._plugins.forEach((plugin) => {\n      plugin.init.call(this, options);\n    });\n  }\n  /**\n   * Renders the current stage to the screen.\n   *\n   * When using the default setup with {@link TickerPlugin} (enabled by default), you typically don't need to call\n   * this method directly as rendering is handled automatically.\n   *\n   * Only use this method if you've disabled the {@link TickerPlugin} or need custom\n   * render timing control.\n   * @example\n   * ```js\n   * // Example 1: Default setup (TickerPlugin handles rendering)\n   * const app = new Application();\n   * await app.init();\n   * // No need to call render() - TickerPlugin handles it\n   *\n   * // Example 2: Custom rendering loop (if TickerPlugin is disabled)\n   * const app = new Application();\n   * await app.init({ autoStart: false }); // Disable automatic rendering\n   *\n   * function animate() {\n   *     app.render();\n   *     requestAnimationFrame(animate);\n   * }\n   * animate();\n   * ```\n   */\n  render() {\n    this.renderer.render({ container: this.stage });\n  }\n  /**\n   * Reference to the renderer's canvas element. This is the HTML element\n   * that displays your application's graphics.\n   * @readonly\n   * @type {HTMLCanvasElement}\n   * @example\n   * ```js\n   * // Create a new application\n   * const app = new Application();\n   * // Initialize the application\n   * await app.init({...});\n   * // Add canvas to the page\n   * document.body.appendChild(app.canvas);\n   *\n   * // Access the canvas directly\n   * console.log(app.canvas); // HTMLCanvasElement\n   * ```\n   */\n  get canvas() {\n    return this.renderer.canvas;\n  }\n  /**\n   * Reference to the renderer's canvas element.\n   * @type {HTMLCanvasElement}\n   * @deprecated since 8.0.0\n   * @see {@link Application#canvas}\n   */\n  get view() {\n    deprecation(v8_0_0, \"Application.view is deprecated, please use Application.canvas instead.\");\n    return this.renderer.canvas;\n  }\n  /**\n   * Reference to the renderer's screen rectangle. This represents the visible area of your application.\n   *\n   * It's commonly used for:\n   * - Setting filter areas for full-screen effects\n   * - Defining hit areas for screen-wide interaction\n   * - Determining the visible bounds of your application\n   * @readonly\n   * @example\n   * ```js\n   * // Use as filter area for a full-screen effect\n   * const blurFilter = new BlurFilter();\n   * sprite.filterArea = app.screen;\n   *\n   * // Use as hit area for screen-wide interaction\n   * const screenSprite = new Sprite();\n   * screenSprite.hitArea = app.screen;\n   *\n   * // Get screen dimensions\n   * console.log(app.screen.width, app.screen.height);\n   * ```\n   * @see {@link Rectangle} For all available properties and methods\n   */\n  get screen() {\n    return this.renderer.screen;\n  }\n  /**\n   * Destroys the application and all of its resources.\n   *\n   * This method should be called when you want to completely\n   * clean up the application and free all associated memory.\n   * @param rendererDestroyOptions - Options for destroying the renderer:\n   *  - `false` or `undefined`: Preserves the canvas element (default)\n   *  - `true`: Removes the canvas element\n   *  - `{ removeView: boolean }`: Object with removeView property to control canvas removal\n   * @param options - Options for destroying the application:\n   *  - `false` or `undefined`: Basic cleanup (default)\n   *  - `true`: Complete cleanup including children\n   *  - Detailed options object:\n   *    - `children`: Remove children\n   *    - `texture`: Destroy textures\n   *    - `textureSource`: Destroy texture sources\n   *    - `context`: Destroy WebGL context\n   * @example\n   * ```js\n   * // Basic cleanup\n   * app.destroy();\n   *\n   * // Remove canvas and do complete cleanup\n   * app.destroy(true, true);\n   *\n   * // Remove canvas with explicit options\n   * app.destroy({ removeView: true }, true);\n   *\n   * // Detailed cleanup with specific options\n   * app.destroy(\n   *     { removeView: true },\n   *     {\n   *         children: true,\n   *         texture: true,\n   *         textureSource: true,\n   *         context: true\n   *     }\n   * );\n   * ```\n   * > [!WARNING] After calling destroy, the application instance should no longer be used.\n   * > All properties will be null and further operations will throw errors.\n   */\n  destroy(rendererDestroyOptions = false, options = false) {\n    const plugins = _Application._plugins.slice(0);\n    plugins.reverse();\n    plugins.forEach((plugin) => {\n      plugin.destroy.call(this);\n    });\n    this.stage.destroy(options);\n    this.stage = null;\n    this.renderer.destroy(rendererDestroyOptions);\n    this.renderer = null;\n  }\n};\n/**\n * Collection of installed plugins.\n * @internal\n */\n_Application._plugins = [];\nlet Application = _Application;\nextensions.handleByList(ExtensionType.Application, Application._plugins);\nextensions.add(ApplicationInitHook);\n\nexport { Application };\n//# sourceMappingURL=Application.mjs.map\n","import { groupD8 } from '../../maths/matrix/groupD8.mjs';\nimport { Rectangle } from '../../maths/shapes/Rectangle.mjs';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture.mjs';\nimport { AbstractBitmapFont } from './AbstractBitmapFont.mjs';\nimport { BitmapFontManager } from './BitmapFontManager.mjs';\n\n\"use strict\";\nclass BitmapFont extends AbstractBitmapFont {\n  constructor(options, url) {\n    super();\n    const { textures, data } = options;\n    Object.keys(data.pages).forEach((key) => {\n      const pageData = data.pages[parseInt(key, 10)];\n      const texture = textures[pageData.id];\n      this.pages.push({ texture });\n    });\n    Object.keys(data.chars).forEach((key) => {\n      const charData = data.chars[key];\n      const {\n        frame: textureFrame,\n        source: textureSource,\n        rotate: textureRotate\n      } = textures[charData.page];\n      const frame = groupD8.transformRectCoords(\n        charData,\n        textureFrame,\n        textureRotate,\n        new Rectangle()\n      );\n      const texture = new Texture({\n        frame,\n        orig: new Rectangle(0, 0, charData.width, charData.height),\n        source: textureSource,\n        rotate: textureRotate\n      });\n      this.chars[key] = {\n        id: key.codePointAt(0),\n        xOffset: charData.xOffset,\n        yOffset: charData.yOffset,\n        xAdvance: charData.xAdvance,\n        kerning: charData.kerning ?? {},\n        texture\n      };\n    });\n    this.baseRenderedFontSize = data.fontSize;\n    this.baseMeasurementFontSize = data.fontSize;\n    this.fontMetrics = {\n      ascent: 0,\n      descent: 0,\n      fontSize: data.fontSize\n    };\n    this.baseLineOffset = data.baseLineOffset;\n    this.lineHeight = data.lineHeight;\n    this.fontFamily = data.fontFamily;\n    this.distanceField = data.distanceField ?? {\n      type: \"none\",\n      range: 0\n    };\n    this.url = url;\n  }\n  /** Destroys the BitmapFont object. */\n  destroy() {\n    super.destroy();\n    for (let i = 0; i < this.pages.length; i++) {\n      const { texture } = this.pages[i];\n      texture.destroy(true);\n    }\n    this.pages = null;\n  }\n  /**\n   * Generates and installs a bitmap font with the specified options.\n   * The font will be cached and available for use in BitmapText objects.\n   * @param options - Setup options for font generation\n   * @returns Installed font instance\n   * @example\n   * ```ts\n   * // Install a basic font\n   * BitmapFont.install({\n   *     name: 'Title',\n   *     style: {\n   *         fontFamily: 'Arial',\n   *         fontSize: 32,\n   *         fill: '#ffffff'\n   *     }\n   * });\n   *\n   * // Install with advanced options\n   * BitmapFont.install({\n   *     name: 'Custom',\n   *     style: {\n   *         fontFamily: 'Arial',\n   *         fontSize: 24,\n   *         fill: '#00ff00',\n   *         stroke: { color: '#000000', width: 2 }\n   *     },\n   *     chars: [['a', 'z'], ['A', 'Z'], ['0', '9']],\n   *     resolution: 2,\n   *     padding: 4,\n   *     textureStyle: {\n   *         scaleMode: 'nearest'\n   *     }\n   * });\n   * ```\n   */\n  static install(options) {\n    BitmapFontManager.install(options);\n  }\n  /**\n   * Uninstalls a bitmap font from the cache.\n   * This frees up memory and resources associated with the font.\n   * @param name - The name of the bitmap font to uninstall\n   * @example\n   * ```ts\n   * // Remove a font when it's no longer needed\n   * BitmapFont.uninstall('MyCustomFont');\n   *\n   * // Clear multiple fonts\n   * ['Title', 'Heading', 'Body'].forEach(BitmapFont.uninstall);\n   * ```\n   */\n  static uninstall(name) {\n    BitmapFontManager.uninstall(name);\n  }\n}\n\nexport { BitmapFont };\n//# sourceMappingURL=BitmapFont.mjs.map\n","\"use strict\";\nconst bitmapFontTextParser = {\n  test(data) {\n    return typeof data === \"string\" && data.startsWith(\"info face=\");\n  },\n  parse(txt) {\n    const items = txt.match(/^[a-z]+\\s+.+$/gm);\n    const rawData = {\n      info: [],\n      common: [],\n      page: [],\n      char: [],\n      chars: [],\n      kerning: [],\n      kernings: [],\n      distanceField: []\n    };\n    for (const i in items) {\n      const name = items[i].match(/^[a-z]+/gm)[0];\n      const attributeList = items[i].match(/[a-zA-Z]+=([^\\s\"']+|\"([^\"]*)\")/gm);\n      const itemData = {};\n      for (const i2 in attributeList) {\n        const split = attributeList[i2].split(\"=\");\n        const key = split[0];\n        const strValue = split[1].replace(/\"/gm, \"\");\n        const floatValue = parseFloat(strValue);\n        const value = isNaN(floatValue) ? strValue : floatValue;\n        itemData[key] = value;\n      }\n      rawData[name].push(itemData);\n    }\n    const font = {\n      chars: {},\n      pages: [],\n      lineHeight: 0,\n      fontSize: 0,\n      fontFamily: \"\",\n      distanceField: null,\n      baseLineOffset: 0\n    };\n    const [info] = rawData.info;\n    const [common] = rawData.common;\n    const [distanceField] = rawData.distanceField ?? [];\n    if (distanceField) {\n      font.distanceField = {\n        range: parseInt(distanceField.distanceRange, 10),\n        type: distanceField.fieldType\n      };\n    }\n    font.fontSize = parseInt(info.size, 10);\n    font.fontFamily = info.face;\n    font.lineHeight = parseInt(common.lineHeight, 10);\n    const page = rawData.page;\n    for (let i = 0; i < page.length; i++) {\n      font.pages.push({\n        id: parseInt(page[i].id, 10) || 0,\n        file: page[i].file\n      });\n    }\n    const map = {};\n    font.baseLineOffset = font.lineHeight - parseInt(common.base, 10);\n    const char = rawData.char;\n    for (let i = 0; i < char.length; i++) {\n      const charNode = char[i];\n      const id = parseInt(charNode.id, 10);\n      let letter = charNode.letter ?? charNode.char ?? String.fromCharCode(id);\n      if (letter === \"space\")\n        letter = \" \";\n      map[id] = letter;\n      font.chars[letter] = {\n        id,\n        // texture deets..\n        page: parseInt(charNode.page, 10) || 0,\n        x: parseInt(charNode.x, 10),\n        y: parseInt(charNode.y, 10),\n        width: parseInt(charNode.width, 10),\n        height: parseInt(charNode.height, 10),\n        xOffset: parseInt(charNode.xoffset, 10),\n        yOffset: parseInt(charNode.yoffset, 10),\n        xAdvance: parseInt(charNode.xadvance, 10),\n        kerning: {}\n      };\n    }\n    const kerning = rawData.kerning || [];\n    for (let i = 0; i < kerning.length; i++) {\n      const first = parseInt(kerning[i].first, 10);\n      const second = parseInt(kerning[i].second, 10);\n      const amount = parseInt(kerning[i].amount, 10);\n      font.chars[map[second]].kerning[map[first]] = amount;\n    }\n    return font;\n  }\n};\n\nexport { bitmapFontTextParser };\n//# sourceMappingURL=bitmapFontTextParser.mjs.map\n","\"use strict\";\nconst bitmapFontXMLParser = {\n  test(data) {\n    const xml = data;\n    return typeof xml !== \"string\" && \"getElementsByTagName\" in xml && xml.getElementsByTagName(\"page\").length && xml.getElementsByTagName(\"info\")[0].getAttribute(\"face\") !== null;\n  },\n  parse(xml) {\n    const data = {\n      chars: {},\n      pages: [],\n      lineHeight: 0,\n      fontSize: 0,\n      fontFamily: \"\",\n      distanceField: null,\n      baseLineOffset: 0\n    };\n    const info = xml.getElementsByTagName(\"info\")[0];\n    const common = xml.getElementsByTagName(\"common\")[0];\n    const distanceField = xml.getElementsByTagName(\"distanceField\")[0];\n    if (distanceField) {\n      data.distanceField = {\n        type: distanceField.getAttribute(\"fieldType\"),\n        range: parseInt(distanceField.getAttribute(\"distanceRange\"), 10)\n      };\n    }\n    const page = xml.getElementsByTagName(\"page\");\n    const char = xml.getElementsByTagName(\"char\");\n    const kerning = xml.getElementsByTagName(\"kerning\");\n    data.fontSize = parseInt(info.getAttribute(\"size\"), 10);\n    data.fontFamily = info.getAttribute(\"face\");\n    data.lineHeight = parseInt(common.getAttribute(\"lineHeight\"), 10);\n    for (let i = 0; i < page.length; i++) {\n      data.pages.push({\n        id: parseInt(page[i].getAttribute(\"id\"), 10) || 0,\n        file: page[i].getAttribute(\"file\")\n      });\n    }\n    const map = {};\n    data.baseLineOffset = data.lineHeight - parseInt(common.getAttribute(\"base\"), 10);\n    for (let i = 0; i < char.length; i++) {\n      const charNode = char[i];\n      const id = parseInt(charNode.getAttribute(\"id\"), 10);\n      let letter = charNode.getAttribute(\"letter\") ?? charNode.getAttribute(\"char\") ?? String.fromCharCode(id);\n      if (letter === \"space\")\n        letter = \" \";\n      map[id] = letter;\n      data.chars[letter] = {\n        id,\n        // texture deets..\n        page: parseInt(charNode.getAttribute(\"page\"), 10) || 0,\n        x: parseInt(charNode.getAttribute(\"x\"), 10),\n        y: parseInt(charNode.getAttribute(\"y\"), 10),\n        width: parseInt(charNode.getAttribute(\"width\"), 10),\n        height: parseInt(charNode.getAttribute(\"height\"), 10),\n        // render deets..\n        xOffset: parseInt(charNode.getAttribute(\"xoffset\"), 10),\n        yOffset: parseInt(charNode.getAttribute(\"yoffset\"), 10),\n        // + baseLineOffset,\n        xAdvance: parseInt(charNode.getAttribute(\"xadvance\"), 10),\n        kerning: {}\n      };\n    }\n    for (let i = 0; i < kerning.length; i++) {\n      const first = parseInt(kerning[i].getAttribute(\"first\"), 10);\n      const second = parseInt(kerning[i].getAttribute(\"second\"), 10);\n      const amount = parseInt(kerning[i].getAttribute(\"amount\"), 10);\n      data.chars[map[second]].kerning[map[first]] = amount;\n    }\n    return data;\n  }\n};\n\nexport { bitmapFontXMLParser };\n//# sourceMappingURL=bitmapFontXMLParser.mjs.map\n","import { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { bitmapFontXMLParser } from './bitmapFontXMLParser.mjs';\n\n\"use strict\";\nconst bitmapFontXMLStringParser = {\n  test(data) {\n    if (typeof data === \"string\" && data.includes(\"<font>\")) {\n      return bitmapFontXMLParser.test(DOMAdapter.get().parseXML(data));\n    }\n    return false;\n  },\n  parse(data) {\n    return bitmapFontXMLParser.parse(DOMAdapter.get().parseXML(data));\n  }\n};\n\nexport { bitmapFontXMLStringParser };\n//# sourceMappingURL=bitmapFontXMLStringParser.mjs.map\n","import { LoaderParserPriority } from '../../../assets/loader/parsers/LoaderParser.mjs';\nimport { copySearchParams } from '../../../assets/utils/copySearchParams.mjs';\nimport { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { path } from '../../../utils/path.mjs';\nimport { BitmapFont } from '../BitmapFont.mjs';\nimport { bitmapFontTextParser } from './bitmapFontTextParser.mjs';\nimport { bitmapFontXMLStringParser } from './bitmapFontXMLStringParser.mjs';\n\n\"use strict\";\nconst validExtensions = [\".xml\", \".fnt\"];\nconst bitmapFontCachePlugin = {\n  extension: {\n    type: ExtensionType.CacheParser,\n    name: \"cacheBitmapFont\"\n  },\n  test: (asset) => asset instanceof BitmapFont,\n  getCacheableAssets(keys, asset) {\n    const out = {};\n    keys.forEach((key) => {\n      out[key] = asset;\n      out[`${key}-bitmap`] = asset;\n    });\n    out[`${asset.fontFamily}-bitmap`] = asset;\n    return out;\n  }\n};\nconst loadBitmapFont = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Normal\n  },\n  /** used for deprecation purposes */\n  name: \"loadBitmapFont\",\n  id: \"bitmap-font\",\n  test(url) {\n    return validExtensions.includes(path.extname(url).toLowerCase());\n  },\n  async testParse(data) {\n    return bitmapFontTextParser.test(data) || bitmapFontXMLStringParser.test(data);\n  },\n  async parse(asset, data, loader) {\n    const bitmapFontData = bitmapFontTextParser.test(asset) ? bitmapFontTextParser.parse(asset) : bitmapFontXMLStringParser.parse(asset);\n    const { src } = data;\n    const { pages } = bitmapFontData;\n    const textureUrls = [];\n    const textureOptions = bitmapFontData.distanceField ? {\n      scaleMode: \"linear\",\n      alphaMode: \"premultiply-alpha-on-upload\",\n      autoGenerateMipmaps: false,\n      resolution: 1\n    } : {};\n    for (let i = 0; i < pages.length; ++i) {\n      const pageFile = pages[i].file;\n      let imagePath = path.join(path.dirname(src), pageFile);\n      imagePath = copySearchParams(imagePath, src);\n      textureUrls.push({\n        src: imagePath,\n        data: textureOptions\n      });\n    }\n    const loadedTextures = await loader.load(textureUrls);\n    const textures = textureUrls.map((url) => loadedTextures[url.src]);\n    const bitmapFont = new BitmapFont({\n      data: bitmapFontData,\n      textures\n    }, src);\n    return bitmapFont;\n  },\n  async load(url, _options) {\n    const response = await DOMAdapter.get().fetch(url);\n    return await response.text();\n  },\n  async unload(bitmapFont, _resolvedAsset, loader) {\n    await Promise.all(bitmapFont.pages.map((page) => loader.unload(page.texture.source._sourceOrigin)));\n    bitmapFont.destroy();\n  }\n};\n\nexport { bitmapFontCachePlugin, loadBitmapFont };\n//# sourceMappingURL=loadBitmapFont.mjs.map\n","\"use strict\";\nclass BackgroundLoader {\n  /**\n   * @param loader\n   * @param verbose - should the loader log to the console\n   */\n  constructor(loader, verbose = false) {\n    this._loader = loader;\n    this._assetList = [];\n    this._isLoading = false;\n    this._maxConcurrent = 1;\n    this.verbose = verbose;\n  }\n  /**\n   * Adds assets to the background loading queue. Assets are loaded one at a time to minimize\n   * performance impact.\n   * @param assetUrls - Array of resolved assets to load in the background\n   * @example\n   * ```ts\n   * // Add assets to background load queue\n   * backgroundLoader.add([\n   *     { src: 'images/level1/bg.png' },\n   *     { src: 'images/level1/characters.json' }\n   * ]);\n   *\n   * // Assets will load sequentially in the background\n   * // The loader automatically pauses when high-priority loads occur\n   * // e.g. Assets.load() is called\n   * ```\n   * @remarks\n   * - Assets are loaded one at a time to minimize performance impact\n   * - Loading automatically pauses when Assets.load() is called\n   * - No progress tracking is available for background loading\n   * - Assets are cached as they complete loading\n   * @internal\n   */\n  add(assetUrls) {\n    assetUrls.forEach((a) => {\n      this._assetList.push(a);\n    });\n    if (this.verbose) {\n      console.log(\"[BackgroundLoader] assets: \", this._assetList);\n    }\n    if (this._isActive && !this._isLoading) {\n      void this._next();\n    }\n  }\n  /**\n   * Loads the next set of assets. Will try to load as many assets as it can at the same time.\n   *\n   * The max assets it will try to load at one time will be 4.\n   */\n  async _next() {\n    if (this._assetList.length && this._isActive) {\n      this._isLoading = true;\n      const toLoad = [];\n      const toLoadAmount = Math.min(this._assetList.length, this._maxConcurrent);\n      for (let i = 0; i < toLoadAmount; i++) {\n        toLoad.push(this._assetList.pop());\n      }\n      await this._loader.load(toLoad);\n      this._isLoading = false;\n      void this._next();\n    }\n  }\n  /**\n   * Controls the active state of the background loader. When active, the loader will\n   * continue processing its queue. When inactive, loading is paused.\n   * @returns Whether the background loader is currently active\n   * @example\n   * ```ts\n   * // Pause background loading\n   * backgroundLoader.active = false;\n   *\n   * // Resume background loading\n   * backgroundLoader.active = true;\n   *\n   * // Check current state\n   * console.log(backgroundLoader.active); // true/false\n   *\n   * // Common use case: Pause during intensive operations\n   * backgroundLoader.active = false;  // Pause background loading\n   * ... // Perform high-priority tasks\n   * backgroundLoader.active = true;   // Resume background loading\n   * ```\n   * @remarks\n   * - Setting to true resumes loading immediately\n   * - Setting to false pauses after current asset completes\n   * - Background loading is automatically paused during `Assets.load()`\n   * - Assets already being loaded will complete even when set to false\n   */\n  get active() {\n    return this._isActive;\n  }\n  set active(value) {\n    if (this._isActive === value)\n      return;\n    this._isActive = value;\n    if (value && !this._isLoading) {\n      void this._next();\n    }\n  }\n}\n\nexport { BackgroundLoader };\n//# sourceMappingURL=BackgroundLoader.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture.mjs';\n\n\"use strict\";\nconst cacheTextureArray = {\n  extension: {\n    type: ExtensionType.CacheParser,\n    name: \"cacheTextureArray\"\n  },\n  test: (asset) => Array.isArray(asset) && asset.every((t) => t instanceof Texture),\n  getCacheableAssets: (keys, asset) => {\n    const out = {};\n    keys.forEach((key) => {\n      asset.forEach((item, i) => {\n        out[key + (i === 0 ? \"\" : i + 1)] = item;\n      });\n    });\n    return out;\n  }\n};\n\nexport { cacheTextureArray };\n//# sourceMappingURL=cacheTextureArray.mjs.map\n","\"use strict\";\nasync function testImageFormat(imageData) {\n  if (\"Image\" in globalThis) {\n    return new Promise((resolve) => {\n      const image = new Image();\n      image.onload = () => {\n        resolve(true);\n      };\n      image.onerror = () => {\n        resolve(false);\n      };\n      image.src = imageData;\n    });\n  }\n  if (\"createImageBitmap\" in globalThis && \"fetch\" in globalThis) {\n    try {\n      const blob = await (await fetch(imageData)).blob();\n      await createImageBitmap(blob);\n    } catch (_e) {\n      return false;\n    }\n    return true;\n  }\n  return false;\n}\n\nexport { testImageFormat };\n//# sourceMappingURL=testImageFormat.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { testImageFormat } from '../utils/testImageFormat.mjs';\n\n\"use strict\";\nconst detectAvif = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 1\n  },\n  test: async () => testImageFormat(\n    // eslint-disable-next-line max-len\n    \"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=\"\n  ),\n  add: async (formats) => [...formats, \"avif\"],\n  remove: async (formats) => formats.filter((f) => f !== \"avif\")\n};\n\nexport { detectAvif };\n//# sourceMappingURL=detectAvif.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\n\n\"use strict\";\nconst imageFormats = [\"png\", \"jpg\", \"jpeg\"];\nconst detectDefaults = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: -1\n  },\n  test: () => Promise.resolve(true),\n  add: async (formats) => [...formats, ...imageFormats],\n  remove: async (formats) => formats.filter((f) => !imageFormats.includes(f))\n};\n\nexport { detectDefaults };\n//# sourceMappingURL=detectDefaults.mjs.map\n","\"use strict\";\nconst inWorker = \"WorkerGlobalScope\" in globalThis && globalThis instanceof globalThis.WorkerGlobalScope;\nfunction testVideoFormat(mimeType) {\n  if (inWorker) {\n    return false;\n  }\n  const video = document.createElement(\"video\");\n  return video.canPlayType(mimeType) !== \"\";\n}\n\nexport { testVideoFormat };\n//# sourceMappingURL=testVideoFormat.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { testVideoFormat } from '../utils/testVideoFormat.mjs';\n\n\"use strict\";\nconst detectMp4 = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 0\n  },\n  test: async () => testVideoFormat(\"video/mp4\"),\n  add: async (formats) => [...formats, \"mp4\", \"m4v\"],\n  remove: async (formats) => formats.filter((f) => f !== \"mp4\" && f !== \"m4v\")\n};\n\nexport { detectMp4 };\n//# sourceMappingURL=detectMp4.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { testVideoFormat } from '../utils/testVideoFormat.mjs';\n\n\"use strict\";\nconst detectOgv = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 0\n  },\n  test: async () => testVideoFormat(\"video/ogg\"),\n  add: async (formats) => [...formats, \"ogv\"],\n  remove: async (formats) => formats.filter((f) => f !== \"ogv\")\n};\n\nexport { detectOgv };\n//# sourceMappingURL=detectOgv.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { testVideoFormat } from '../utils/testVideoFormat.mjs';\n\n\"use strict\";\nconst detectWebm = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 0\n  },\n  test: async () => testVideoFormat(\"video/webm\"),\n  add: async (formats) => [...formats, \"webm\"],\n  remove: async (formats) => formats.filter((f) => f !== \"webm\")\n};\n\nexport { detectWebm };\n//# sourceMappingURL=detectWebm.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { testImageFormat } from '../utils/testImageFormat.mjs';\n\n\"use strict\";\nconst detectWebp = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 0\n  },\n  test: async () => testImageFormat(\n    \"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=\"\n  ),\n  add: async (formats) => [...formats, \"webp\"],\n  remove: async (formats) => formats.filter((f) => f !== \"webp\")\n};\n\nexport { detectWebp };\n//# sourceMappingURL=detectWebp.mjs.map\n","import { warn } from '../../utils/logging/warn.mjs';\nimport { path } from '../../utils/path.mjs';\nimport { convertToList } from '../utils/convertToList.mjs';\nimport { isSingleItem } from '../utils/isSingleItem.mjs';\n\n\"use strict\";\nconst _Loader = class _Loader {\n  constructor() {\n    /**\n     * Options for loading assets with the loader.\n     * These options will be used as defaults for all load calls made with this loader instance.\n     * They can be overridden by passing options directly to the load method.\n     * @example\n     * ```ts\n     * // Create a loader with custom default options\n     * const loader = new Loader();\n     * loader.loadOptions = {\n     *   strategy: 'skip', // Default strategy to 'skip'\n     *   retryCount: 5,   // Default retry count to 5\n     *   retryDelay: 500, // Default retry delay to 500ms\n     * };\n     *\n     * // This load call will use the loader's default options\n     * await loader.load('image1.png');\n     */\n    this.loadOptions = { ..._Loader.defaultOptions };\n    this._parsers = [];\n    this._parsersValidated = false;\n    /**\n     * All loader parsers registered\n     * @type {assets.LoaderParser[]}\n     */\n    this.parsers = new Proxy(this._parsers, {\n      set: (target, key, value) => {\n        this._parsersValidated = false;\n        target[key] = value;\n        return true;\n      }\n    });\n    /** Cache loading promises that ae currently active */\n    this.promiseCache = {};\n  }\n  /** function used for testing */\n  reset() {\n    this._parsersValidated = false;\n    this.promiseCache = {};\n  }\n  /**\n   * Used internally to generate a promise for the asset to be loaded.\n   * @param url - The URL to be loaded\n   * @param data - any custom additional information relevant to the asset being loaded\n   * @returns - a promise that will resolve to an Asset for example a Texture of a JSON object\n   */\n  _getLoadPromiseAndParser(url, data) {\n    const result = {\n      promise: null,\n      parser: null\n    };\n    result.promise = (async () => {\n      let asset = null;\n      let parser = null;\n      if (data.parser || data.loadParser) {\n        parser = this._parserHash[data.parser || data.loadParser];\n        if (data.loadParser) {\n          warn(\n            `[Assets] \"loadParser\" is deprecated, use \"parser\" instead for ${url}`\n          );\n        }\n        if (!parser) {\n          warn(\n            `[Assets] specified load parser \"${data.parser || data.loadParser}\" not found while loading ${url}`\n          );\n        }\n      }\n      if (!parser) {\n        for (let i = 0; i < this.parsers.length; i++) {\n          const parserX = this.parsers[i];\n          if (parserX.load && parserX.test?.(url, data, this)) {\n            parser = parserX;\n            break;\n          }\n        }\n        if (!parser) {\n          warn(`[Assets] ${url} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`);\n          return null;\n        }\n      }\n      asset = await parser.load(url, data, this);\n      result.parser = parser;\n      for (let i = 0; i < this.parsers.length; i++) {\n        const parser2 = this.parsers[i];\n        if (parser2.parse) {\n          if (parser2.parse && await parser2.testParse?.(asset, data, this)) {\n            asset = await parser2.parse(asset, data, this) || asset;\n            result.parser = parser2;\n          }\n        }\n      }\n      return asset;\n    })();\n    return result;\n  }\n  async load(assetsToLoadIn, onProgressOrOptions) {\n    if (!this._parsersValidated) {\n      this._validateParsers();\n    }\n    const options = typeof onProgressOrOptions === \"function\" ? { ..._Loader.defaultOptions, ...this.loadOptions, onProgress: onProgressOrOptions } : { ..._Loader.defaultOptions, ...this.loadOptions, ...onProgressOrOptions || {} };\n    const { onProgress, onError, strategy, retryCount, retryDelay } = options;\n    let count = 0;\n    const assets = {};\n    const singleAsset = isSingleItem(assetsToLoadIn);\n    const assetsToLoad = convertToList(assetsToLoadIn, (item) => ({\n      alias: [item],\n      src: item,\n      data: {}\n    }));\n    const total = assetsToLoad.reduce((sum, asset) => sum + (asset.progressSize || 1), 0);\n    const promises = assetsToLoad.map(async (asset) => {\n      const url = path.toAbsolute(asset.src);\n      if (assets[asset.src])\n        return;\n      await this._loadAssetWithRetry(url, asset, { onProgress, onError, strategy, retryCount, retryDelay }, assets);\n      count += asset.progressSize || 1;\n      if (onProgress)\n        onProgress(count / total);\n    });\n    await Promise.all(promises);\n    return singleAsset ? assets[assetsToLoad[0].src] : assets;\n  }\n  /**\n   * Unloads one or more assets. Any unloaded assets will be destroyed, freeing up memory for your app.\n   * The parser that created the asset, will be the one that unloads it.\n   * @example\n   * // Single asset:\n   * const asset = await Loader.load('cool.png');\n   *\n   * await Loader.unload('cool.png');\n   *\n   * console.log(asset.destroyed); // true\n   * @param assetsToUnloadIn - urls that you want to unload, or a single one!\n   */\n  async unload(assetsToUnloadIn) {\n    const assetsToUnload = convertToList(assetsToUnloadIn, (item) => ({\n      alias: [item],\n      src: item\n    }));\n    const promises = assetsToUnload.map(async (asset) => {\n      const url = path.toAbsolute(asset.src);\n      const loadPromise = this.promiseCache[url];\n      if (loadPromise) {\n        const loadedAsset = await loadPromise.promise;\n        delete this.promiseCache[url];\n        await loadPromise.parser?.unload?.(loadedAsset, asset, this);\n      }\n    });\n    await Promise.all(promises);\n  }\n  /** validates our parsers, right now it only checks for name conflicts but we can add more here as required! */\n  _validateParsers() {\n    this._parsersValidated = true;\n    this._parserHash = this._parsers.filter((parser) => parser.name || parser.id).reduce((hash, parser) => {\n      if (!parser.name && !parser.id) {\n        warn(`[Assets] parser should have an id`);\n      } else if (hash[parser.name] || hash[parser.id]) {\n        warn(`[Assets] parser id conflict \"${parser.id}\"`);\n      }\n      hash[parser.name] = parser;\n      if (parser.id)\n        hash[parser.id] = parser;\n      return hash;\n    }, {});\n  }\n  async _loadAssetWithRetry(url, asset, options, assets) {\n    let attempt = 0;\n    const { onError, strategy, retryCount, retryDelay } = options;\n    const wait = (ms) => new Promise((r) => setTimeout(r, ms));\n    while (true) {\n      try {\n        if (!this.promiseCache[url]) {\n          this.promiseCache[url] = this._getLoadPromiseAndParser(url, asset);\n        }\n        assets[asset.src] = await this.promiseCache[url].promise;\n        return;\n      } catch (e) {\n        delete this.promiseCache[url];\n        delete assets[asset.src];\n        attempt++;\n        const isLast = strategy !== \"retry\" || attempt > retryCount;\n        if (strategy === \"retry\" && !isLast) {\n          if (onError)\n            onError(e, asset);\n          await wait(retryDelay);\n          continue;\n        }\n        if (strategy === \"skip\") {\n          if (onError)\n            onError(e, asset);\n          return;\n        }\n        if (onError)\n          onError(e, asset);\n        throw new Error(`[Loader.load] Failed to load ${url}.\n${e}`);\n      }\n    }\n  }\n};\n/**\n * Default options for loading assets\n * @example\n * ```ts\n * // Change default load options globally\n * Loader.defaultOptions = {\n *   strategy: 'skip', // Change default strategy to 'skip'\n *   retryCount: 5,   // Change default retry count to 5\n *   retryDelay: 500, // Change default retry delay to 500ms\n * };\n * ```\n */\n_Loader.defaultOptions = {\n  onProgress: void 0,\n  onError: void 0,\n  strategy: \"throw\",\n  retryCount: 3,\n  retryDelay: 250\n};\nlet Loader = _Loader;\n\nexport { Loader };\n//# sourceMappingURL=Loader.mjs.map\n","\"use strict\";\nfunction checkDataUrl(url, mimes) {\n  if (Array.isArray(mimes)) {\n    for (const mime of mimes) {\n      if (url.startsWith(`data:${mime}`))\n        return true;\n    }\n    return false;\n  }\n  return url.startsWith(`data:${mimes}`);\n}\n\nexport { checkDataUrl };\n//# sourceMappingURL=checkDataUrl.mjs.map\n","import { path } from '../../utils/path.mjs';\n\n\"use strict\";\nfunction checkExtension(url, extension) {\n  const tempURL = url.split(\"?\")[0];\n  const ext = path.extname(tempURL).toLowerCase();\n  if (Array.isArray(extension)) {\n    return extension.includes(ext);\n  }\n  return ext === extension;\n}\n\nexport { checkExtension };\n//# sourceMappingURL=checkExtension.mjs.map\n","import { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { checkDataUrl } from '../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../utils/checkExtension.mjs';\nimport { LoaderParserPriority } from './LoaderParser.mjs';\n\n\"use strict\";\nconst validJSONExtension = \".json\";\nconst validJSONMIME = \"application/json\";\nconst loadJson = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low\n  },\n  /** used for deprecation purposes */\n  name: \"loadJson\",\n  id: \"json\",\n  test(url) {\n    return checkDataUrl(url, validJSONMIME) || checkExtension(url, validJSONExtension);\n  },\n  async load(url) {\n    const response = await DOMAdapter.get().fetch(url);\n    const json = await response.json();\n    return json;\n  }\n};\n\nexport { loadJson };\n//# sourceMappingURL=loadJson.mjs.map\n","import { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { checkDataUrl } from '../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../utils/checkExtension.mjs';\nimport { LoaderParserPriority } from './LoaderParser.mjs';\n\n\"use strict\";\nconst validTXTExtension = \".txt\";\nconst validTXTMIME = \"text/plain\";\nconst loadTxt = {\n  /** used for deprecation purposes */\n  name: \"loadTxt\",\n  id: \"text\",\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low,\n    name: \"loadTxt\"\n  },\n  test(url) {\n    return checkDataUrl(url, validTXTMIME) || checkExtension(url, validTXTExtension);\n  },\n  async load(url) {\n    const response = await DOMAdapter.get().fetch(url);\n    const txt = await response.text();\n    return txt;\n  }\n};\n\nexport { loadTxt };\n//# sourceMappingURL=loadTxt.mjs.map\n","import { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { warn } from '../../../utils/logging/warn.mjs';\nimport { path } from '../../../utils/path.mjs';\nimport { Cache } from '../../cache/Cache.mjs';\nimport { checkDataUrl } from '../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../utils/checkExtension.mjs';\nimport { LoaderParserPriority } from './LoaderParser.mjs';\n\n\"use strict\";\nconst validWeights = [\n  \"normal\",\n  \"bold\",\n  \"100\",\n  \"200\",\n  \"300\",\n  \"400\",\n  \"500\",\n  \"600\",\n  \"700\",\n  \"800\",\n  \"900\"\n];\nconst validFontExtensions = [\".ttf\", \".otf\", \".woff\", \".woff2\"];\nconst validFontMIMEs = [\n  \"font/ttf\",\n  \"font/otf\",\n  \"font/woff\",\n  \"font/woff2\"\n];\nconst CSS_IDENT_TOKEN_REGEX = /^(--|-?[A-Z_])[0-9A-Z_-]*$/i;\nfunction getFontFamilyName(url) {\n  const ext = path.extname(url);\n  const name = path.basename(url, ext);\n  const nameWithSpaces = name.replace(/(-|_)/g, \" \");\n  const nameTokens = nameWithSpaces.toLowerCase().split(\" \").map((word) => word.charAt(0).toUpperCase() + word.slice(1));\n  let valid = nameTokens.length > 0;\n  for (const token of nameTokens) {\n    if (!token.match(CSS_IDENT_TOKEN_REGEX)) {\n      valid = false;\n      break;\n    }\n  }\n  let fontFamilyName = nameTokens.join(\" \");\n  if (!valid) {\n    fontFamilyName = `\"${fontFamilyName.replace(/[\\\\\"]/g, \"\\\\$&\")}\"`;\n  }\n  return fontFamilyName;\n}\nconst validURICharactersRegex = /^[0-9A-Za-z%:/?#\\[\\]@!\\$&'()\\*\\+,;=\\-._~]*$/;\nfunction encodeURIWhenNeeded(uri) {\n  if (validURICharactersRegex.test(uri)) {\n    return uri;\n  }\n  return encodeURI(uri);\n}\nconst loadWebFont = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low\n  },\n  /** used for deprecation purposes */\n  name: \"loadWebFont\",\n  id: \"web-font\",\n  test(url) {\n    return checkDataUrl(url, validFontMIMEs) || checkExtension(url, validFontExtensions);\n  },\n  async load(url, options) {\n    const fonts = DOMAdapter.get().getFontFaceSet();\n    if (fonts) {\n      const fontFaces = [];\n      const name = options.data?.family ?? getFontFamilyName(url);\n      const weights = options.data?.weights?.filter((weight) => validWeights.includes(weight)) ?? [\"normal\"];\n      const data = options.data ?? {};\n      for (let i = 0; i < weights.length; i++) {\n        const weight = weights[i];\n        const font = new FontFace(name, `url(${encodeURIWhenNeeded(url)})`, {\n          ...data,\n          weight\n        });\n        await font.load();\n        fonts.add(font);\n        fontFaces.push(font);\n      }\n      if (Cache.has(`${name}-and-url`)) {\n        const cached = Cache.get(`${name}-and-url`);\n        cached.entries.push({ url, faces: fontFaces });\n      } else {\n        Cache.set(`${name}-and-url`, {\n          entries: [{ url, faces: fontFaces }]\n        });\n      }\n      return fontFaces.length === 1 ? fontFaces[0] : fontFaces;\n    }\n    warn(\"[loadWebFont] FontFace API is not supported. Skipping loading font\");\n    return null;\n  },\n  unload(font) {\n    const fonts = Array.isArray(font) ? font : [font];\n    const fontFamily = fonts[0].family;\n    const cached = Cache.get(`${fontFamily}-and-url`);\n    const entry = cached.entries.find((f) => f.faces.some((t) => fonts.indexOf(t) !== -1));\n    entry.faces = entry.faces.filter((f) => fonts.indexOf(f) === -1);\n    if (entry.faces.length === 0) {\n      cached.entries = cached.entries.filter((f) => f !== entry);\n    }\n    fonts.forEach((t) => {\n      DOMAdapter.get().getFontFaceSet().delete(t);\n    });\n    if (cached.entries.length === 0) {\n      Cache.remove(`${fontFamily}-and-url`);\n    }\n  }\n};\n\nexport { getFontFamilyName, loadWebFont };\n//# sourceMappingURL=loadWebFont.mjs.map\n","import { Resolver } from '../../assets/resolver/Resolver.mjs';\n\n\"use strict\";\nfunction getResolutionOfUrl(url, defaultValue = 1) {\n  const resolution = Resolver.RETINA_PREFIX?.exec(url);\n  if (resolution) {\n    return parseFloat(resolution[1]);\n  }\n  return defaultValue;\n}\n\nexport { getResolutionOfUrl };\n//# sourceMappingURL=getResolutionOfUrl.mjs.map\n","import { Texture } from '../../../../../rendering/renderers/shared/texture/Texture.mjs';\nimport { warn } from '../../../../../utils/logging/warn.mjs';\nimport { Cache } from '../../../../cache/Cache.mjs';\n\n\"use strict\";\nfunction createTexture(source, loader, url) {\n  source.label = url;\n  source._sourceOrigin = url;\n  const texture = new Texture({\n    source,\n    label: url\n  });\n  const unload = () => {\n    delete loader.promiseCache[url];\n    if (Cache.has(url)) {\n      Cache.remove(url);\n    }\n  };\n  texture.source.once(\"destroy\", () => {\n    if (loader.promiseCache[url]) {\n      warn(\"[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource.\");\n      unload();\n    }\n  });\n  texture.once(\"destroy\", () => {\n    if (!source.destroyed) {\n      warn(\"[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture.\");\n      unload();\n    }\n  });\n  return texture;\n}\n\nexport { createTexture };\n//# sourceMappingURL=createTexture.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { ImageSource } from '../../../../rendering/renderers/shared/texture/sources/ImageSource.mjs';\nimport { GraphicsContext } from '../../../../scene/graphics/shared/GraphicsContext.mjs';\nimport { getResolutionOfUrl } from '../../../../utils/network/getResolutionOfUrl.mjs';\nimport { checkDataUrl } from '../../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../../utils/checkExtension.mjs';\nimport { LoaderParserPriority } from '../LoaderParser.mjs';\nimport { createTexture } from './utils/createTexture.mjs';\n\n\"use strict\";\nconst validSVGExtension = \".svg\";\nconst validSVGMIME = \"image/svg+xml\";\nconst loadSvg = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low,\n    name: \"loadSVG\"\n  },\n  /** used for deprecation purposes */\n  name: \"loadSVG\",\n  id: \"svg\",\n  config: {\n    crossOrigin: \"anonymous\",\n    parseAsGraphicsContext: false\n  },\n  test(url) {\n    return checkDataUrl(url, validSVGMIME) || checkExtension(url, validSVGExtension);\n  },\n  async load(url, asset, loader) {\n    if (asset.data?.parseAsGraphicsContext ?? this.config.parseAsGraphicsContext) {\n      return loadAsGraphics(url);\n    }\n    return loadAsTexture(url, asset, loader, this.config.crossOrigin);\n  },\n  unload(asset) {\n    asset.destroy(true);\n  }\n};\nasync function loadAsTexture(url, asset, loader, crossOrigin) {\n  const response = await DOMAdapter.get().fetch(url);\n  const image = DOMAdapter.get().createImage();\n  image.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(await response.text())}`;\n  image.crossOrigin = crossOrigin;\n  await image.decode();\n  const width = asset.data?.width ?? image.width;\n  const height = asset.data?.height ?? image.height;\n  const resolution = asset.data?.resolution || getResolutionOfUrl(url);\n  const canvasWidth = Math.ceil(width * resolution);\n  const canvasHeight = Math.ceil(height * resolution);\n  const canvas = DOMAdapter.get().createCanvas(canvasWidth, canvasHeight);\n  const context = canvas.getContext(\"2d\");\n  context.imageSmoothingEnabled = true;\n  context.imageSmoothingQuality = \"high\";\n  context.drawImage(image, 0, 0, width * resolution, height * resolution);\n  const { parseAsGraphicsContext: _p, ...rest } = asset.data ?? {};\n  const base = new ImageSource({\n    resource: canvas,\n    alphaMode: \"premultiply-alpha-on-upload\",\n    resolution,\n    ...rest\n  });\n  return createTexture(base, loader, url);\n}\nasync function loadAsGraphics(url) {\n  const response = await DOMAdapter.get().fetch(url);\n  const svgSource = await response.text();\n  const context = new GraphicsContext();\n  context.svg(svgSource);\n  return context;\n}\n\nexport { loadSvg };\n//# sourceMappingURL=loadSVG.mjs.map\n","const WORKER_CODE = \"(function () {\\n    'use strict';\\n\\n    const WHITE_PNG = \\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=\\\";\\n    async function checkImageBitmap() {\\n      try {\\n        if (typeof createImageBitmap !== \\\"function\\\")\\n          return false;\\n        const response = await fetch(WHITE_PNG);\\n        const imageBlob = await response.blob();\\n        const imageBitmap = await createImageBitmap(imageBlob);\\n        return imageBitmap.width === 1 && imageBitmap.height === 1;\\n      } catch (_e) {\\n        return false;\\n      }\\n    }\\n    void checkImageBitmap().then((result) => {\\n      self.postMessage(result);\\n    });\\n\\n})();\\n\";\nlet WORKER_URL = null;\nclass WorkerInstance\n{\n    constructor()\n    {\n        if (!WORKER_URL)\n        {\n            WORKER_URL = URL.createObjectURL(new Blob([WORKER_CODE], { type: 'application/javascript' }));\n        }\n        this.worker = new Worker(WORKER_URL);\n    }\n}\nWorkerInstance.revokeObjectURL = function revokeObjectURL()\n{\n    if (WORKER_URL)\n    {\n        URL.revokeObjectURL(WORKER_URL);\n        WORKER_URL = null;\n    }\n};\n\nexport { WorkerInstance as default };\n//# sourceMappingURL=checkImageBitmap.worker.mjs.map\n","const WORKER_CODE = \"(function () {\\n    'use strict';\\n\\n    async function loadImageBitmap(url, alphaMode) {\\n      const response = await fetch(url);\\n      if (!response.ok) {\\n        throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\\n      }\\n      const imageBlob = await response.blob();\\n      return alphaMode === \\\"premultiplied-alpha\\\" ? createImageBitmap(imageBlob, { premultiplyAlpha: \\\"none\\\" }) : createImageBitmap(imageBlob);\\n    }\\n    self.onmessage = async (event) => {\\n      try {\\n        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);\\n        self.postMessage({\\n          data: imageBitmap,\\n          uuid: event.data.uuid,\\n          id: event.data.id\\n        }, [imageBitmap]);\\n      } catch (e) {\\n        self.postMessage({\\n          error: e,\\n          uuid: event.data.uuid,\\n          id: event.data.id\\n        });\\n      }\\n    };\\n\\n})();\\n\";\nlet WORKER_URL = null;\nclass WorkerInstance\n{\n    constructor()\n    {\n        if (!WORKER_URL)\n        {\n            WORKER_URL = URL.createObjectURL(new Blob([WORKER_CODE], { type: 'application/javascript' }));\n        }\n        this.worker = new Worker(WORKER_URL);\n    }\n}\nWorkerInstance.revokeObjectURL = function revokeObjectURL()\n{\n    if (WORKER_URL)\n    {\n        URL.revokeObjectURL(WORKER_URL);\n        WORKER_URL = null;\n    }\n};\n\nexport { WorkerInstance as default };\n//# sourceMappingURL=loadImageBitmap.worker.mjs.map\n","import WorkerInstance from '../../../_virtual/checkImageBitmap.worker.mjs';\nimport WorkerInstance$1 from '../../../_virtual/loadImageBitmap.worker.mjs';\n\n\"use strict\";\nlet UUID = 0;\nlet MAX_WORKERS;\nclass WorkerManagerClass {\n  constructor() {\n    /** Whether the worker manager has been initialized */\n    this._initialized = false;\n    /** Current number of created workers (used to enforce MAX_WORKERS limit) */\n    this._createdWorkers = 0;\n    this._workerPool = [];\n    this._queue = [];\n    this._resolveHash = {};\n  }\n  /**\n   * Checks if ImageBitmap is supported in the current environment.\n   *\n   * This method uses a dedicated worker to test ImageBitmap support\n   * and caches the result for subsequent calls.\n   * @returns Promise that resolves to true if ImageBitmap is supported, false otherwise\n   */\n  isImageBitmapSupported() {\n    if (this._isImageBitmapSupported !== void 0)\n      return this._isImageBitmapSupported;\n    this._isImageBitmapSupported = new Promise((resolve) => {\n      const { worker } = new WorkerInstance();\n      worker.addEventListener(\"message\", (event) => {\n        worker.terminate();\n        WorkerInstance.revokeObjectURL();\n        resolve(event.data);\n      });\n    });\n    return this._isImageBitmapSupported;\n  }\n  /**\n   * Loads an image as an ImageBitmap using a web worker.\n   * @param src - The source URL or path of the image to load\n   * @param asset - Optional resolved asset containing additional texture source options\n   * @returns Promise that resolves to the loaded ImageBitmap\n   * @example\n   * ```typescript\n   * const bitmap = await WorkerManager.loadImageBitmap('image.png');\n   * const bitmapWithOptions = await WorkerManager.loadImageBitmap('image.png', asset);\n   * ```\n   */\n  loadImageBitmap(src, asset) {\n    return this._run(\"loadImageBitmap\", [src, asset?.data?.alphaMode]);\n  }\n  /**\n   * Initializes the worker pool if not already initialized.\n   * Currently a no-op but reserved for future initialization logic.\n   */\n  async _initWorkers() {\n    if (this._initialized)\n      return;\n    this._initialized = true;\n  }\n  /**\n   * Gets an available worker from the pool or creates a new one if needed.\n   *\n   * Workers are created up to the MAX_WORKERS limit (based on navigator.hardwareConcurrency).\n   * Each worker is configured with a message handler for processing results.\n   * @returns Available worker or undefined if pool is at capacity and no workers are free\n   */\n  _getWorker() {\n    if (MAX_WORKERS === void 0) {\n      MAX_WORKERS = navigator.hardwareConcurrency || 4;\n    }\n    let worker = this._workerPool.pop();\n    if (!worker && this._createdWorkers < MAX_WORKERS) {\n      this._createdWorkers++;\n      worker = new WorkerInstance$1().worker;\n      worker.addEventListener(\"message\", (event) => {\n        this._complete(event.data);\n        this._returnWorker(event.target);\n        this._next();\n      });\n    }\n    return worker;\n  }\n  /**\n   * Returns a worker to the pool after completing a task.\n   * @param worker - The worker to return to the pool\n   */\n  _returnWorker(worker) {\n    this._workerPool.push(worker);\n  }\n  /**\n   * Handles completion of a worker task by resolving or rejecting the corresponding promise.\n   * @param data - Result data from the worker containing uuid, data, and optional error\n   */\n  _complete(data) {\n    if (data.error !== void 0) {\n      this._resolveHash[data.uuid].reject(data.error);\n    } else {\n      this._resolveHash[data.uuid].resolve(data.data);\n    }\n    this._resolveHash[data.uuid] = null;\n  }\n  /**\n   * Executes a task using the worker pool system.\n   *\n   * Queues the task and processes it when a worker becomes available.\n   * @param id - Identifier for the type of task to run\n   * @param args - Arguments to pass to the worker\n   * @returns Promise that resolves with the worker's result\n   */\n  async _run(id, args) {\n    await this._initWorkers();\n    const promise = new Promise((resolve, reject) => {\n      this._queue.push({ id, arguments: args, resolve, reject });\n    });\n    this._next();\n    return promise;\n  }\n  /**\n   * Processes the next item in the queue if workers are available.\n   *\n   * This method is called after worker initialization and when workers\n   * complete tasks to continue processing the queue.\n   */\n  _next() {\n    if (!this._queue.length)\n      return;\n    const worker = this._getWorker();\n    if (!worker) {\n      return;\n    }\n    const toDo = this._queue.pop();\n    const id = toDo.id;\n    this._resolveHash[UUID] = { resolve: toDo.resolve, reject: toDo.reject };\n    worker.postMessage({\n      data: toDo.arguments,\n      uuid: UUID++,\n      id\n    });\n  }\n  /**\n   * Resets the worker manager, terminating all workers and clearing the queue.\n   *\n   * This method:\n   * - Terminates all active workers\n   * - Rejects all pending promises with an error\n   * - Clears all internal state\n   * - Resets initialization flags\n   *\n   * This should be called when the worker manager is no longer needed\n   * to prevent memory leaks and ensure proper cleanup.\n   * @example\n   * ```typescript\n   * // Clean up when shutting down\n   * WorkerManager.reset();\n   * ```\n   */\n  reset() {\n    this._workerPool.forEach((worker) => worker.terminate());\n    this._workerPool.length = 0;\n    Object.values(this._resolveHash).forEach(({ reject }) => {\n      reject?.(new Error(\"WorkerManager destroyed\"));\n    });\n    this._resolveHash = {};\n    this._queue.length = 0;\n    this._initialized = false;\n    this._createdWorkers = 0;\n  }\n}\nconst WorkerManager = new WorkerManagerClass();\n\nexport { WorkerManager };\n//# sourceMappingURL=WorkerManager.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { ImageSource } from '../../../../rendering/renderers/shared/texture/sources/ImageSource.mjs';\nimport { getResolutionOfUrl } from '../../../../utils/network/getResolutionOfUrl.mjs';\nimport { checkDataUrl } from '../../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../../utils/checkExtension.mjs';\nimport { WorkerManager } from '../../workers/WorkerManager.mjs';\nimport { LoaderParserPriority } from '../LoaderParser.mjs';\nimport { createTexture } from './utils/createTexture.mjs';\n\n\"use strict\";\nconst validImageExtensions = [\".jpeg\", \".jpg\", \".png\", \".webp\", \".avif\"];\nconst validImageMIMEs = [\n  \"image/jpeg\",\n  \"image/png\",\n  \"image/webp\",\n  \"image/avif\"\n];\nasync function loadImageBitmap(url, asset) {\n  const response = await DOMAdapter.get().fetch(url);\n  if (!response.ok) {\n    throw new Error(`[loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\n  }\n  const imageBlob = await response.blob();\n  return asset?.data?.alphaMode === \"premultiplied-alpha\" ? createImageBitmap(imageBlob, { premultiplyAlpha: \"none\" }) : createImageBitmap(imageBlob);\n}\nconst loadTextures = {\n  /** used for deprecation purposes */\n  name: \"loadTextures\",\n  id: \"texture\",\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.High,\n    name: \"loadTextures\"\n  },\n  config: {\n    preferWorkers: true,\n    preferCreateImageBitmap: true,\n    crossOrigin: \"anonymous\"\n  },\n  test(url) {\n    return checkDataUrl(url, validImageMIMEs) || checkExtension(url, validImageExtensions);\n  },\n  async load(url, asset, loader) {\n    let src = null;\n    if (globalThis.createImageBitmap && this.config.preferCreateImageBitmap) {\n      if (this.config.preferWorkers && await WorkerManager.isImageBitmapSupported()) {\n        src = await WorkerManager.loadImageBitmap(url, asset);\n      } else {\n        src = await loadImageBitmap(url, asset);\n      }\n    } else {\n      src = await new Promise((resolve, reject) => {\n        src = DOMAdapter.get().createImage();\n        src.crossOrigin = this.config.crossOrigin;\n        src.src = url;\n        if (src.complete) {\n          resolve(src);\n        } else {\n          src.onload = () => {\n            resolve(src);\n          };\n          src.onerror = reject;\n        }\n      });\n    }\n    const base = new ImageSource({\n      resource: src,\n      alphaMode: \"premultiply-alpha-on-upload\",\n      resolution: asset.data?.resolution || getResolutionOfUrl(url),\n      ...asset.data\n    });\n    return createTexture(base, loader, url);\n  },\n  unload(texture) {\n    texture.destroy(true);\n  }\n};\n\nexport { loadImageBitmap, loadTextures };\n//# sourceMappingURL=loadTextures.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { VideoSource } from '../../../../rendering/renderers/shared/texture/sources/VideoSource.mjs';\nimport { detectVideoAlphaMode } from '../../../../utils/browser/detectVideoAlphaMode.mjs';\nimport { getResolutionOfUrl } from '../../../../utils/network/getResolutionOfUrl.mjs';\nimport { testVideoFormat } from '../../../detections/utils/testVideoFormat.mjs';\nimport { checkDataUrl } from '../../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../../utils/checkExtension.mjs';\nimport { createTexture } from './utils/createTexture.mjs';\n\n\"use strict\";\nconst potentialVideoExtensions = [\".mp4\", \".m4v\", \".webm\", \".ogg\", \".ogv\", \".h264\", \".avi\", \".mov\"];\nlet validVideoExtensions;\nlet validVideoMIMEs;\nfunction crossOrigin(element, url, crossorigin) {\n  if (crossorigin === void 0 && !url.startsWith(\"data:\")) {\n    element.crossOrigin = determineCrossOrigin(url);\n  } else if (crossorigin !== false) {\n    element.crossOrigin = typeof crossorigin === \"string\" ? crossorigin : \"anonymous\";\n  }\n}\nfunction preloadVideo(element) {\n  return new Promise((resolve, reject) => {\n    element.addEventListener(\"canplaythrough\", loaded);\n    element.addEventListener(\"error\", error);\n    element.load();\n    function loaded() {\n      cleanup();\n      resolve();\n    }\n    function error(err) {\n      cleanup();\n      reject(err);\n    }\n    function cleanup() {\n      element.removeEventListener(\"canplaythrough\", loaded);\n      element.removeEventListener(\"error\", error);\n    }\n  });\n}\nfunction determineCrossOrigin(url, loc = globalThis.location) {\n  if (url.startsWith(\"data:\")) {\n    return \"\";\n  }\n  loc || (loc = globalThis.location);\n  const parsedUrl = new URL(url, document.baseURI);\n  if (parsedUrl.hostname !== loc.hostname || parsedUrl.port !== loc.port || parsedUrl.protocol !== loc.protocol) {\n    return \"anonymous\";\n  }\n  return \"\";\n}\nfunction getBrowserSupportedVideoExtensions() {\n  const supportedExtensions = [];\n  const supportedMimes = [];\n  for (const ext of potentialVideoExtensions) {\n    const mimeType = VideoSource.MIME_TYPES[ext.substring(1)] || `video/${ext.substring(1)}`;\n    if (testVideoFormat(mimeType)) {\n      supportedExtensions.push(ext);\n      if (!supportedMimes.includes(mimeType)) {\n        supportedMimes.push(mimeType);\n      }\n    }\n  }\n  return {\n    validVideoExtensions: supportedExtensions,\n    validVideoMime: supportedMimes\n  };\n}\nconst loadVideoTextures = {\n  /** used for deprecation purposes */\n  name: \"loadVideo\",\n  id: \"video\",\n  extension: {\n    type: ExtensionType.LoadParser,\n    name: \"loadVideo\"\n  },\n  test(url) {\n    if (!validVideoExtensions || !validVideoMIMEs) {\n      const { validVideoExtensions: ve, validVideoMime: vm } = getBrowserSupportedVideoExtensions();\n      validVideoExtensions = ve;\n      validVideoMIMEs = vm;\n    }\n    const isValidDataUrl = checkDataUrl(url, validVideoMIMEs);\n    const isValidExtension = checkExtension(url, validVideoExtensions);\n    return isValidDataUrl || isValidExtension;\n  },\n  async load(url, asset, loader) {\n    const options = {\n      ...VideoSource.defaultOptions,\n      resolution: asset.data?.resolution || getResolutionOfUrl(url),\n      alphaMode: asset.data?.alphaMode || await detectVideoAlphaMode(),\n      ...asset.data\n    };\n    const videoElement = document.createElement(\"video\");\n    const attributeMap = {\n      preload: options.autoLoad !== false ? \"auto\" : void 0,\n      \"webkit-playsinline\": options.playsinline !== false ? \"\" : void 0,\n      playsinline: options.playsinline !== false ? \"\" : void 0,\n      muted: options.muted === true ? \"\" : void 0,\n      loop: options.loop === true ? \"\" : void 0,\n      autoplay: options.autoPlay !== false ? \"\" : void 0\n    };\n    Object.keys(attributeMap).forEach((key) => {\n      const value = attributeMap[key];\n      if (value !== void 0)\n        videoElement.setAttribute(key, value);\n    });\n    if (options.muted === true) {\n      videoElement.muted = true;\n    }\n    crossOrigin(videoElement, url, options.crossorigin);\n    const sourceElement = document.createElement(\"source\");\n    let mime;\n    if (options.mime) {\n      mime = options.mime;\n    } else if (url.startsWith(\"data:\")) {\n      mime = url.slice(5, url.indexOf(\";\"));\n    } else if (!url.startsWith(\"blob:\")) {\n      const ext = url.split(\"?\")[0].slice(url.lastIndexOf(\".\") + 1).toLowerCase();\n      mime = VideoSource.MIME_TYPES[ext] || `video/${ext}`;\n    }\n    sourceElement.src = url;\n    if (mime) {\n      sourceElement.type = mime;\n    }\n    return new Promise((resolve) => {\n      const onCanPlay = async () => {\n        const base = new VideoSource({ ...options, resource: videoElement });\n        videoElement.removeEventListener(\"canplay\", onCanPlay);\n        if (asset.data.preload) {\n          await preloadVideo(videoElement);\n        }\n        resolve(createTexture(base, loader, url));\n      };\n      if (options.preload && !options.autoPlay) {\n        videoElement.load();\n      }\n      videoElement.addEventListener(\"canplay\", onCanPlay);\n      videoElement.appendChild(sourceElement);\n    });\n  },\n  unload(texture) {\n    texture.destroy(true);\n  }\n};\n\nexport { crossOrigin, determineCrossOrigin, loadVideoTextures, preloadVideo };\n//# sourceMappingURL=loadVideoTextures.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { loadTextures } from '../../loader/parsers/textures/loadTextures.mjs';\nimport { Resolver } from '../Resolver.mjs';\n\n\"use strict\";\nconst resolveTextureUrl = {\n  extension: {\n    type: ExtensionType.ResolveParser,\n    name: \"resolveTexture\"\n  },\n  test: loadTextures.test,\n  parse: (value) => ({\n    resolution: parseFloat(Resolver.RETINA_PREFIX.exec(value)?.[1] ?? \"1\"),\n    format: value.split(\".\").pop(),\n    src: value\n  })\n};\n\nexport { resolveTextureUrl };\n//# sourceMappingURL=resolveTextureUrl.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Resolver } from '../Resolver.mjs';\nimport { resolveTextureUrl } from './resolveTextureUrl.mjs';\n\n\"use strict\";\nconst resolveJsonUrl = {\n  extension: {\n    type: ExtensionType.ResolveParser,\n    priority: -2,\n    name: \"resolveJson\"\n  },\n  test: (value) => Resolver.RETINA_PREFIX.test(value) && value.endsWith(\".json\"),\n  parse: resolveTextureUrl.parse\n};\n\nexport { resolveJsonUrl };\n//# sourceMappingURL=resolveJsonUrl.mjs.map\n","import { extensions, ExtensionType } from '../extensions/Extensions.mjs';\nimport { loadBitmapFont, bitmapFontCachePlugin } from '../scene/text-bitmap/asset/loadBitmapFont.mjs';\nimport { warn } from '../utils/logging/warn.mjs';\nimport { BackgroundLoader } from './BackgroundLoader.mjs';\nimport { Cache } from './cache/Cache.mjs';\nimport { cacheTextureArray } from './cache/parsers/cacheTextureArray.mjs';\nimport { detectAvif } from './detections/parsers/detectAvif.mjs';\nimport { detectDefaults } from './detections/parsers/detectDefaults.mjs';\nimport { detectMp4 } from './detections/parsers/detectMp4.mjs';\nimport { detectOgv } from './detections/parsers/detectOgv.mjs';\nimport { detectWebm } from './detections/parsers/detectWebm.mjs';\nimport { detectWebp } from './detections/parsers/detectWebp.mjs';\nimport { Loader } from './loader/Loader.mjs';\nimport { loadJson } from './loader/parsers/loadJson.mjs';\nimport { loadTxt } from './loader/parsers/loadTxt.mjs';\nimport { loadWebFont } from './loader/parsers/loadWebFont.mjs';\nimport { loadSvg } from './loader/parsers/textures/loadSVG.mjs';\nimport { loadTextures } from './loader/parsers/textures/loadTextures.mjs';\nimport { loadVideoTextures } from './loader/parsers/textures/loadVideoTextures.mjs';\nimport { resolveJsonUrl } from './resolver/parsers/resolveJsonUrl.mjs';\nimport { resolveTextureUrl } from './resolver/parsers/resolveTextureUrl.mjs';\nimport { Resolver } from './resolver/Resolver.mjs';\nimport { convertToList } from './utils/convertToList.mjs';\nimport { isSingleItem } from './utils/isSingleItem.mjs';\n\n\"use strict\";\nclass AssetsClass {\n  constructor() {\n    this._detections = [];\n    this._initialized = false;\n    this.resolver = new Resolver();\n    this.loader = new Loader();\n    this.cache = Cache;\n    this._backgroundLoader = new BackgroundLoader(this.loader);\n    this._backgroundLoader.active = true;\n    this.reset();\n  }\n  /**\n   * Initializes the Assets class with configuration options. While not required,\n   * calling this before loading assets is recommended to set up default behaviors.\n   * @param options - Configuration options for the Assets system\n   * @example\n   * ```ts\n   * // Basic initialization (optional as Assets.load will call this automatically)\n   * await Assets.init();\n   *\n   * // With CDN configuration\n   * await Assets.init({\n   *     basePath: 'https://my-cdn.com/assets/',\n   *     defaultSearchParams: { version: '1.0.0' }\n   * });\n   *\n   * // With manifest and preferences\n   * await Assets.init({\n   *     manifest: {\n   *         bundles: [{\n   *             name: 'game-screen',\n   *             assets: [\n   *                 {\n   *                     alias: 'hero',\n   *                     src: 'hero.{png,webp}',\n   *                     data: { scaleMode: SCALE_MODES.NEAREST }\n   *                 },\n   *                 {\n   *                     alias: 'map',\n   *                     src: 'map.json'\n   *                 }\n   *             ]\n   *         }]\n   *     },\n   *     // Optimize for device capabilities\n   *     texturePreference: {\n   *         resolution: window.devicePixelRatio,\n   *         format: ['webp', 'png']\n   *     },\n   *     // Set global preferences\n   *     preferences: {\n   *         crossOrigin: 'anonymous',\n   *     }\n   * });\n   *\n   * // Load assets after initialization\n   * const heroTexture = await Assets.load('hero');\n   * ```\n   * @remarks\n   * - Can be called only once; subsequent calls will be ignored with a warning\n   * - Format detection runs automatically unless `skipDetections` is true\n   * - The manifest can be a URL to a JSON file or an inline object\n   * @see {@link AssetInitOptions} For all available initialization options\n   * @see {@link AssetsManifest} For manifest format details\n   */\n  async init(options = {}) {\n    if (this._initialized) {\n      warn(\"[Assets]AssetManager already initialized, did you load before calling this Assets.init()?\");\n      return;\n    }\n    this._initialized = true;\n    if (options.defaultSearchParams) {\n      this.resolver.setDefaultSearchParams(options.defaultSearchParams);\n    }\n    if (options.basePath) {\n      this.resolver.basePath = options.basePath;\n    }\n    if (options.bundleIdentifier) {\n      this.resolver.setBundleIdentifier(options.bundleIdentifier);\n    }\n    if (options.manifest) {\n      let manifest = options.manifest;\n      if (typeof manifest === \"string\") {\n        manifest = await this.load(manifest);\n      }\n      this.resolver.addManifest(manifest);\n    }\n    const resolutionPref = options.texturePreference?.resolution ?? 1;\n    const resolution = typeof resolutionPref === \"number\" ? [resolutionPref] : resolutionPref;\n    const formats = await this._detectFormats({\n      preferredFormats: options.texturePreference?.format,\n      skipDetections: options.skipDetections,\n      detections: this._detections\n    });\n    this.resolver.prefer({\n      params: {\n        format: formats,\n        resolution\n      }\n    });\n    if (options.preferences) {\n      this.setPreferences(options.preferences);\n    }\n    if (options.loadOptions) {\n      this.loader.loadOptions = {\n        ...this.loader.loadOptions,\n        ...options.loadOptions\n      };\n    }\n  }\n  /**\n   * Registers assets with the Assets resolver. This method maps keys (aliases) to asset sources,\n   * allowing you to load assets using friendly names instead of direct URLs.\n   * @param assets - The unresolved assets to add to the resolver\n   * @example\n   * ```ts\n   * // Basic usage - single asset\n   * Assets.add({\n   *     alias: 'myTexture',\n   *     src: 'assets/texture.png'\n   * });\n   * const texture = await Assets.load('myTexture');\n   *\n   * // Multiple aliases for the same asset\n   * Assets.add({\n   *     alias: ['hero', 'player'],\n   *     src: 'hero.png'\n   * });\n   * const hero1 = await Assets.load('hero');\n   * const hero2 = await Assets.load('player'); // Same texture\n   *\n   * // Multiple format support\n   * Assets.add({\n   *     alias: 'character',\n   *     src: 'character.{webp,png}' // Will choose best format\n   * });\n   * Assets.add({\n   *     alias: 'character',\n   *     src: ['character.webp', 'character.png'], // Explicitly specify formats\n   * });\n   *\n   * // With texture options\n   * Assets.add({\n   *     alias: 'sprite',\n   *     src: 'sprite.png',\n   *     data: { scaleMode: 'nearest' }\n   * });\n   *\n   * // Multiple assets at once\n   * Assets.add([\n   *     { alias: 'bg', src: 'background.png' },\n   *     { alias: 'music', src: 'music.mp3' },\n   *     { alias: 'spritesheet', src: 'sheet.json', data: { ignoreMultiPack: false } }\n   * ]);\n   * ```\n   * @remarks\n   * - Assets are resolved when loaded, not when added\n   * - Multiple formats use the best available format for the browser\n   * - Adding with same alias overwrites previous definition\n   * - The `data` property is passed to the asset loader\n   * @see {@link Resolver} For details on asset resolution\n   * @see {@link LoaderParser} For asset-specific data options\n   * @advanced\n   */\n  add(assets) {\n    this.resolver.add(assets);\n  }\n  async load(urls, onProgress) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    const singleAsset = isSingleItem(urls);\n    const urlArray = convertToList(urls).map((url) => {\n      if (typeof url !== \"string\") {\n        const aliases = this.resolver.getAlias(url);\n        if (aliases.some((alias) => !this.resolver.hasKey(alias))) {\n          this.add(url);\n        }\n        return Array.isArray(aliases) ? aliases[0] : aliases;\n      }\n      if (!this.resolver.hasKey(url))\n        this.add({ alias: url, src: url });\n      return url;\n    });\n    const resolveResults = this.resolver.resolve(urlArray);\n    const out = await this._mapLoadToResolve(resolveResults, onProgress);\n    return singleAsset ? out[urlArray[0]] : out;\n  }\n  /**\n   * Registers a bundle of assets that can be loaded as a group. Bundles are useful for organizing\n   * assets into logical groups, such as game levels or UI screens.\n   * @param bundleId - Unique identifier for the bundle\n   * @param assets - Assets to include in the bundle\n   * @example\n   * ```ts\n   * // Add a bundle using array format\n   * Assets.addBundle('animals', [\n   *     { alias: 'bunny', src: 'bunny.png' },\n   *     { alias: 'chicken', src: 'chicken.png' },\n   *     { alias: 'thumper', src: 'thumper.png' },\n   * ]);\n   *\n   * // Add a bundle using object format\n   * Assets.addBundle('animals', {\n   *     bunny: 'bunny.png',\n   *     chicken: 'chicken.png',\n   *     thumper: 'thumper.png',\n   * });\n   *\n   * // Add a bundle with advanced options\n   * Assets.addBundle('ui', [\n   *     {\n   *         alias: 'button',\n   *         src: 'button.{webp,png}',\n   *         data: { scaleMode: 'nearest' }\n   *     },\n   *     {\n   *         alias: ['logo', 'brand'],  // Multiple aliases\n   *         src: 'logo.svg',\n   *         data: { resolution: 2 }\n   *     }\n   * ]);\n   *\n   * // Load the bundle\n   * await Assets.loadBundle('animals');\n   *\n   * // Use the loaded assets\n   * const bunny = Sprite.from('bunny');\n   * const chicken = Sprite.from('chicken');\n   * ```\n   * @remarks\n   * - Bundle IDs must be unique\n   * - Assets in bundles are not loaded until `loadBundle` is called\n   * - Bundles can be background loaded using `backgroundLoadBundle`\n   * - Assets in bundles can be loaded individually using their aliases\n   * @see {@link Assets.loadBundle} For loading bundles\n   * @see {@link Assets.backgroundLoadBundle} For background loading bundles\n   * @see {@link Assets.unloadBundle} For unloading bundles\n   * @see {@link AssetsManifest} For manifest format details\n   */\n  addBundle(bundleId, assets) {\n    this.resolver.addBundle(bundleId, assets);\n  }\n  /**\n   * Loads a bundle or multiple bundles of assets. Bundles are collections of related assets\n   * that can be loaded together.\n   * @param bundleIds - Single bundle ID or array of bundle IDs to load\n   * @param onProgress - Optional callback for load progress (0.0 to 1.0)\n   * @returns Promise that resolves with the loaded bundle assets\n   * @example\n   * ```ts\n   * // Define bundles in your manifest\n   * const manifest = {\n   *     bundles: [\n   *         {\n   *             name: 'load-screen',\n   *             assets: [\n   *                 {\n   *                     alias: 'background',\n   *                     src: 'sunset.png',\n   *                 },\n   *                 {\n   *                     alias: 'bar',\n   *                     src: 'load-bar.{png,webp}', // use an array of individual assets\n   *                 },\n   *             ],\n   *         },\n   *         {\n   *             name: 'game-screen',\n   *             assets: [\n   *                 {\n   *                     alias: 'character',\n   *                     src: 'robot.png',\n   *                 },\n   *                 {\n   *                     alias: 'enemy',\n   *                     src: 'bad-guy.png',\n   *                 },\n   *             ],\n   *         },\n   *     ]\n   * };\n   *\n   * // Initialize with manifest\n   * await Assets.init({ manifest });\n   *\n   * // Or add bundles programmatically\n   * Assets.addBundle('load-screen', [...]);\n   * Assets.loadBundle('load-screen');\n   *\n   * // Load a single bundle\n   * await Assets.loadBundle('load-screen');\n   * const bg = Sprite.from('background'); // Uses alias from bundle\n   *\n   * // Load multiple bundles\n   * await Assets.loadBundle([\n   *     'load-screen',\n   *     'game-screen'\n   * ]);\n   *\n   * // Load with progress tracking\n   * await Assets.loadBundle('game-screen', (progress) => {\n   *     console.log(`Loading: ${Math.round(progress * 100)}%`);\n   * });\n   * ```\n   * @remarks\n   * - Bundle assets are cached automatically\n   * - Bundles can be pre-loaded using `backgroundLoadBundle`\n   * - Assets in bundles can be accessed by their aliases\n   * - Progress callback receives values from 0.0 to 1.0\n   * @throws {Error} If the bundle ID doesn't exist in the manifest\n   * @see {@link Assets.addBundle} For adding bundles programmatically\n   * @see {@link Assets.backgroundLoadBundle} For background loading bundles\n   * @see {@link Assets.unloadBundle} For unloading bundles\n   * @see {@link AssetsManifest} For manifest format details\n   */\n  async loadBundle(bundleIds, onProgress) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    let singleAsset = false;\n    if (typeof bundleIds === \"string\") {\n      singleAsset = true;\n      bundleIds = [bundleIds];\n    }\n    const resolveResults = this.resolver.resolveBundle(bundleIds);\n    const out = {};\n    const keys = Object.keys(resolveResults);\n    let total = 0;\n    const counts = [];\n    const _onProgress = () => {\n      onProgress?.(counts.reduce((a, b) => a + b, 0) / total);\n    };\n    const promises = keys.map((bundleId, i) => {\n      const resolveResult = resolveResults[bundleId];\n      const values = Object.values(resolveResult);\n      const totalAssetsToLoad = [...new Set(values.flat())];\n      const progressSize = totalAssetsToLoad.reduce((sum, asset) => sum + (asset.progressSize || 1), 0);\n      counts.push(0);\n      total += progressSize;\n      return this._mapLoadToResolve(resolveResult, (e) => {\n        counts[i] = e * progressSize;\n        _onProgress();\n      }).then((resolveResult2) => {\n        out[bundleId] = resolveResult2;\n      });\n    });\n    await Promise.all(promises);\n    return singleAsset ? out[bundleIds[0]] : out;\n  }\n  /**\n   * Initiates background loading of assets. This allows assets to be loaded passively while other operations\n   * continue, making them instantly available when needed later.\n   *\n   * Background loading is useful for:\n   * - Preloading game levels while in a menu\n   * - Loading non-critical assets during gameplay\n   * - Reducing visible loading screens\n   * @param urls - Single URL/alias or array of URLs/aliases to load in the background\n   * @example\n   * ```ts\n   * // Basic background loading\n   * Assets.backgroundLoad('images/level2-assets.png');\n   *\n   * // Background load multiple assets\n   * Assets.backgroundLoad([\n   *     'images/sprite1.png',\n   *     'images/sprite2.png',\n   *     'images/background.png'\n   * ]);\n   *\n   * // Later, when you need the assets\n   * const textures = await Assets.load([\n   *     'images/sprite1.png',\n   *     'images/sprite2.png'\n   * ]); // Resolves immediately if background loading completed\n   * ```\n   * @remarks\n   * - Background loading happens one asset at a time to avoid blocking the main thread\n   * - Loading can be interrupted safely by calling `Assets.load()`\n   * - Assets are cached as they complete loading\n   * - No progress tracking is available for background loading\n   */\n  async backgroundLoad(urls) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    if (typeof urls === \"string\") {\n      urls = [urls];\n    }\n    const resolveResults = this.resolver.resolve(urls);\n    this._backgroundLoader.add(Object.values(resolveResults));\n  }\n  /**\n   * Initiates background loading of asset bundles. Similar to backgroundLoad but works with\n   * predefined bundles of assets.\n   *\n   * Perfect for:\n   * - Preloading level bundles during gameplay\n   * - Loading UI assets during splash screens\n   * - Preparing assets for upcoming game states\n   * @param bundleIds - Single bundle ID or array of bundle IDs to load in the background\n   * @example\n   * ```ts\n   * // Define bundles in your manifest\n   * await Assets.init({\n   *     manifest: {\n   *         bundles: [\n   *             {\n   *               name: 'home',\n   *               assets: [\n   *                 {\n   *                     alias: 'background',\n   *                     src: 'images/home-bg.png',\n   *                 },\n   *                 {\n   *                     alias: 'logo',\n   *                     src: 'images/logo.png',\n   *                 }\n   *              ]\n   *            },\n   *            {\n   *             name: 'level-1',\n   *             assets: [\n   *                 {\n   *                     alias: 'background',\n   *                     src: 'images/level1/bg.png',\n   *                 },\n   *                 {\n   *                     alias: 'sprites',\n   *                     src: 'images/level1/sprites.json'\n   *                 }\n   *             ]\n   *         }]\n   *     }\n   * });\n   *\n   * // Load the home screen assets right away\n   * await Assets.loadBundle('home');\n   * showHomeScreen();\n   *\n   * // Start background loading while showing home screen\n   * Assets.backgroundLoadBundle('level-1');\n   *\n   * // When player starts level, load completes faster\n   * await Assets.loadBundle('level-1');\n   * hideHomeScreen();\n   * startLevel();\n   * ```\n   * @remarks\n   * - Bundle assets are loaded one at a time\n   * - Loading can be interrupted safely by calling `Assets.loadBundle()`\n   * - Assets are cached as they complete loading\n   * - Requires bundles to be registered via manifest or `addBundle`\n   * @see {@link Assets.addBundle} For adding bundles programmatically\n   * @see {@link Assets.loadBundle} For immediate bundle loading\n   * @see {@link AssetsManifest} For manifest format details\n   */\n  async backgroundLoadBundle(bundleIds) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    if (typeof bundleIds === \"string\") {\n      bundleIds = [bundleIds];\n    }\n    const resolveResults = this.resolver.resolveBundle(bundleIds);\n    Object.values(resolveResults).forEach((resolveResult) => {\n      this._backgroundLoader.add(Object.values(resolveResult));\n    });\n  }\n  /**\n   * Only intended for development purposes.\n   * This will wipe the resolver and caches.\n   * You will need to reinitialize the Asset\n   * @internal\n   */\n  reset() {\n    this.resolver.reset();\n    this.loader.reset();\n    this.cache.reset();\n    this._initialized = false;\n  }\n  get(keys) {\n    if (typeof keys === \"string\") {\n      return Cache.get(keys);\n    }\n    const assets = {};\n    for (let i = 0; i < keys.length; i++) {\n      assets[i] = Cache.get(keys[i]);\n    }\n    return assets;\n  }\n  /**\n   * helper function to map resolved assets back to loaded assets\n   * @param resolveResults - the resolve results from the resolver\n   * @param progressOrLoadOptions - the progress callback or load options\n   */\n  async _mapLoadToResolve(resolveResults, progressOrLoadOptions) {\n    const resolveArray = [...new Set(Object.values(resolveResults))];\n    this._backgroundLoader.active = false;\n    const loadedAssets = await this.loader.load(resolveArray, progressOrLoadOptions);\n    this._backgroundLoader.active = true;\n    const out = {};\n    resolveArray.forEach((resolveResult) => {\n      const asset = loadedAssets[resolveResult.src];\n      const keys = [resolveResult.src];\n      if (resolveResult.alias) {\n        keys.push(...resolveResult.alias);\n      }\n      keys.forEach((key) => {\n        out[key] = asset;\n      });\n      Cache.set(keys, asset);\n    });\n    return out;\n  }\n  /**\n   * Unloads assets and releases them from memory. This method ensures proper cleanup of\n   * loaded assets when they're no longer needed.\n   * @param urls - Single URL/alias or array of URLs/aliases to unload\n   * @example\n   * ```ts\n   * // Unload a single asset\n   * await Assets.unload('images/sprite.png');\n   *\n   * // Unload using an alias\n   * await Assets.unload('hero'); // Unloads the asset registered with 'hero' alias\n   *\n   * // Unload multiple assets\n   * await Assets.unload([\n   *     'images/background.png',\n   *     'images/character.png',\n   *     'hero'\n   * ]);\n   *\n   * // Unload and handle creation of new instances\n   * await Assets.unload('hero');\n   * const newHero = await Assets.load('hero'); // Will load fresh from source\n   * ```\n   * @remarks\n   * > [!WARNING]\n   * > Make sure assets aren't being used before unloading:\n   * > - Remove sprites using the texture\n   * > - Clear any references to the asset\n   * > - Textures will be destroyed and can't be used after unloading\n   * @throws {Error} If the asset is not found in cache\n   */\n  async unload(urls) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    const urlArray = convertToList(urls).map((url) => typeof url !== \"string\" ? url.src : url);\n    const resolveResults = this.resolver.resolve(urlArray);\n    await this._unloadFromResolved(resolveResults);\n  }\n  /**\n   * Unloads all assets in a bundle. Use this to free memory when a bundle's assets\n   * are no longer needed, such as when switching game levels.\n   * @param bundleIds - Single bundle ID or array of bundle IDs to unload\n   * @example\n   * ```ts\n   * // Define and load a bundle\n   * Assets.addBundle('level-1', {\n   *     background: 'level1/bg.png',\n   *     sprites: 'level1/sprites.json',\n   *     music: 'level1/music.mp3'\n   * });\n   *\n   * // Load the bundle\n   * const level1 = await Assets.loadBundle('level-1');\n   *\n   * // Use the assets\n   * const background = Sprite.from(level1.background);\n   *\n   * // When done with the level, unload everything\n   * await Assets.unloadBundle('level-1');\n   * // background sprite is now invalid!\n   *\n   * // Unload multiple bundles\n   * await Assets.unloadBundle([\n   *     'level-1',\n   *     'level-2',\n   *     'ui-elements'\n   * ]);\n   * ```\n   * @remarks\n   * > [!WARNING]\n   * > - All assets in the bundle will be destroyed\n   * > - Bundle needs to be reloaded to use assets again\n   * > - Make sure no sprites or other objects are using the assets\n   * @throws {Error} If the bundle is not found\n   * @see {@link Assets.addBundle} For adding bundles\n   * @see {@link Assets.loadBundle} For loading bundles\n   */\n  async unloadBundle(bundleIds) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    bundleIds = convertToList(bundleIds);\n    const resolveResults = this.resolver.resolveBundle(bundleIds);\n    const promises = Object.keys(resolveResults).map((bundleId) => this._unloadFromResolved(resolveResults[bundleId]));\n    await Promise.all(promises);\n  }\n  async _unloadFromResolved(resolveResult) {\n    const resolveArray = Object.values(resolveResult);\n    resolveArray.forEach((resolveResult2) => {\n      Cache.remove(resolveResult2.src);\n    });\n    await this.loader.unload(resolveArray);\n  }\n  /**\n   * Detects the supported formats for the browser, and returns an array of supported formats, respecting\n   * the users preferred formats order.\n   * @param options - the options to use when detecting formats\n   * @param options.preferredFormats - the preferred formats to use\n   * @param options.skipDetections - if we should skip the detections altogether\n   * @param options.detections - the detections to use\n   * @returns - the detected formats\n   */\n  async _detectFormats(options) {\n    let formats = [];\n    if (options.preferredFormats) {\n      formats = Array.isArray(options.preferredFormats) ? options.preferredFormats : [options.preferredFormats];\n    }\n    for (const detection of options.detections) {\n      if (options.skipDetections || await detection.test()) {\n        formats = await detection.add(formats);\n      } else if (!options.skipDetections) {\n        formats = await detection.remove(formats);\n      }\n    }\n    formats = formats.filter((format, index) => formats.indexOf(format) === index);\n    return formats;\n  }\n  /**\n   * All the detection parsers currently added to the Assets class.\n   * @advanced\n   */\n  get detections() {\n    return this._detections;\n  }\n  /**\n   * Sets global preferences for asset loading behavior. This method configures how assets\n   * are loaded and processed across all parsers.\n   * @param preferences - Asset loading preferences\n   * @example\n   * ```ts\n   * // Basic preferences\n   * Assets.setPreferences({\n   *     crossOrigin: 'anonymous',\n   *     parseAsGraphicsContext: false\n   * });\n   * ```\n   * @remarks\n   * Preferences are applied to all compatible parsers and affect future asset loading.\n   * Common preferences include:\n   * - `crossOrigin`: CORS setting for loaded assets\n   * - `preferWorkers`: Whether to use web workers for loading textures\n   * - `preferCreateImageBitmap`: Use `createImageBitmap` for texture creation. Turning this off will use the `Image` constructor instead.\n   * @see {@link AssetsPreferences} For all available preferences\n   */\n  setPreferences(preferences) {\n    this.loader.parsers.forEach((parser) => {\n      if (!parser.config)\n        return;\n      Object.keys(parser.config).filter((key) => key in preferences).forEach((key) => {\n        parser.config[key] = preferences[key];\n      });\n    });\n  }\n}\nconst Assets = new AssetsClass();\nextensions.handleByList(ExtensionType.LoadParser, Assets.loader.parsers).handleByList(ExtensionType.ResolveParser, Assets.resolver.parsers).handleByList(ExtensionType.CacheParser, Assets.cache.parsers).handleByList(ExtensionType.DetectionParser, Assets.detections);\nextensions.add(\n  cacheTextureArray,\n  detectDefaults,\n  detectAvif,\n  detectWebp,\n  detectMp4,\n  detectOgv,\n  detectWebm,\n  loadJson,\n  loadTxt,\n  loadWebFont,\n  loadSvg,\n  loadTextures,\n  loadVideoTextures,\n  loadBitmapFont,\n  bitmapFontCachePlugin,\n  resolveTextureUrl,\n  resolveJsonUrl\n);\nconst assetKeyMap = {\n  loader: ExtensionType.LoadParser,\n  resolver: ExtensionType.ResolveParser,\n  cache: ExtensionType.CacheParser,\n  detection: ExtensionType.DetectionParser\n};\nextensions.handle(ExtensionType.Asset, (extension) => {\n  const ref = extension.ref;\n  Object.entries(assetKeyMap).filter(([key]) => !!ref[key]).forEach(([key, type]) => extensions.add(Object.assign(\n    ref[key],\n    // Allow the function to optionally define it's own\n    // ExtensionMetadata, the use cases here is priority for LoaderParsers\n    { extension: ref[key].extension ?? type }\n  )));\n}, (extension) => {\n  const ref = extension.ref;\n  Object.keys(assetKeyMap).filter((key) => !!ref[key]).forEach((key) => extensions.remove(ref[key]));\n});\n\nexport { Assets, AssetsClass };\n//# sourceMappingURL=Assets.mjs.map\n","import { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { isWebGLSupported } from '../../utils/browser/isWebGLSupported.mjs';\nimport { isWebGPUSupported } from '../../utils/browser/isWebGPUSupported.mjs';\n\n\"use strict\";\nconst detectBasis = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 3\n  },\n  test: async () => {\n    if (await isWebGPUSupported())\n      return true;\n    if (isWebGLSupported())\n      return true;\n    return false;\n  },\n  add: async (formats) => [...formats, \"basis\"],\n  remove: async (formats) => formats.filter((f) => f !== \"basis\")\n};\n\nexport { detectBasis };\n//# sourceMappingURL=detectBasis.mjs.map\n","import { TextureSource } from './TextureSource.mjs';\n\n\"use strict\";\nclass CompressedSource extends TextureSource {\n  constructor(options) {\n    super(options);\n    this.uploadMethodId = \"compressed\";\n    this.resource = options.resource;\n    this.mipLevelCount = this.resource.length;\n  }\n}\n\nexport { CompressedSource };\n//# sourceMappingURL=CompressedSource.mjs.map\n","import { DOMAdapter } from '../../../../../environment/adapter.mjs';\n\n\"use strict\";\nlet supportedGLCompressedTextureFormats;\nfunction getSupportedGlCompressedTextureFormats() {\n  if (supportedGLCompressedTextureFormats)\n    return supportedGLCompressedTextureFormats;\n  const canvas = DOMAdapter.get().createCanvas(1, 1);\n  const gl = canvas.getContext(\"webgl\");\n  if (!gl) {\n    return [];\n  }\n  supportedGLCompressedTextureFormats = [\n    // BC compressed formats usable if \"texture-compression-bc\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    // 'bc6h-rgb-ufloat'\n    // 'bc6h-rgb-float'\n    // 'bc7-rgba-unorm',\n    // 'bc7-rgba-unorm-srgb',\n    ...gl.getExtension(\"EXT_texture_compression_bptc\") ? [\n      \"bc6h-rgb-ufloat\",\n      \"bc6h-rgb-float\",\n      \"bc7-rgba-unorm\",\n      \"bc7-rgba-unorm-srgb\"\n    ] : [],\n    // BC compressed formats usable if \"texture-compression-bc\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    // 'bc1-rgba-unorm',\n    // 'bc1-rgba-unorm-srgb',\n    // 'bc4-r-unorm'\n    // 'bc4-r-snorm'\n    // 'bc5-rg-unorm'\n    // 'bc5-rg-snorm'\n    ...gl.getExtension(\"WEBGL_compressed_texture_s3tc\") ? [\n      \"bc1-rgba-unorm\",\n      \"bc2-rgba-unorm\",\n      \"bc3-rgba-unorm\"\n    ] : [],\n    ...gl.getExtension(\"WEBGL_compressed_texture_s3tc_srgb\") ? [\n      \"bc1-rgba-unorm-srgb\",\n      \"bc2-rgba-unorm-srgb\",\n      \"bc3-rgba-unorm-srgb\"\n    ] : [],\n    ...gl.getExtension(\"EXT_texture_compression_rgtc\") ? [\n      \"bc4-r-unorm\",\n      \"bc4-r-snorm\",\n      \"bc5-rg-unorm\",\n      \"bc5-rg-snorm\"\n    ] : [],\n    // ETC2 compressed formats usable if \"texture-compression-etc2\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    ...gl.getExtension(\"WEBGL_compressed_texture_etc\") ? [\n      \"etc2-rgb8unorm\",\n      \"etc2-rgb8unorm-srgb\",\n      \"etc2-rgba8unorm\",\n      \"etc2-rgba8unorm-srgb\",\n      \"etc2-rgb8a1unorm\",\n      \"etc2-rgb8a1unorm-srgb\",\n      \"eac-r11unorm\",\n      \"eac-rg11unorm\"\n    ] : [],\n    // 'eac-r11snorm',\n    // 'eac-rg11snorm',\n    // ASTC compressed formats usable if \"texture-compression-astc\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    ...gl.getExtension(\"WEBGL_compressed_texture_astc\") ? [\n      \"astc-4x4-unorm\",\n      \"astc-4x4-unorm-srgb\",\n      \"astc-5x4-unorm\",\n      \"astc-5x4-unorm-srgb\",\n      \"astc-5x5-unorm\",\n      \"astc-5x5-unorm-srgb\",\n      \"astc-6x5-unorm\",\n      \"astc-6x5-unorm-srgb\",\n      \"astc-6x6-unorm\",\n      \"astc-6x6-unorm-srgb\",\n      \"astc-8x5-unorm\",\n      \"astc-8x5-unorm-srgb\",\n      \"astc-8x6-unorm\",\n      \"astc-8x6-unorm-srgb\",\n      \"astc-8x8-unorm\",\n      \"astc-8x8-unorm-srgb\",\n      \"astc-10x5-unorm\",\n      \"astc-10x5-unorm-srgb\",\n      \"astc-10x6-unorm\",\n      \"astc-10x6-unorm-srgb\",\n      \"astc-10x8-unorm\",\n      \"astc-10x8-unorm-srgb\",\n      \"astc-10x10-unorm\",\n      \"astc-10x10-unorm-srgb\",\n      \"astc-12x10-unorm\",\n      \"astc-12x10-unorm-srgb\",\n      \"astc-12x12-unorm\",\n      \"astc-12x12-unorm-srgb\"\n    ] : []\n  ];\n  return supportedGLCompressedTextureFormats;\n}\n\nexport { getSupportedGlCompressedTextureFormats };\n//# sourceMappingURL=getSupportedGlCompressedTextureFormats.mjs.map\n","import { DOMAdapter } from '../../../../../environment/adapter.mjs';\n\n\"use strict\";\nlet supportedGPUCompressedTextureFormats;\nasync function getSupportedGPUCompressedTextureFormats() {\n  if (supportedGPUCompressedTextureFormats)\n    return supportedGPUCompressedTextureFormats;\n  const adapter = await DOMAdapter.get().getNavigator().gpu.requestAdapter();\n  supportedGPUCompressedTextureFormats = [\n    ...adapter.features.has(\"texture-compression-bc\") ? [\n      // BC compressed formats usable if \"texture-compression-bc\" is both\n      // supported by the device/user agent and enabled in requestDevice.\n      \"bc1-rgba-unorm\",\n      \"bc1-rgba-unorm-srgb\",\n      \"bc2-rgba-unorm\",\n      \"bc2-rgba-unorm-srgb\",\n      \"bc3-rgba-unorm\",\n      \"bc3-rgba-unorm-srgb\",\n      \"bc4-r-unorm\",\n      \"bc4-r-snorm\",\n      \"bc5-rg-unorm\",\n      \"bc5-rg-snorm\",\n      \"bc6h-rgb-ufloat\",\n      \"bc6h-rgb-float\",\n      \"bc7-rgba-unorm\",\n      \"bc7-rgba-unorm-srgb\"\n    ] : [],\n    ...adapter.features.has(\"texture-compression-etc2\") ? [\n      // ETC2 compressed formats usable if \"texture-compression-etc2\" is both\n      // supported by the device/user agent and enabled in requestDevice.\n      \"etc2-rgb8unorm\",\n      \"etc2-rgb8unorm-srgb\",\n      \"etc2-rgb8a1unorm\",\n      \"etc2-rgb8a1unorm-srgb\",\n      \"etc2-rgba8unorm\",\n      \"etc2-rgba8unorm-srgb\",\n      \"eac-r11unorm\",\n      \"eac-r11snorm\",\n      \"eac-rg11unorm\",\n      \"eac-rg11snorm\"\n    ] : [],\n    ...adapter.features.has(\"texture-compression-astc\") ? [\n      // ASTC compressed formats usable if \"texture-compression-astc\" is both\n      // supported by the device/user agent and enabled in requestDevice.\n      \"astc-4x4-unorm\",\n      \"astc-4x4-unorm-srgb\",\n      \"astc-5x4-unorm\",\n      \"astc-5x4-unorm-srgb\",\n      \"astc-5x5-unorm\",\n      \"astc-5x5-unorm-srgb\",\n      \"astc-6x5-unorm\",\n      \"astc-6x5-unorm-srgb\",\n      \"astc-6x6-unorm\",\n      \"astc-6x6-unorm-srgb\",\n      \"astc-8x5-unorm\",\n      \"astc-8x5-unorm-srgb\",\n      \"astc-8x6-unorm\",\n      \"astc-8x6-unorm-srgb\",\n      \"astc-8x8-unorm\",\n      \"astc-8x8-unorm-srgb\",\n      \"astc-10x5-unorm\",\n      \"astc-10x5-unorm-srgb\",\n      \"astc-10x6-unorm\",\n      \"astc-10x6-unorm-srgb\",\n      \"astc-10x8-unorm\",\n      \"astc-10x8-unorm-srgb\",\n      \"astc-10x10-unorm\",\n      \"astc-10x10-unorm-srgb\",\n      \"astc-12x10-unorm\",\n      \"astc-12x10-unorm-srgb\",\n      \"astc-12x12-unorm\",\n      \"astc-12x12-unorm-srgb\"\n    ] : []\n  ];\n  return supportedGPUCompressedTextureFormats;\n}\n\nexport { getSupportedGPUCompressedTextureFormats };\n//# sourceMappingURL=getSupportedGPUCompressedTextureFormats.mjs.map\n","import { isWebGLSupported } from '../../../../../utils/browser/isWebGLSupported.mjs';\nimport { isWebGPUSupported } from '../../../../../utils/browser/isWebGPUSupported.mjs';\nimport { getSupportedGlCompressedTextureFormats } from '../../../gl/texture/utils/getSupportedGlCompressedTextureFormats.mjs';\nimport { getSupportedGPUCompressedTextureFormats } from '../../../gpu/texture/utils/getSupportedGPUCompressedTextureFormats.mjs';\n\n\"use strict\";\nlet supportedCompressedTextureFormats;\nasync function getSupportedCompressedTextureFormats() {\n  if (supportedCompressedTextureFormats !== void 0)\n    return supportedCompressedTextureFormats;\n  supportedCompressedTextureFormats = await (async () => {\n    const _isWebGPUSupported = await isWebGPUSupported();\n    const _isWebGLSupported = isWebGLSupported();\n    if (_isWebGPUSupported && _isWebGLSupported) {\n      const gpuTextureFormats = await getSupportedGPUCompressedTextureFormats();\n      const glTextureFormats = getSupportedGlCompressedTextureFormats();\n      return gpuTextureFormats.filter((format) => glTextureFormats.includes(format));\n    } else if (_isWebGPUSupported) {\n      return await getSupportedGPUCompressedTextureFormats();\n    } else if (_isWebGLSupported) {\n      return getSupportedGlCompressedTextureFormats();\n    }\n    return [];\n  })();\n  return supportedCompressedTextureFormats;\n}\n\nexport { getSupportedCompressedTextureFormats };\n//# sourceMappingURL=getSupportedCompressedTextureFormats.mjs.map\n","import { getSupportedCompressedTextureFormats } from './getSupportedCompressedTextureFormats.mjs';\n\n\"use strict\";\nconst nonCompressedFormats = [\n  // 8-bit formats\n  \"r8unorm\",\n  \"r8snorm\",\n  \"r8uint\",\n  \"r8sint\",\n  // 16-bit formats\n  \"r16uint\",\n  \"r16sint\",\n  \"r16float\",\n  \"rg8unorm\",\n  \"rg8snorm\",\n  \"rg8uint\",\n  \"rg8sint\",\n  // 32-bit formats\n  \"r32uint\",\n  \"r32sint\",\n  \"r32float\",\n  \"rg16uint\",\n  \"rg16sint\",\n  \"rg16float\",\n  \"rgba8unorm\",\n  \"rgba8unorm-srgb\",\n  \"rgba8snorm\",\n  \"rgba8uint\",\n  \"rgba8sint\",\n  \"bgra8unorm\",\n  \"bgra8unorm-srgb\",\n  // Packed 32-bit formats\n  \"rgb9e5ufloat\",\n  \"rgb10a2unorm\",\n  \"rg11b10ufloat\",\n  // 64-bit formats\n  \"rg32uint\",\n  \"rg32sint\",\n  \"rg32float\",\n  \"rgba16uint\",\n  \"rgba16sint\",\n  \"rgba16float\",\n  // 128-bit formats\n  \"rgba32uint\",\n  \"rgba32sint\",\n  \"rgba32float\",\n  // Depth/stencil formats\n  \"stencil8\",\n  \"depth16unorm\",\n  \"depth24plus\",\n  \"depth24plus-stencil8\",\n  \"depth32float\",\n  // \"depth32float-stencil8\" feature\n  \"depth32float-stencil8\"\n];\nlet supportedTextureFormats;\nasync function getSupportedTextureFormats() {\n  if (supportedTextureFormats !== void 0)\n    return supportedTextureFormats;\n  const compressedTextureFormats = await getSupportedCompressedTextureFormats();\n  supportedTextureFormats = [\n    ...nonCompressedFormats,\n    ...compressedTextureFormats\n  ];\n  return supportedTextureFormats;\n}\n\nexport { getSupportedTextureFormats, nonCompressedFormats };\n//# sourceMappingURL=getSupportedTextureFormats.mjs.map\n","const WORKER_CODE = \"(function () {\\n    'use strict';\\n\\n    function createLevelBuffers(basisTexture, basisTranscoderFormat) {\\n      const images = basisTexture.getNumImages();\\n      const levels = basisTexture.getNumLevels(0);\\n      const success = basisTexture.startTranscoding();\\n      if (!success) {\\n        throw new Error(\\\"startTranscoding failed\\\");\\n      }\\n      const levelBuffers = [];\\n      for (let levelIndex = 0; levelIndex < levels; ++levelIndex) {\\n        for (let sliceIndex = 0; sliceIndex < images; ++sliceIndex) {\\n          const transcodeSize = basisTexture.getImageTranscodedSizeInBytes(sliceIndex, levelIndex, basisTranscoderFormat);\\n          const levelBuffer = new Uint8Array(transcodeSize);\\n          const success2 = basisTexture.transcodeImage(levelBuffer, sliceIndex, levelIndex, basisTranscoderFormat, 1, 0);\\n          if (!success2) {\\n            throw new Error(\\\"transcodeImage failed\\\");\\n          }\\n          levelBuffers.push(levelBuffer);\\n        }\\n      }\\n      return levelBuffers;\\n    }\\n\\n    const gpuFormatToBasisTranscoderFormatMap = {\\n      \\\"bc3-rgba-unorm\\\": 3,\\n      // cTFBC3_RGBA\\n      \\\"bc7-rgba-unorm\\\": 6,\\n      // cTFBC7_RGBA,\\n      \\\"etc2-rgba8unorm\\\": 1,\\n      // cTFETC2_RGBA,\\n      \\\"astc-4x4-unorm\\\": 10,\\n      // cTFASTC_4x4_RGBA,\\n      // Uncompressed\\n      rgba8unorm: 13,\\n      // cTFRGBA32,\\n      rgba4unorm: 16\\n      // cTFRGBA4444,\\n    };\\n    function gpuFormatToBasisTranscoderFormat(transcoderFormat) {\\n      const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];\\n      if (format) {\\n        return format;\\n      }\\n      throw new Error(`Unsupported transcoderFormat: ${transcoderFormat}`);\\n    }\\n\\n    const settings = {\\n      jsUrl: \\\"basis/basis_transcoder.js\\\",\\n      wasmUrl: \\\"basis/basis_transcoder.wasm\\\"\\n    };\\n    let basisTranscoderFormat;\\n    let basisTranscodedTextureFormat;\\n    let basisPromise;\\n    async function getBasis() {\\n      if (!basisPromise) {\\n        const absoluteJsUrl = new URL(settings.jsUrl, location.origin).href;\\n        const absoluteWasmUrl = new URL(settings.wasmUrl, location.origin).href;\\n        importScripts(absoluteJsUrl);\\n        basisPromise = new Promise((resolve) => {\\n          BASIS({\\n            locateFile: (_file) => absoluteWasmUrl\\n          }).then((module) => {\\n            module.initializeBasis();\\n            resolve(module.BasisFile);\\n          });\\n        });\\n      }\\n      return basisPromise;\\n    }\\n    async function fetchBasisTexture(url, BasisTexture) {\\n      const basisResponse = await fetch(url);\\n      if (basisResponse.ok) {\\n        const basisArrayBuffer = await basisResponse.arrayBuffer();\\n        return new BasisTexture(new Uint8Array(basisArrayBuffer));\\n      }\\n      throw new Error(`Failed to load Basis texture: ${url}`);\\n    }\\n    const preferredTranscodedFormat = [\\n      \\\"bc7-rgba-unorm\\\",\\n      \\\"astc-4x4-unorm\\\",\\n      \\\"etc2-rgba8unorm\\\",\\n      \\\"bc3-rgba-unorm\\\",\\n      \\\"rgba8unorm\\\"\\n    ];\\n    async function load(url) {\\n      const BasisTexture = await getBasis();\\n      const basisTexture = await fetchBasisTexture(url, BasisTexture);\\n      const levelBuffers = createLevelBuffers(basisTexture, basisTranscoderFormat);\\n      return {\\n        width: basisTexture.getImageWidth(0, 0),\\n        height: basisTexture.getImageHeight(0, 0),\\n        format: basisTranscodedTextureFormat,\\n        resource: levelBuffers,\\n        alphaMode: \\\"no-premultiply-alpha\\\"\\n      };\\n    }\\n    async function init(jsUrl, wasmUrl, supportedTextures) {\\n      if (jsUrl)\\n        settings.jsUrl = jsUrl;\\n      if (wasmUrl)\\n        settings.wasmUrl = wasmUrl;\\n      basisTranscodedTextureFormat = preferredTranscodedFormat.filter((format) => supportedTextures.includes(format))[0];\\n      basisTranscoderFormat = gpuFormatToBasisTranscoderFormat(basisTranscodedTextureFormat);\\n      await getBasis();\\n    }\\n    const messageHandlers = {\\n      init: async (data) => {\\n        const { jsUrl, wasmUrl, supportedTextures } = data;\\n        await init(jsUrl, wasmUrl, supportedTextures);\\n      },\\n      load: async (data) => {\\n        try {\\n          const textureOptions = await load(data.url);\\n          return {\\n            type: \\\"load\\\",\\n            url: data.url,\\n            success: true,\\n            textureOptions,\\n            transferables: textureOptions.resource?.map((arr) => arr.buffer)\\n          };\\n        } catch (e) {\\n          throw e;\\n        }\\n      }\\n    };\\n    self.onmessage = async (messageEvent) => {\\n      const message = messageEvent.data;\\n      const response = await messageHandlers[message.type](message);\\n      if (response) {\\n        self.postMessage(response, response.transferables);\\n      }\\n    };\\n\\n})();\\n\";\nlet WORKER_URL = null;\nclass WorkerInstance\n{\n    constructor()\n    {\n        if (!WORKER_URL)\n        {\n            WORKER_URL = URL.createObjectURL(new Blob([WORKER_CODE], { type: 'application/javascript' }));\n        }\n        this.worker = new Worker(WORKER_URL);\n    }\n}\nWorkerInstance.revokeObjectURL = function revokeObjectURL()\n{\n    if (WORKER_URL)\n    {\n        URL.revokeObjectURL(WORKER_URL);\n        WORKER_URL = null;\n    }\n};\n\nexport { WorkerInstance as default };\n//# sourceMappingURL=basis.worker.mjs.map\n","\"use strict\";\nconst basisTranscoderUrls = {\n  jsUrl: \"https://files.pixijs.download/transcoders/basis/basis_transcoder.js\",\n  wasmUrl: \"https://files.pixijs.download/transcoders/basis/basis_transcoder.wasm\"\n};\nfunction setBasisTranscoderPath(config) {\n  Object.assign(basisTranscoderUrls, config);\n}\n\nexport { basisTranscoderUrls, setBasisTranscoderPath };\n//# sourceMappingURL=setBasisTranscoderPath.mjs.map\n","import WorkerInstance from '../../../_virtual/basis.worker.mjs';\nimport { basisTranscoderUrls } from '../utils/setBasisTranscoderPath.mjs';\n\n\"use strict\";\nlet basisWorker;\nconst urlHash = {};\nfunction getBasisWorker(supportedTextures) {\n  if (!basisWorker) {\n    basisWorker = new WorkerInstance().worker;\n    basisWorker.onmessage = (messageEvent) => {\n      const { success, url, textureOptions } = messageEvent.data;\n      if (!success) {\n        console.warn(\"Failed to load Basis texture\", url);\n      }\n      urlHash[url](textureOptions);\n    };\n    basisWorker.postMessage({\n      type: \"init\",\n      jsUrl: basisTranscoderUrls.jsUrl,\n      wasmUrl: basisTranscoderUrls.wasmUrl,\n      supportedTextures\n    });\n  }\n  return basisWorker;\n}\nfunction loadBasisOnWorker(url, supportedTextures) {\n  const ktxWorker = getBasisWorker(supportedTextures);\n  return new Promise((resolve) => {\n    urlHash[url] = resolve;\n    ktxWorker.postMessage({ type: \"load\", url });\n  });\n}\n\nexport { loadBasisOnWorker };\n//# sourceMappingURL=loadBasisOnWorker.mjs.map\n","import { LoaderParserPriority } from '../../assets/loader/parsers/LoaderParser.mjs';\nimport { createTexture } from '../../assets/loader/parsers/textures/utils/createTexture.mjs';\nimport { checkExtension } from '../../assets/utils/checkExtension.mjs';\nimport { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { CompressedSource } from '../../rendering/renderers/shared/texture/sources/CompressedSource.mjs';\nimport { getSupportedTextureFormats } from '../../rendering/renderers/shared/texture/utils/getSupportedTextureFormats.mjs';\nimport { loadBasisOnWorker } from './worker/loadBasisOnWorker.mjs';\n\n\"use strict\";\nconst loadBasis = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.High,\n    name: \"loadBasis\"\n  },\n  /** used for deprecation purposes */\n  name: \"loadBasis\",\n  id: \"basis\",\n  test(url) {\n    return checkExtension(url, [\".basis\"]);\n  },\n  async load(url, _asset, loader) {\n    const supportedTextures = await getSupportedTextureFormats();\n    const textureOptions = await loadBasisOnWorker(url, supportedTextures);\n    const compressedTextureSource = new CompressedSource(textureOptions);\n    return createTexture(compressedTextureSource, loader, url);\n  },\n  unload(texture) {\n    if (Array.isArray(texture)) {\n      texture.forEach((t) => t.destroy(true));\n    } else {\n      texture.destroy(true);\n    }\n  }\n};\n\nexport { loadBasis };\n//# sourceMappingURL=loadBasis.mjs.map\n","\"use strict\";\nfunction createLevelBuffers(basisTexture, basisTranscoderFormat) {\n  const images = basisTexture.getNumImages();\n  const levels = basisTexture.getNumLevels(0);\n  const success = basisTexture.startTranscoding();\n  if (!success) {\n    throw new Error(\"startTranscoding failed\");\n  }\n  const levelBuffers = [];\n  for (let levelIndex = 0; levelIndex < levels; ++levelIndex) {\n    for (let sliceIndex = 0; sliceIndex < images; ++sliceIndex) {\n      const transcodeSize = basisTexture.getImageTranscodedSizeInBytes(sliceIndex, levelIndex, basisTranscoderFormat);\n      const levelBuffer = new Uint8Array(transcodeSize);\n      const success2 = basisTexture.transcodeImage(levelBuffer, sliceIndex, levelIndex, basisTranscoderFormat, 1, 0);\n      if (!success2) {\n        throw new Error(\"transcodeImage failed\");\n      }\n      levelBuffers.push(levelBuffer);\n    }\n  }\n  return levelBuffers;\n}\n\nexport { createLevelBuffers };\n//# sourceMappingURL=createLevelBuffers.mjs.map\n","\"use strict\";\nconst gpuFormatToBasisTranscoderFormatMap = {\n  \"bc3-rgba-unorm\": 3,\n  // cTFBC3_RGBA\n  \"bc7-rgba-unorm\": 6,\n  // cTFBC7_RGBA,\n  \"etc2-rgba8unorm\": 1,\n  // cTFETC2_RGBA,\n  \"astc-4x4-unorm\": 10,\n  // cTFASTC_4x4_RGBA,\n  // Uncompressed\n  rgba8unorm: 13,\n  // cTFRGBA32,\n  rgba4unorm: 16\n  // cTFRGBA4444,\n};\nfunction gpuFormatToBasisTranscoderFormat(transcoderFormat) {\n  const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];\n  if (format) {\n    return format;\n  }\n  throw new Error(`Unsupported transcoderFormat: ${transcoderFormat}`);\n}\n\nexport { gpuFormatToBasisTranscoderFormat };\n//# sourceMappingURL=gpuFormatToBasisTranscoderFormat.mjs.map\n","\"use strict\";\nconst DDS_HEADER_FIELDS = {\n  MAGIC: 0,\n  SIZE: 1,\n  FLAGS: 2,\n  HEIGHT: 3,\n  WIDTH: 4,\n  MIPMAP_COUNT: 7,\n  PIXEL_FORMAT: 19,\n  PF_FLAGS: 20,\n  FOURCC: 21,\n  RGB_BITCOUNT: 22,\n  R_BIT_MASK: 23,\n  G_BIT_MASK: 24,\n  B_BIT_MASK: 25,\n  A_BIT_MASK: 26\n};\nconst DDS_DX10_FIELDS = {\n  DXGI_FORMAT: 0,\n  RESOURCE_DIMENSION: 1,\n  MISC_FLAG: 2,\n  ARRAY_SIZE: 3,\n  MISC_FLAGS2: 4\n};\nvar DXGI_FORMAT = /* @__PURE__ */ ((DXGI_FORMAT2) => {\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_UNKNOWN\"] = 0] = \"DXGI_FORMAT_UNKNOWN\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32A32_TYPELESS\"] = 1] = \"DXGI_FORMAT_R32G32B32A32_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32A32_FLOAT\"] = 2] = \"DXGI_FORMAT_R32G32B32A32_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32A32_UINT\"] = 3] = \"DXGI_FORMAT_R32G32B32A32_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32A32_SINT\"] = 4] = \"DXGI_FORMAT_R32G32B32A32_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32_TYPELESS\"] = 5] = \"DXGI_FORMAT_R32G32B32_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32_FLOAT\"] = 6] = \"DXGI_FORMAT_R32G32B32_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32_UINT\"] = 7] = \"DXGI_FORMAT_R32G32B32_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32_SINT\"] = 8] = \"DXGI_FORMAT_R32G32B32_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16B16A16_TYPELESS\"] = 9] = \"DXGI_FORMAT_R16G16B16A16_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16B16A16_FLOAT\"] = 10] = \"DXGI_FORMAT_R16G16B16A16_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16B16A16_UNORM\"] = 11] = \"DXGI_FORMAT_R16G16B16A16_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16B16A16_UINT\"] = 12] = \"DXGI_FORMAT_R16G16B16A16_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16B16A16_SNORM\"] = 13] = \"DXGI_FORMAT_R16G16B16A16_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16B16A16_SINT\"] = 14] = \"DXGI_FORMAT_R16G16B16A16_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32_TYPELESS\"] = 15] = \"DXGI_FORMAT_R32G32_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32_FLOAT\"] = 16] = \"DXGI_FORMAT_R32G32_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32_UINT\"] = 17] = \"DXGI_FORMAT_R32G32_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32_SINT\"] = 18] = \"DXGI_FORMAT_R32G32_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G8X24_TYPELESS\"] = 19] = \"DXGI_FORMAT_R32G8X24_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_D32_FLOAT_S8X24_UINT\"] = 20] = \"DXGI_FORMAT_D32_FLOAT_S8X24_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS\"] = 21] = \"DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_X32_TYPELESS_G8X24_UINT\"] = 22] = \"DXGI_FORMAT_X32_TYPELESS_G8X24_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R10G10B10A2_TYPELESS\"] = 23] = \"DXGI_FORMAT_R10G10B10A2_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R10G10B10A2_UNORM\"] = 24] = \"DXGI_FORMAT_R10G10B10A2_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R10G10B10A2_UINT\"] = 25] = \"DXGI_FORMAT_R10G10B10A2_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R11G11B10_FLOAT\"] = 26] = \"DXGI_FORMAT_R11G11B10_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8B8A8_TYPELESS\"] = 27] = \"DXGI_FORMAT_R8G8B8A8_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8B8A8_UNORM\"] = 28] = \"DXGI_FORMAT_R8G8B8A8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8B8A8_UNORM_SRGB\"] = 29] = \"DXGI_FORMAT_R8G8B8A8_UNORM_SRGB\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8B8A8_UINT\"] = 30] = \"DXGI_FORMAT_R8G8B8A8_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8B8A8_SNORM\"] = 31] = \"DXGI_FORMAT_R8G8B8A8_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8B8A8_SINT\"] = 32] = \"DXGI_FORMAT_R8G8B8A8_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16_TYPELESS\"] = 33] = \"DXGI_FORMAT_R16G16_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16_FLOAT\"] = 34] = \"DXGI_FORMAT_R16G16_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16_UNORM\"] = 35] = \"DXGI_FORMAT_R16G16_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16_UINT\"] = 36] = \"DXGI_FORMAT_R16G16_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16_SNORM\"] = 37] = \"DXGI_FORMAT_R16G16_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16_SINT\"] = 38] = \"DXGI_FORMAT_R16G16_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32_TYPELESS\"] = 39] = \"DXGI_FORMAT_R32_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_D32_FLOAT\"] = 40] = \"DXGI_FORMAT_D32_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32_FLOAT\"] = 41] = \"DXGI_FORMAT_R32_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32_UINT\"] = 42] = \"DXGI_FORMAT_R32_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32_SINT\"] = 43] = \"DXGI_FORMAT_R32_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R24G8_TYPELESS\"] = 44] = \"DXGI_FORMAT_R24G8_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_D24_UNORM_S8_UINT\"] = 45] = \"DXGI_FORMAT_D24_UNORM_S8_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R24_UNORM_X8_TYPELESS\"] = 46] = \"DXGI_FORMAT_R24_UNORM_X8_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_X24_TYPELESS_G8_UINT\"] = 47] = \"DXGI_FORMAT_X24_TYPELESS_G8_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8_TYPELESS\"] = 48] = \"DXGI_FORMAT_R8G8_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8_UNORM\"] = 49] = \"DXGI_FORMAT_R8G8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8_UINT\"] = 50] = \"DXGI_FORMAT_R8G8_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8_SNORM\"] = 51] = \"DXGI_FORMAT_R8G8_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8_SINT\"] = 52] = \"DXGI_FORMAT_R8G8_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16_TYPELESS\"] = 53] = \"DXGI_FORMAT_R16_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16_FLOAT\"] = 54] = \"DXGI_FORMAT_R16_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_D16_UNORM\"] = 55] = \"DXGI_FORMAT_D16_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16_UNORM\"] = 56] = \"DXGI_FORMAT_R16_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16_UINT\"] = 57] = \"DXGI_FORMAT_R16_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16_SNORM\"] = 58] = \"DXGI_FORMAT_R16_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16_SINT\"] = 59] = \"DXGI_FORMAT_R16_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8_TYPELESS\"] = 60] = \"DXGI_FORMAT_R8_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8_UNORM\"] = 61] = \"DXGI_FORMAT_R8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8_UINT\"] = 62] = \"DXGI_FORMAT_R8_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8_SNORM\"] = 63] = \"DXGI_FORMAT_R8_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8_SINT\"] = 64] = \"DXGI_FORMAT_R8_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_A8_UNORM\"] = 65] = \"DXGI_FORMAT_A8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R1_UNORM\"] = 66] = \"DXGI_FORMAT_R1_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R9G9B9E5_SHAREDEXP\"] = 67] = \"DXGI_FORMAT_R9G9B9E5_SHAREDEXP\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8_B8G8_UNORM\"] = 68] = \"DXGI_FORMAT_R8G8_B8G8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_G8R8_G8B8_UNORM\"] = 69] = \"DXGI_FORMAT_G8R8_G8B8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC1_TYPELESS\"] = 70] = \"DXGI_FORMAT_BC1_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC1_UNORM\"] = 71] = \"DXGI_FORMAT_BC1_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC1_UNORM_SRGB\"] = 72] = \"DXGI_FORMAT_BC1_UNORM_SRGB\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC2_TYPELESS\"] = 73] = \"DXGI_FORMAT_BC2_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC2_UNORM\"] = 74] = \"DXGI_FORMAT_BC2_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC2_UNORM_SRGB\"] = 75] = \"DXGI_FORMAT_BC2_UNORM_SRGB\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC3_TYPELESS\"] = 76] = \"DXGI_FORMAT_BC3_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC3_UNORM\"] = 77] = \"DXGI_FORMAT_BC3_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC3_UNORM_SRGB\"] = 78] = \"DXGI_FORMAT_BC3_UNORM_SRGB\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC4_TYPELESS\"] = 79] = \"DXGI_FORMAT_BC4_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC4_UNORM\"] = 80] = \"DXGI_FORMAT_BC4_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC4_SNORM\"] = 81] = \"DXGI_FORMAT_BC4_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC5_TYPELESS\"] = 82] = \"DXGI_FORMAT_BC5_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC5_UNORM\"] = 83] = \"DXGI_FORMAT_BC5_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC5_SNORM\"] = 84] = \"DXGI_FORMAT_BC5_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B5G6R5_UNORM\"] = 85] = \"DXGI_FORMAT_B5G6R5_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B5G5R5A1_UNORM\"] = 86] = \"DXGI_FORMAT_B5G5R5A1_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B8G8R8A8_UNORM\"] = 87] = \"DXGI_FORMAT_B8G8R8A8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B8G8R8X8_UNORM\"] = 88] = \"DXGI_FORMAT_B8G8R8X8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM\"] = 89] = \"DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B8G8R8A8_TYPELESS\"] = 90] = \"DXGI_FORMAT_B8G8R8A8_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B8G8R8A8_UNORM_SRGB\"] = 91] = \"DXGI_FORMAT_B8G8R8A8_UNORM_SRGB\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B8G8R8X8_TYPELESS\"] = 92] = \"DXGI_FORMAT_B8G8R8X8_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B8G8R8X8_UNORM_SRGB\"] = 93] = \"DXGI_FORMAT_B8G8R8X8_UNORM_SRGB\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC6H_TYPELESS\"] = 94] = \"DXGI_FORMAT_BC6H_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC6H_UF16\"] = 95] = \"DXGI_FORMAT_BC6H_UF16\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC6H_SF16\"] = 96] = \"DXGI_FORMAT_BC6H_SF16\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC7_TYPELESS\"] = 97] = \"DXGI_FORMAT_BC7_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC7_UNORM\"] = 98] = \"DXGI_FORMAT_BC7_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC7_UNORM_SRGB\"] = 99] = \"DXGI_FORMAT_BC7_UNORM_SRGB\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_AYUV\"] = 100] = \"DXGI_FORMAT_AYUV\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_Y410\"] = 101] = \"DXGI_FORMAT_Y410\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_Y416\"] = 102] = \"DXGI_FORMAT_Y416\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_NV12\"] = 103] = \"DXGI_FORMAT_NV12\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_P010\"] = 104] = \"DXGI_FORMAT_P010\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_P016\"] = 105] = \"DXGI_FORMAT_P016\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_420_OPAQUE\"] = 106] = \"DXGI_FORMAT_420_OPAQUE\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_YUY2\"] = 107] = \"DXGI_FORMAT_YUY2\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_Y210\"] = 108] = \"DXGI_FORMAT_Y210\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_Y216\"] = 109] = \"DXGI_FORMAT_Y216\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_NV11\"] = 110] = \"DXGI_FORMAT_NV11\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_AI44\"] = 111] = \"DXGI_FORMAT_AI44\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_IA44\"] = 112] = \"DXGI_FORMAT_IA44\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_P8\"] = 113] = \"DXGI_FORMAT_P8\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_A8P8\"] = 114] = \"DXGI_FORMAT_A8P8\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B4G4R4A4_UNORM\"] = 115] = \"DXGI_FORMAT_B4G4R4A4_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_P208\"] = 116] = \"DXGI_FORMAT_P208\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_V208\"] = 117] = \"DXGI_FORMAT_V208\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_V408\"] = 118] = \"DXGI_FORMAT_V408\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE\"] = 119] = \"DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE\"] = 120] = \"DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_FORCE_UINT\"] = 121] = \"DXGI_FORMAT_FORCE_UINT\";\n  return DXGI_FORMAT2;\n})(DXGI_FORMAT || {});\nvar D3D10_RESOURCE_DIMENSION = /* @__PURE__ */ ((D3D10_RESOURCE_DIMENSION2) => {\n  D3D10_RESOURCE_DIMENSION2[D3D10_RESOURCE_DIMENSION2[\"DDS_DIMENSION_TEXTURE1D\"] = 2] = \"DDS_DIMENSION_TEXTURE1D\";\n  D3D10_RESOURCE_DIMENSION2[D3D10_RESOURCE_DIMENSION2[\"DDS_DIMENSION_TEXTURE2D\"] = 3] = \"DDS_DIMENSION_TEXTURE2D\";\n  D3D10_RESOURCE_DIMENSION2[D3D10_RESOURCE_DIMENSION2[\"DDS_DIMENSION_TEXTURE3D\"] = 6] = \"DDS_DIMENSION_TEXTURE3D\";\n  return D3D10_RESOURCE_DIMENSION2;\n})(D3D10_RESOURCE_DIMENSION || {});\nfunction fourCCToInt32(value) {\n  return value.charCodeAt(0) + (value.charCodeAt(1) << 8) + (value.charCodeAt(2) << 16) + (value.charCodeAt(3) << 24);\n}\nvar D3DFMT = ((D3DFMT2) => {\n  D3DFMT2[D3DFMT2[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n  D3DFMT2[D3DFMT2[\"R8G8B8\"] = 20] = \"R8G8B8\";\n  D3DFMT2[D3DFMT2[\"A8R8G8B8\"] = 21] = \"A8R8G8B8\";\n  D3DFMT2[D3DFMT2[\"X8R8G8B8\"] = 22] = \"X8R8G8B8\";\n  D3DFMT2[D3DFMT2[\"R5G6B5\"] = 23] = \"R5G6B5\";\n  D3DFMT2[D3DFMT2[\"X1R5G5B5\"] = 24] = \"X1R5G5B5\";\n  D3DFMT2[D3DFMT2[\"A1R5G5B5\"] = 25] = \"A1R5G5B5\";\n  D3DFMT2[D3DFMT2[\"A4R4G4B4\"] = 26] = \"A4R4G4B4\";\n  D3DFMT2[D3DFMT2[\"R3G3B2\"] = 27] = \"R3G3B2\";\n  D3DFMT2[D3DFMT2[\"A8\"] = 28] = \"A8\";\n  D3DFMT2[D3DFMT2[\"A8R3G3B2\"] = 29] = \"A8R3G3B2\";\n  D3DFMT2[D3DFMT2[\"X4R4G4B4\"] = 30] = \"X4R4G4B4\";\n  D3DFMT2[D3DFMT2[\"A2B10G10R10\"] = 31] = \"A2B10G10R10\";\n  D3DFMT2[D3DFMT2[\"A8B8G8R8\"] = 32] = \"A8B8G8R8\";\n  D3DFMT2[D3DFMT2[\"X8B8G8R8\"] = 33] = \"X8B8G8R8\";\n  D3DFMT2[D3DFMT2[\"G16R16\"] = 34] = \"G16R16\";\n  D3DFMT2[D3DFMT2[\"A2R10G10B10\"] = 35] = \"A2R10G10B10\";\n  D3DFMT2[D3DFMT2[\"A16B16G16R16\"] = 36] = \"A16B16G16R16\";\n  D3DFMT2[D3DFMT2[\"A8P8\"] = 40] = \"A8P8\";\n  D3DFMT2[D3DFMT2[\"P8\"] = 41] = \"P8\";\n  D3DFMT2[D3DFMT2[\"L8\"] = 50] = \"L8\";\n  D3DFMT2[D3DFMT2[\"A8L8\"] = 51] = \"A8L8\";\n  D3DFMT2[D3DFMT2[\"A4L4\"] = 52] = \"A4L4\";\n  D3DFMT2[D3DFMT2[\"V8U8\"] = 60] = \"V8U8\";\n  D3DFMT2[D3DFMT2[\"L6V5U5\"] = 61] = \"L6V5U5\";\n  D3DFMT2[D3DFMT2[\"X8L8V8U8\"] = 62] = \"X8L8V8U8\";\n  D3DFMT2[D3DFMT2[\"Q8W8V8U8\"] = 63] = \"Q8W8V8U8\";\n  D3DFMT2[D3DFMT2[\"V16U16\"] = 64] = \"V16U16\";\n  D3DFMT2[D3DFMT2[\"A2W10V10U10\"] = 67] = \"A2W10V10U10\";\n  D3DFMT2[D3DFMT2[\"Q16W16V16U16\"] = 110] = \"Q16W16V16U16\";\n  D3DFMT2[D3DFMT2[\"R16F\"] = 111] = \"R16F\";\n  D3DFMT2[D3DFMT2[\"G16R16F\"] = 112] = \"G16R16F\";\n  D3DFMT2[D3DFMT2[\"A16B16G16R16F\"] = 113] = \"A16B16G16R16F\";\n  D3DFMT2[D3DFMT2[\"R32F\"] = 114] = \"R32F\";\n  D3DFMT2[D3DFMT2[\"G32R32F\"] = 115] = \"G32R32F\";\n  D3DFMT2[D3DFMT2[\"A32B32G32R32F\"] = 116] = \"A32B32G32R32F\";\n  D3DFMT2[D3DFMT2[\"UYVY\"] = fourCCToInt32(\"UYVY\")] = \"UYVY\";\n  D3DFMT2[D3DFMT2[\"R8G8_B8G8\"] = fourCCToInt32(\"RGBG\")] = \"R8G8_B8G8\";\n  D3DFMT2[D3DFMT2[\"YUY2\"] = fourCCToInt32(\"YUY2\")] = \"YUY2\";\n  D3DFMT2[D3DFMT2[\"D3DFMT_G8R8_G8B8\"] = fourCCToInt32(\"GRGB\")] = \"D3DFMT_G8R8_G8B8\";\n  D3DFMT2[D3DFMT2[\"DXT1\"] = fourCCToInt32(\"DXT1\")] = \"DXT1\";\n  D3DFMT2[D3DFMT2[\"DXT2\"] = fourCCToInt32(\"DXT2\")] = \"DXT2\";\n  D3DFMT2[D3DFMT2[\"DXT3\"] = fourCCToInt32(\"DXT3\")] = \"DXT3\";\n  D3DFMT2[D3DFMT2[\"DXT4\"] = fourCCToInt32(\"DXT4\")] = \"DXT4\";\n  D3DFMT2[D3DFMT2[\"DXT5\"] = fourCCToInt32(\"DXT5\")] = \"DXT5\";\n  D3DFMT2[D3DFMT2[\"ATI1\"] = fourCCToInt32(\"ATI1\")] = \"ATI1\";\n  D3DFMT2[D3DFMT2[\"AT1N\"] = fourCCToInt32(\"AT1N\")] = \"AT1N\";\n  D3DFMT2[D3DFMT2[\"ATI2\"] = fourCCToInt32(\"ATI2\")] = \"ATI2\";\n  D3DFMT2[D3DFMT2[\"AT2N\"] = fourCCToInt32(\"AT2N\")] = \"AT2N\";\n  D3DFMT2[D3DFMT2[\"BC4U\"] = fourCCToInt32(\"BC4U\")] = \"BC4U\";\n  D3DFMT2[D3DFMT2[\"BC4S\"] = fourCCToInt32(\"BC4S\")] = \"BC4S\";\n  D3DFMT2[D3DFMT2[\"BC5U\"] = fourCCToInt32(\"BC5U\")] = \"BC5U\";\n  D3DFMT2[D3DFMT2[\"BC5S\"] = fourCCToInt32(\"BC5S\")] = \"BC5S\";\n  D3DFMT2[D3DFMT2[\"DX10\"] = fourCCToInt32(\"DX10\")] = \"DX10\";\n  return D3DFMT2;\n})(D3DFMT || {});\nconst FOURCC_TO_TEXTURE_FORMAT = {\n  [D3DFMT.DXT1]: \"bc1-rgba-unorm\",\n  [D3DFMT.DXT2]: \"bc2-rgba-unorm\",\n  [D3DFMT.DXT3]: \"bc2-rgba-unorm\",\n  [D3DFMT.DXT4]: \"bc3-rgba-unorm\",\n  [D3DFMT.DXT5]: \"bc3-rgba-unorm\",\n  [D3DFMT.ATI1]: \"bc4-r-unorm\",\n  [D3DFMT.BC4U]: \"bc4-r-unorm\",\n  [D3DFMT.BC4S]: \"bc4-r-snorm\",\n  [D3DFMT.ATI2]: \"bc5-rg-unorm\",\n  [D3DFMT.BC5U]: \"bc5-rg-unorm\",\n  [D3DFMT.BC5S]: \"bc5-rg-snorm\",\n  [36 /* A16B16G16R16 */]: \"rgba16uint\",\n  [110 /* Q16W16V16U16 */]: \"rgba16sint\",\n  [111 /* R16F */]: \"r16float\",\n  [112 /* G16R16F */]: \"rg16float\",\n  [113 /* A16B16G16R16F */]: \"rgba16float\",\n  [114 /* R32F */]: \"r32float\",\n  [115 /* G32R32F */]: \"rg32float\",\n  [116 /* A32B32G32R32F */]: \"rgba32float\"\n};\nconst DXGI_TO_TEXTURE_FORMAT = {\n  [70 /* DXGI_FORMAT_BC1_TYPELESS */]: \"bc1-rgba-unorm\",\n  [71 /* DXGI_FORMAT_BC1_UNORM */]: \"bc1-rgba-unorm\",\n  [72 /* DXGI_FORMAT_BC1_UNORM_SRGB */]: \"bc1-rgba-unorm-srgb\",\n  [73 /* DXGI_FORMAT_BC2_TYPELESS */]: \"bc2-rgba-unorm\",\n  [74 /* DXGI_FORMAT_BC2_UNORM */]: \"bc2-rgba-unorm\",\n  [75 /* DXGI_FORMAT_BC2_UNORM_SRGB */]: \"bc2-rgba-unorm-srgb\",\n  [76 /* DXGI_FORMAT_BC3_TYPELESS */]: \"bc3-rgba-unorm\",\n  [77 /* DXGI_FORMAT_BC3_UNORM */]: \"bc3-rgba-unorm\",\n  [78 /* DXGI_FORMAT_BC3_UNORM_SRGB */]: \"bc3-rgba-unorm-srgb\",\n  [79 /* DXGI_FORMAT_BC4_TYPELESS */]: \"bc4-r-unorm\",\n  [80 /* DXGI_FORMAT_BC4_UNORM */]: \"bc4-r-unorm\",\n  [81 /* DXGI_FORMAT_BC4_SNORM */]: \"bc4-r-snorm\",\n  [82 /* DXGI_FORMAT_BC5_TYPELESS */]: \"bc5-rg-unorm\",\n  [83 /* DXGI_FORMAT_BC5_UNORM */]: \"bc5-rg-unorm\",\n  [84 /* DXGI_FORMAT_BC5_SNORM */]: \"bc5-rg-snorm\",\n  [94 /* DXGI_FORMAT_BC6H_TYPELESS */]: \"bc6h-rgb-ufloat\",\n  [95 /* DXGI_FORMAT_BC6H_UF16 */]: \"bc6h-rgb-ufloat\",\n  [96 /* DXGI_FORMAT_BC6H_SF16 */]: \"bc6h-rgb-float\",\n  [97 /* DXGI_FORMAT_BC7_TYPELESS */]: \"bc7-rgba-unorm\",\n  [98 /* DXGI_FORMAT_BC7_UNORM */]: \"bc7-rgba-unorm\",\n  [99 /* DXGI_FORMAT_BC7_UNORM_SRGB */]: \"bc7-rgba-unorm-srgb\",\n  [28 /* DXGI_FORMAT_R8G8B8A8_UNORM */]: \"rgba8unorm\",\n  [29 /* DXGI_FORMAT_R8G8B8A8_UNORM_SRGB */]: \"rgba8unorm-srgb\",\n  [87 /* DXGI_FORMAT_B8G8R8A8_UNORM */]: \"bgra8unorm\",\n  [91 /* DXGI_FORMAT_B8G8R8A8_UNORM_SRGB */]: \"bgra8unorm-srgb\",\n  [41 /* DXGI_FORMAT_R32_FLOAT */]: \"r32float\",\n  [49 /* DXGI_FORMAT_R8G8_UNORM */]: \"rg8unorm\",\n  [56 /* DXGI_FORMAT_R16_UNORM */]: \"r16uint\",\n  [61 /* DXGI_FORMAT_R8_UNORM */]: \"r8unorm\",\n  [24 /* DXGI_FORMAT_R10G10B10A2_UNORM */]: \"rgb10a2unorm\",\n  [11 /* DXGI_FORMAT_R16G16B16A16_UNORM */]: \"rgba16uint\",\n  [13 /* DXGI_FORMAT_R16G16B16A16_SNORM */]: \"rgba16sint\",\n  [10 /* DXGI_FORMAT_R16G16B16A16_FLOAT */]: \"rgba16float\",\n  [54 /* DXGI_FORMAT_R16_FLOAT */]: \"r16float\",\n  [34 /* DXGI_FORMAT_R16G16_FLOAT */]: \"rg16float\",\n  [16 /* DXGI_FORMAT_R32G32_FLOAT */]: \"rg32float\",\n  [2 /* DXGI_FORMAT_R32G32B32A32_FLOAT */]: \"rgba32float\"\n};\nconst DDS = {\n  MAGIC_VALUE: 542327876,\n  MAGIC_SIZE: 4,\n  HEADER_SIZE: 124,\n  HEADER_DX10_SIZE: 20,\n  PIXEL_FORMAT_FLAGS: {\n    // PIXEL_FORMAT flags\n    // https://github.com/Microsoft/DirectXTex/blob/main/DirectXTex/DDS.h\n    // https://learn.microsoft.com/en-us/windows/win32/direct3ddds/dds-pixelformat\n    ALPHAPIXELS: 1,\n    ALPHA: 2,\n    FOURCC: 4,\n    RGB: 64,\n    RGBA: 65,\n    YUV: 512,\n    LUMINANCE: 131072,\n    LUMINANCEA: 131073\n  },\n  RESOURCE_MISC_TEXTURECUBE: 4,\n  HEADER_FIELDS: DDS_HEADER_FIELDS,\n  HEADER_DX10_FIELDS: DDS_DX10_FIELDS,\n  DXGI_FORMAT,\n  D3D10_RESOURCE_DIMENSION,\n  D3DFMT\n};\nconst TEXTURE_FORMAT_BLOCK_SIZE = {\n  \"bc1-rgba-unorm\": 8,\n  \"bc1-rgba-unorm-srgb\": 8,\n  \"bc2-rgba-unorm\": 16,\n  \"bc2-rgba-unorm-srgb\": 16,\n  \"bc3-rgba-unorm\": 16,\n  \"bc3-rgba-unorm-srgb\": 16,\n  \"bc4-r-unorm\": 8,\n  \"bc4-r-snorm\": 8,\n  \"bc5-rg-unorm\": 16,\n  \"bc5-rg-snorm\": 16,\n  \"bc6h-rgb-ufloat\": 16,\n  \"bc6h-rgb-float\": 16,\n  \"bc7-rgba-unorm\": 16,\n  \"bc7-rgba-unorm-srgb\": 16\n};\n\nexport { D3D10_RESOURCE_DIMENSION, D3DFMT, DDS, DXGI_FORMAT, DXGI_TO_TEXTURE_FORMAT, FOURCC_TO_TEXTURE_FORMAT, TEXTURE_FORMAT_BLOCK_SIZE };\n//# sourceMappingURL=const.mjs.map\n","import { TEXTURE_FORMAT_BLOCK_SIZE, DDS, DXGI_TO_TEXTURE_FORMAT, FOURCC_TO_TEXTURE_FORMAT } from './const.mjs';\n\n\"use strict\";\nfunction parseDDS(arrayBuffer, supportedFormats) {\n  const {\n    format,\n    fourCC,\n    width,\n    height,\n    dataOffset,\n    mipmapCount\n  } = parseDDSHeader(arrayBuffer);\n  if (!supportedFormats.includes(format)) {\n    throw new Error(`Unsupported texture format: ${fourCC} ${format}, supported: ${supportedFormats}`);\n  }\n  if (mipmapCount <= 1) {\n    return {\n      format,\n      width,\n      height,\n      resource: [new Uint8Array(arrayBuffer, dataOffset)],\n      alphaMode: \"no-premultiply-alpha\"\n    };\n  }\n  const levelBuffers = getMipmapLevelBuffers(format, width, height, dataOffset, mipmapCount, arrayBuffer);\n  const textureOptions = {\n    format,\n    width,\n    height,\n    resource: levelBuffers,\n    alphaMode: \"no-premultiply-alpha\"\n  };\n  return textureOptions;\n}\nfunction getMipmapLevelBuffers(format, width, height, dataOffset, mipmapCount, arrayBuffer) {\n  const levelBuffers = [];\n  const blockBytes = TEXTURE_FORMAT_BLOCK_SIZE[format];\n  let mipWidth = width;\n  let mipHeight = height;\n  let offset = dataOffset;\n  for (let level = 0; level < mipmapCount; ++level) {\n    const alignedWidth = Math.ceil(Math.max(4, mipWidth) / 4) * 4;\n    const alignedHeight = Math.ceil(Math.max(4, mipHeight) / 4) * 4;\n    const byteLength = blockBytes ? alignedWidth / 4 * alignedHeight / 4 * blockBytes : mipWidth * mipHeight * 4;\n    const levelBuffer = new Uint8Array(arrayBuffer, offset, byteLength);\n    levelBuffers.push(levelBuffer);\n    offset += byteLength;\n    mipWidth = Math.max(mipWidth >> 1, 1);\n    mipHeight = Math.max(mipHeight >> 1, 1);\n  }\n  return levelBuffers;\n}\nfunction parseDDSHeader(buffer) {\n  const header = new Uint32Array(buffer, 0, DDS.HEADER_SIZE / Uint32Array.BYTES_PER_ELEMENT);\n  if (header[DDS.HEADER_FIELDS.MAGIC] !== DDS.MAGIC_VALUE) {\n    throw new Error(\"Invalid magic number in DDS header\");\n  }\n  const height = header[DDS.HEADER_FIELDS.HEIGHT];\n  const width = header[DDS.HEADER_FIELDS.WIDTH];\n  const mipmapCount = Math.max(1, header[DDS.HEADER_FIELDS.MIPMAP_COUNT]);\n  const flags = header[DDS.HEADER_FIELDS.PF_FLAGS];\n  const fourCC = header[DDS.HEADER_FIELDS.FOURCC];\n  const format = getTextureFormat(header, flags, fourCC, buffer);\n  const dataOffset = DDS.MAGIC_SIZE + DDS.HEADER_SIZE + (fourCC === DDS.D3DFMT.DX10 ? DDS.HEADER_DX10_SIZE : 0);\n  return {\n    format,\n    fourCC,\n    width,\n    height,\n    dataOffset,\n    mipmapCount\n  };\n}\nfunction getTextureFormat(header, flags, fourCC, buffer) {\n  if (flags & DDS.PIXEL_FORMAT_FLAGS.FOURCC) {\n    if (fourCC === DDS.D3DFMT.DX10) {\n      const dx10Header = new Uint32Array(\n        buffer,\n        DDS.MAGIC_SIZE + DDS.HEADER_SIZE,\n        // there is a 20-byte DDS_HEADER_DX10 after DDS_HEADER\n        DDS.HEADER_DX10_SIZE / Uint32Array.BYTES_PER_ELEMENT\n      );\n      const miscFlag = dx10Header[DDS.HEADER_DX10_FIELDS.MISC_FLAG];\n      if (miscFlag === DDS.RESOURCE_MISC_TEXTURECUBE) {\n        throw new Error(\"DDSParser does not support cubemap textures\");\n      }\n      const resourceDimension = dx10Header[DDS.HEADER_DX10_FIELDS.RESOURCE_DIMENSION];\n      if (resourceDimension === DDS.D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D) {\n        throw new Error(\"DDSParser does not supported 3D texture data\");\n      }\n      const dxgiFormat = dx10Header[DDS.HEADER_DX10_FIELDS.DXGI_FORMAT];\n      if (dxgiFormat in DXGI_TO_TEXTURE_FORMAT) {\n        return DXGI_TO_TEXTURE_FORMAT[dxgiFormat];\n      }\n      throw new Error(`DDSParser cannot parse texture data with DXGI format ${dxgiFormat}`);\n    }\n    if (fourCC in FOURCC_TO_TEXTURE_FORMAT) {\n      return FOURCC_TO_TEXTURE_FORMAT[fourCC];\n    }\n    throw new Error(`DDSParser cannot parse texture data with fourCC format ${fourCC}`);\n  }\n  if (flags & DDS.PIXEL_FORMAT_FLAGS.RGB || flags & DDS.PIXEL_FORMAT_FLAGS.RGBA) {\n    return getUncompressedTextureFormat(header);\n  }\n  if (flags & DDS.PIXEL_FORMAT_FLAGS.YUV) {\n    throw new Error(\"DDSParser does not supported YUV uncompressed texture data.\");\n  }\n  if (flags & DDS.PIXEL_FORMAT_FLAGS.LUMINANCE || flags & DDS.PIXEL_FORMAT_FLAGS.LUMINANCEA) {\n    throw new Error(\"DDSParser does not support single-channel (lumninance) texture data!\");\n  }\n  if (flags & DDS.PIXEL_FORMAT_FLAGS.ALPHA || flags & DDS.PIXEL_FORMAT_FLAGS.ALPHAPIXELS) {\n    throw new Error(\"DDSParser does not support single-channel (alpha) texture data!\");\n  }\n  throw new Error(\"DDSParser failed to load a texture file due to an unknown reason!\");\n}\nfunction getUncompressedTextureFormat(header) {\n  const bitCount = header[DDS.HEADER_FIELDS.RGB_BITCOUNT];\n  const rBitMask = header[DDS.HEADER_FIELDS.R_BIT_MASK];\n  const gBitMask = header[DDS.HEADER_FIELDS.G_BIT_MASK];\n  const bBitMask = header[DDS.HEADER_FIELDS.B_BIT_MASK];\n  const aBitMask = header[DDS.HEADER_FIELDS.A_BIT_MASK];\n  switch (bitCount) {\n    case 32:\n      if (rBitMask === 255 && gBitMask === 65280 && bBitMask === 16711680 && aBitMask === 4278190080) {\n        return DXGI_TO_TEXTURE_FORMAT[DDS.DXGI_FORMAT.DXGI_FORMAT_R8G8B8A8_UNORM];\n      }\n      if (rBitMask === 16711680 && gBitMask === 65280 && bBitMask === 255 && aBitMask === 4278190080) {\n        return DXGI_TO_TEXTURE_FORMAT[DDS.DXGI_FORMAT.DXGI_FORMAT_B8G8R8A8_UNORM];\n      }\n      if (rBitMask === 1072693248 && gBitMask === 1047552 && bBitMask === 1023 && aBitMask === 3221225472) {\n        return DXGI_TO_TEXTURE_FORMAT[DDS.DXGI_FORMAT.DXGI_FORMAT_R10G10B10A2_UNORM];\n      }\n      if (rBitMask === 65535 && gBitMask === 4294901760 && bBitMask === 0 && aBitMask === 0) {\n        return DXGI_TO_TEXTURE_FORMAT[DDS.DXGI_FORMAT.DXGI_FORMAT_R16G16_UNORM];\n      }\n      if (rBitMask === 4294967295 && gBitMask === 0 && bBitMask === 0 && aBitMask === 0) {\n        return DXGI_TO_TEXTURE_FORMAT[DDS.DXGI_FORMAT.DXGI_FORMAT_R32_FLOAT];\n      }\n      break;\n    case 24:\n      if (rBitMask === 16711680 && gBitMask === 65280 && bBitMask === 255 && aBitMask === 32768) {\n      }\n      break;\n    case 16:\n      if (rBitMask === 31744 && gBitMask === 992 && bBitMask === 31 && aBitMask === 32768) {\n        return DXGI_TO_TEXTURE_FORMAT[DDS.DXGI_FORMAT.DXGI_FORMAT_B5G5R5A1_UNORM];\n      }\n      if (rBitMask === 63488 && gBitMask === 2016 && bBitMask === 31 && aBitMask === 0) {\n        return DXGI_TO_TEXTURE_FORMAT[DDS.DXGI_FORMAT.DXGI_FORMAT_B5G6R5_UNORM];\n      }\n      if (rBitMask === 3840 && gBitMask === 240 && bBitMask === 15 && aBitMask === 61440) {\n        return DXGI_TO_TEXTURE_FORMAT[DDS.DXGI_FORMAT.DXGI_FORMAT_B4G4R4A4_UNORM];\n      }\n      if (rBitMask === 255 && gBitMask === 0 && bBitMask === 0 && aBitMask === 65280) {\n        return DXGI_TO_TEXTURE_FORMAT[DDS.DXGI_FORMAT.DXGI_FORMAT_R8G8_UNORM];\n      }\n      if (rBitMask === 65535 && gBitMask === 0 && bBitMask === 0 && aBitMask === 0) {\n        return DXGI_TO_TEXTURE_FORMAT[DDS.DXGI_FORMAT.DXGI_FORMAT_R16_UNORM];\n      }\n      break;\n    case 8:\n      if (rBitMask === 255 && gBitMask === 0 && bBitMask === 0 && aBitMask === 0) {\n        return DXGI_TO_TEXTURE_FORMAT[DDS.DXGI_FORMAT.DXGI_FORMAT_R8_UNORM];\n      }\n      break;\n  }\n  throw new Error(`DDSParser does not support uncompressed texture with configuration:\n                bitCount = ${bitCount}, rBitMask = ${rBitMask}, gBitMask = ${gBitMask}, aBitMask = ${aBitMask}`);\n}\n\nexport { parseDDS };\n//# sourceMappingURL=parseDDS.mjs.map\n","import { LoaderParserPriority } from '../../assets/loader/parsers/LoaderParser.mjs';\nimport { createTexture } from '../../assets/loader/parsers/textures/utils/createTexture.mjs';\nimport { checkExtension } from '../../assets/utils/checkExtension.mjs';\nimport { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { CompressedSource } from '../../rendering/renderers/shared/texture/sources/CompressedSource.mjs';\nimport { getSupportedTextureFormats } from '../../rendering/renderers/shared/texture/utils/getSupportedTextureFormats.mjs';\nimport { parseDDS } from './parseDDS.mjs';\n\n\"use strict\";\nconst loadDDS = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.High,\n    name: \"loadDDS\"\n  },\n  /** used for deprecation purposes */\n  name: \"loadDDS\",\n  id: \"dds\",\n  test(url) {\n    return checkExtension(url, [\".dds\"]);\n  },\n  async load(url, _asset, loader) {\n    const supportedTextures = await getSupportedTextureFormats();\n    const ddsResponse = await fetch(url);\n    const ddsArrayBuffer = await ddsResponse.arrayBuffer();\n    const textureOptions = parseDDS(ddsArrayBuffer, supportedTextures);\n    const compressedTextureSource = new CompressedSource(textureOptions);\n    return createTexture(compressedTextureSource, loader, url);\n  },\n  unload(texture) {\n    if (Array.isArray(texture)) {\n      texture.forEach((t) => t.destroy(true));\n    } else {\n      texture.destroy(true);\n    }\n  }\n};\n\nexport { loadDDS };\n//# sourceMappingURL=loadDDS.mjs.map\n","\"use strict\";\nvar GL_INTERNAL_FORMAT = /* @__PURE__ */ ((GL_INTERNAL_FORMAT2) => {\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"RGBA8_SNORM\"] = 36759] = \"RGBA8_SNORM\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"RGBA\"] = 6408] = \"RGBA\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"RGBA8UI\"] = 36220] = \"RGBA8UI\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"SRGB8_ALPHA8\"] = 35907] = \"SRGB8_ALPHA8\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"RGBA8I\"] = 36238] = \"RGBA8I\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"RGBA8\"] = 32856] = \"RGBA8\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGB_S3TC_DXT1_EXT\"] = 33776] = \"COMPRESSED_RGB_S3TC_DXT1_EXT\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_S3TC_DXT1_EXT\"] = 33777] = \"COMPRESSED_RGBA_S3TC_DXT1_EXT\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_S3TC_DXT3_EXT\"] = 33778] = \"COMPRESSED_RGBA_S3TC_DXT3_EXT\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_S3TC_DXT5_EXT\"] = 33779] = \"COMPRESSED_RGBA_S3TC_DXT5_EXT\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT\"] = 35917] = \"COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT\"] = 35918] = \"COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT\"] = 35919] = \"COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB_S3TC_DXT1_EXT\"] = 35916] = \"COMPRESSED_SRGB_S3TC_DXT1_EXT\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RED_RGTC1_EXT\"] = 36283] = \"COMPRESSED_RED_RGTC1_EXT\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SIGNED_RED_RGTC1_EXT\"] = 36284] = \"COMPRESSED_SIGNED_RED_RGTC1_EXT\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RED_GREEN_RGTC2_EXT\"] = 36285] = \"COMPRESSED_RED_GREEN_RGTC2_EXT\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT\"] = 36286] = \"COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_R11_EAC\"] = 37488] = \"COMPRESSED_R11_EAC\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SIGNED_R11_EAC\"] = 37489] = \"COMPRESSED_SIGNED_R11_EAC\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RG11_EAC\"] = 37490] = \"COMPRESSED_RG11_EAC\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SIGNED_RG11_EAC\"] = 37491] = \"COMPRESSED_SIGNED_RG11_EAC\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGB8_ETC2\"] = 37492] = \"COMPRESSED_RGB8_ETC2\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA8_ETC2_EAC\"] = 37496] = \"COMPRESSED_RGBA8_ETC2_EAC\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ETC2\"] = 37493] = \"COMPRESSED_SRGB8_ETC2\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC\"] = 37497] = \"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2\"] = 37494] = \"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2\"] = 37495] = \"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_ASTC_4x4_KHR\"] = 37808] = \"COMPRESSED_RGBA_ASTC_4x4_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_ASTC_5x4_KHR\"] = 37809] = \"COMPRESSED_RGBA_ASTC_5x4_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_ASTC_5x5_KHR\"] = 37810] = \"COMPRESSED_RGBA_ASTC_5x5_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_ASTC_6x5_KHR\"] = 37811] = \"COMPRESSED_RGBA_ASTC_6x5_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_ASTC_6x6_KHR\"] = 37812] = \"COMPRESSED_RGBA_ASTC_6x6_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_ASTC_8x5_KHR\"] = 37813] = \"COMPRESSED_RGBA_ASTC_8x5_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_ASTC_8x6_KHR\"] = 37814] = \"COMPRESSED_RGBA_ASTC_8x6_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_ASTC_8x8_KHR\"] = 37815] = \"COMPRESSED_RGBA_ASTC_8x8_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_ASTC_10x5_KHR\"] = 37816] = \"COMPRESSED_RGBA_ASTC_10x5_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_ASTC_10x6_KHR\"] = 37817] = \"COMPRESSED_RGBA_ASTC_10x6_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_ASTC_10x8_KHR\"] = 37818] = \"COMPRESSED_RGBA_ASTC_10x8_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_ASTC_10x10_KHR\"] = 37819] = \"COMPRESSED_RGBA_ASTC_10x10_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_ASTC_12x10_KHR\"] = 37820] = \"COMPRESSED_RGBA_ASTC_12x10_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_ASTC_12x12_KHR\"] = 37821] = \"COMPRESSED_RGBA_ASTC_12x12_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR\"] = 37840] = \"COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR\"] = 37841] = \"COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR\"] = 37842] = \"COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR\"] = 37843] = \"COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR\"] = 37844] = \"COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR\"] = 37845] = \"COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR\"] = 37846] = \"COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR\"] = 37847] = \"COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR\"] = 37848] = \"COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR\"] = 37849] = \"COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR\"] = 37850] = \"COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR\"] = 37851] = \"COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR\"] = 37852] = \"COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR\"] = 37853] = \"COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGBA_BPTC_UNORM_EXT\"] = 36492] = \"COMPRESSED_RGBA_BPTC_UNORM_EXT\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT\"] = 36493] = \"COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT\"] = 36494] = \"COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT\";\n  GL_INTERNAL_FORMAT2[GL_INTERNAL_FORMAT2[\"COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT\"] = 36495] = \"COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT\";\n  return GL_INTERNAL_FORMAT2;\n})(GL_INTERNAL_FORMAT || {});\nvar GL_FORMATS = /* @__PURE__ */ ((GL_FORMATS2) => {\n  GL_FORMATS2[GL_FORMATS2[\"RGBA\"] = 6408] = \"RGBA\";\n  GL_FORMATS2[GL_FORMATS2[\"RGB\"] = 6407] = \"RGB\";\n  GL_FORMATS2[GL_FORMATS2[\"RG\"] = 33319] = \"RG\";\n  GL_FORMATS2[GL_FORMATS2[\"RED\"] = 6403] = \"RED\";\n  GL_FORMATS2[GL_FORMATS2[\"RGBA_INTEGER\"] = 36249] = \"RGBA_INTEGER\";\n  GL_FORMATS2[GL_FORMATS2[\"RGB_INTEGER\"] = 36248] = \"RGB_INTEGER\";\n  GL_FORMATS2[GL_FORMATS2[\"RG_INTEGER\"] = 33320] = \"RG_INTEGER\";\n  GL_FORMATS2[GL_FORMATS2[\"RED_INTEGER\"] = 36244] = \"RED_INTEGER\";\n  GL_FORMATS2[GL_FORMATS2[\"ALPHA\"] = 6406] = \"ALPHA\";\n  GL_FORMATS2[GL_FORMATS2[\"LUMINANCE\"] = 6409] = \"LUMINANCE\";\n  GL_FORMATS2[GL_FORMATS2[\"LUMINANCE_ALPHA\"] = 6410] = \"LUMINANCE_ALPHA\";\n  GL_FORMATS2[GL_FORMATS2[\"DEPTH_COMPONENT\"] = 6402] = \"DEPTH_COMPONENT\";\n  GL_FORMATS2[GL_FORMATS2[\"DEPTH_STENCIL\"] = 34041] = \"DEPTH_STENCIL\";\n  return GL_FORMATS2;\n})(GL_FORMATS || {});\nvar GL_TYPES = /* @__PURE__ */ ((GL_TYPES2) => {\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_BYTE\"] = 5121] = \"UNSIGNED_BYTE\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_SHORT\"] = 5123] = \"UNSIGNED_SHORT\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_SHORT_5_6_5\"] = 33635] = \"UNSIGNED_SHORT_5_6_5\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_SHORT_4_4_4_4\"] = 32819] = \"UNSIGNED_SHORT_4_4_4_4\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_SHORT_5_5_5_1\"] = 32820] = \"UNSIGNED_SHORT_5_5_5_1\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_INT\"] = 5125] = \"UNSIGNED_INT\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_INT_10F_11F_11F_REV\"] = 35899] = \"UNSIGNED_INT_10F_11F_11F_REV\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_INT_2_10_10_10_REV\"] = 33640] = \"UNSIGNED_INT_2_10_10_10_REV\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_INT_24_8\"] = 34042] = \"UNSIGNED_INT_24_8\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_INT_5_9_9_9_REV\"] = 35902] = \"UNSIGNED_INT_5_9_9_9_REV\";\n  GL_TYPES2[GL_TYPES2[\"BYTE\"] = 5120] = \"BYTE\";\n  GL_TYPES2[GL_TYPES2[\"SHORT\"] = 5122] = \"SHORT\";\n  GL_TYPES2[GL_TYPES2[\"INT\"] = 5124] = \"INT\";\n  GL_TYPES2[GL_TYPES2[\"FLOAT\"] = 5126] = \"FLOAT\";\n  GL_TYPES2[GL_TYPES2[\"FLOAT_32_UNSIGNED_INT_24_8_REV\"] = 36269] = \"FLOAT_32_UNSIGNED_INT_24_8_REV\";\n  GL_TYPES2[GL_TYPES2[\"HALF_FLOAT\"] = 36193] = \"HALF_FLOAT\";\n  return GL_TYPES2;\n})(GL_TYPES || {});\nconst INTERNAL_FORMAT_TO_TEXTURE_FORMATS = {\n  [33776 /* COMPRESSED_RGB_S3TC_DXT1_EXT */]: \"bc1-rgba-unorm\",\n  // TODO: ???\n  [33777 /* COMPRESSED_RGBA_S3TC_DXT1_EXT */]: \"bc1-rgba-unorm\",\n  [33778 /* COMPRESSED_RGBA_S3TC_DXT3_EXT */]: \"bc2-rgba-unorm\",\n  [33779 /* COMPRESSED_RGBA_S3TC_DXT5_EXT */]: \"bc3-rgba-unorm\",\n  [35916 /* COMPRESSED_SRGB_S3TC_DXT1_EXT */]: \"bc1-rgba-unorm-srgb\",\n  // TODO: ???\n  [35917 /* COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT */]: \"bc1-rgba-unorm-srgb\",\n  [35918 /* COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT */]: \"bc2-rgba-unorm-srgb\",\n  [35919 /* COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT */]: \"bc3-rgba-unorm-srgb\",\n  [36283 /* COMPRESSED_RED_RGTC1_EXT */]: \"bc4-r-unorm\",\n  [36284 /* COMPRESSED_SIGNED_RED_RGTC1_EXT */]: \"bc4-r-snorm\",\n  [36285 /* COMPRESSED_RED_GREEN_RGTC2_EXT */]: \"bc5-rg-unorm\",\n  [36286 /* COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT */]: \"bc5-rg-snorm\",\n  [37488 /* COMPRESSED_R11_EAC */]: \"eac-r11unorm\",\n  // [GL_INTERNAL_FORMAT.COMPRESSED_SIGNED_R11_EAC]: 'eac-r11snorm',\n  [37490 /* COMPRESSED_RG11_EAC */]: \"eac-rg11snorm\",\n  // [GL_INTERNAL_FORMAT.COMPRESSED_SIGNED_RG11_EAC]: 'eac-rg11unorm',\n  [37492 /* COMPRESSED_RGB8_ETC2 */]: \"etc2-rgb8unorm\",\n  [37496 /* COMPRESSED_RGBA8_ETC2_EAC */]: \"etc2-rgba8unorm\",\n  [37493 /* COMPRESSED_SRGB8_ETC2 */]: \"etc2-rgb8unorm-srgb\",\n  [37497 /* COMPRESSED_SRGB8_ALPHA8_ETC2_EAC */]: \"etc2-rgba8unorm-srgb\",\n  [37494 /* COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 */]: \"etc2-rgb8a1unorm\",\n  [37495 /* COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2 */]: \"etc2-rgb8a1unorm-srgb\",\n  [37808 /* COMPRESSED_RGBA_ASTC_4x4_KHR */]: \"astc-4x4-unorm\",\n  [37840 /* COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR */]: \"astc-4x4-unorm-srgb\",\n  [37809 /* COMPRESSED_RGBA_ASTC_5x4_KHR */]: \"astc-5x4-unorm\",\n  [37841 /* COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR */]: \"astc-5x4-unorm-srgb\",\n  [37810 /* COMPRESSED_RGBA_ASTC_5x5_KHR */]: \"astc-5x5-unorm\",\n  [37842 /* COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR */]: \"astc-5x5-unorm-srgb\",\n  [37811 /* COMPRESSED_RGBA_ASTC_6x5_KHR */]: \"astc-6x5-unorm\",\n  [37843 /* COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR */]: \"astc-6x5-unorm-srgb\",\n  [37812 /* COMPRESSED_RGBA_ASTC_6x6_KHR */]: \"astc-6x6-unorm\",\n  [37844 /* COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR */]: \"astc-6x6-unorm-srgb\",\n  [37813 /* COMPRESSED_RGBA_ASTC_8x5_KHR */]: \"astc-8x5-unorm\",\n  [37845 /* COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR */]: \"astc-8x5-unorm-srgb\",\n  [37814 /* COMPRESSED_RGBA_ASTC_8x6_KHR */]: \"astc-8x6-unorm\",\n  [37846 /* COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR */]: \"astc-8x6-unorm-srgb\",\n  [37815 /* COMPRESSED_RGBA_ASTC_8x8_KHR */]: \"astc-8x8-unorm\",\n  [37847 /* COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR */]: \"astc-8x8-unorm-srgb\",\n  [37816 /* COMPRESSED_RGBA_ASTC_10x5_KHR */]: \"astc-10x5-unorm\",\n  [37848 /* COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR */]: \"astc-10x5-unorm-srgb\",\n  [37817 /* COMPRESSED_RGBA_ASTC_10x6_KHR */]: \"astc-10x6-unorm\",\n  [37849 /* COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR */]: \"astc-10x6-unorm-srgb\",\n  [37818 /* COMPRESSED_RGBA_ASTC_10x8_KHR */]: \"astc-10x8-unorm\",\n  [37850 /* COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR */]: \"astc-10x8-unorm-srgb\",\n  [37819 /* COMPRESSED_RGBA_ASTC_10x10_KHR */]: \"astc-10x10-unorm\",\n  [37851 /* COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR */]: \"astc-10x10-unorm-srgb\",\n  [37820 /* COMPRESSED_RGBA_ASTC_12x10_KHR */]: \"astc-12x10-unorm\",\n  [37852 /* COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR */]: \"astc-12x10-unorm-srgb\",\n  [37821 /* COMPRESSED_RGBA_ASTC_12x12_KHR */]: \"astc-12x12-unorm\",\n  [37853 /* COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR */]: \"astc-12x12-unorm-srgb\",\n  [36492 /* COMPRESSED_RGBA_BPTC_UNORM_EXT */]: \"bc7-rgba-unorm\",\n  [36493 /* COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT */]: \"bc7-rgba-unorm-srgb\",\n  [36494 /* COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT */]: \"bc6h-rgb-float\",\n  [36495 /* COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT */]: \"bc6h-rgb-ufloat\",\n  [35907 /* SRGB8_ALPHA8 */]: \"rgba8unorm-srgb\",\n  [36759 /* RGBA8_SNORM */]: \"rgba8snorm\",\n  [36220 /* RGBA8UI */]: \"rgba8uint\",\n  [36238 /* RGBA8I */]: \"rgba8sint\",\n  [6408 /* RGBA */]: \"rgba8unorm\"\n  // [GL_INTERNAL_FORMAT.RGBA8]: 'bgra8unorm'\n};\nconst FILE_IDENTIFIER = [171, 75, 84, 88, 32, 49, 49, 187, 13, 10, 26, 10];\nconst FIELDS = {\n  FILE_IDENTIFIER: 0,\n  ENDIANNESS: 12,\n  GL_TYPE: 16,\n  GL_TYPE_SIZE: 20,\n  GL_FORMAT: 24,\n  GL_INTERNAL_FORMAT: 28,\n  GL_BASE_INTERNAL_FORMAT: 32,\n  PIXEL_WIDTH: 36,\n  PIXEL_HEIGHT: 40,\n  PIXEL_DEPTH: 44,\n  NUMBER_OF_ARRAY_ELEMENTS: 48,\n  NUMBER_OF_FACES: 52,\n  NUMBER_OF_MIPMAP_LEVELS: 56,\n  BYTES_OF_KEY_VALUE_DATA: 60\n};\nconst FILE_HEADER_SIZE = 64;\nconst ENDIANNESS = 67305985;\nconst TYPES_TO_BYTES_PER_COMPONENT = {\n  [5121 /* UNSIGNED_BYTE */]: 1,\n  [5123 /* UNSIGNED_SHORT */]: 2,\n  [5124 /* INT */]: 4,\n  [5125 /* UNSIGNED_INT */]: 4,\n  [5126 /* FLOAT */]: 4,\n  [36193 /* HALF_FLOAT */]: 8\n};\nconst FORMATS_TO_COMPONENTS = {\n  [6408 /* RGBA */]: 4,\n  [6407 /* RGB */]: 3,\n  [33319 /* RG */]: 2,\n  [6403 /* RED */]: 1,\n  [6409 /* LUMINANCE */]: 1,\n  [6410 /* LUMINANCE_ALPHA */]: 2,\n  [6406 /* ALPHA */]: 1\n};\nconst TYPES_TO_BYTES_PER_PIXEL = {\n  [32819 /* UNSIGNED_SHORT_4_4_4_4 */]: 2,\n  [32820 /* UNSIGNED_SHORT_5_5_5_1 */]: 2,\n  [33635 /* UNSIGNED_SHORT_5_6_5 */]: 2\n};\nconst INTERNAL_FORMAT_TO_BYTES_PER_PIXEL = {\n  [33776 /* COMPRESSED_RGB_S3TC_DXT1_EXT */]: 0.5,\n  [33777 /* COMPRESSED_RGBA_S3TC_DXT1_EXT */]: 0.5,\n  [33778 /* COMPRESSED_RGBA_S3TC_DXT3_EXT */]: 1,\n  [33779 /* COMPRESSED_RGBA_S3TC_DXT5_EXT */]: 1,\n  [35916 /* COMPRESSED_SRGB_S3TC_DXT1_EXT */]: 0.5,\n  [35917 /* COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT */]: 0.5,\n  [35918 /* COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT */]: 1,\n  [35919 /* COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT */]: 1,\n  [36283 /* COMPRESSED_RED_RGTC1_EXT */]: 0.5,\n  [36284 /* COMPRESSED_SIGNED_RED_RGTC1_EXT */]: 0.5,\n  [36285 /* COMPRESSED_RED_GREEN_RGTC2_EXT */]: 1,\n  [36286 /* COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT */]: 1,\n  [37488 /* COMPRESSED_R11_EAC */]: 0.5,\n  [37489 /* COMPRESSED_SIGNED_R11_EAC */]: 0.5,\n  [37490 /* COMPRESSED_RG11_EAC */]: 1,\n  [37491 /* COMPRESSED_SIGNED_RG11_EAC */]: 1,\n  [37492 /* COMPRESSED_RGB8_ETC2 */]: 0.5,\n  [37496 /* COMPRESSED_RGBA8_ETC2_EAC */]: 1,\n  [37493 /* COMPRESSED_SRGB8_ETC2 */]: 0.5,\n  [37497 /* COMPRESSED_SRGB8_ALPHA8_ETC2_EAC */]: 1,\n  [37494 /* COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 */]: 0.5,\n  [37495 /* COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2 */]: 0.5,\n  [37808 /* COMPRESSED_RGBA_ASTC_4x4_KHR */]: 1,\n  [37840 /* COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR */]: 1,\n  [37809 /* COMPRESSED_RGBA_ASTC_5x4_KHR */]: 0.8,\n  [37841 /* COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR */]: 0.8,\n  [37810 /* COMPRESSED_RGBA_ASTC_5x5_KHR */]: 0.64,\n  [37842 /* COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR */]: 0.64,\n  [37811 /* COMPRESSED_RGBA_ASTC_6x5_KHR */]: 0.53375,\n  [37843 /* COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR */]: 0.53375,\n  [37812 /* COMPRESSED_RGBA_ASTC_6x6_KHR */]: 0.445,\n  [37844 /* COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR */]: 0.445,\n  [37813 /* COMPRESSED_RGBA_ASTC_8x5_KHR */]: 0.4,\n  [37845 /* COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR */]: 0.4,\n  [37814 /* COMPRESSED_RGBA_ASTC_8x6_KHR */]: 0.33375,\n  [37846 /* COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR */]: 0.33375,\n  [37815 /* COMPRESSED_RGBA_ASTC_8x8_KHR */]: 0.25,\n  [37847 /* COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR */]: 0.25,\n  [37816 /* COMPRESSED_RGBA_ASTC_10x5_KHR */]: 0.32,\n  [37848 /* COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR */]: 0.32,\n  [37817 /* COMPRESSED_RGBA_ASTC_10x6_KHR */]: 0.26625,\n  [37849 /* COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR */]: 0.26625,\n  [37818 /* COMPRESSED_RGBA_ASTC_10x8_KHR */]: 0.2,\n  [37850 /* COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR */]: 0.2,\n  [37819 /* COMPRESSED_RGBA_ASTC_10x10_KHR */]: 0.16,\n  [37851 /* COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR */]: 0.16,\n  [37820 /* COMPRESSED_RGBA_ASTC_12x10_KHR */]: 0.13375,\n  [37852 /* COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR */]: 0.13375,\n  [37821 /* COMPRESSED_RGBA_ASTC_12x12_KHR */]: 0.11125,\n  [37853 /* COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR */]: 0.11125,\n  [36492 /* COMPRESSED_RGBA_BPTC_UNORM_EXT */]: 1,\n  [36493 /* COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT */]: 1,\n  [36494 /* COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT */]: 1,\n  [36495 /* COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT */]: 1\n};\nconst KTX = {\n  FILE_HEADER_SIZE,\n  FILE_IDENTIFIER,\n  FORMATS_TO_COMPONENTS,\n  INTERNAL_FORMAT_TO_BYTES_PER_PIXEL,\n  INTERNAL_FORMAT_TO_TEXTURE_FORMATS,\n  FIELDS,\n  TYPES_TO_BYTES_PER_COMPONENT,\n  TYPES_TO_BYTES_PER_PIXEL,\n  ENDIANNESS\n};\n\nexport { GL_INTERNAL_FORMAT, KTX };\n//# sourceMappingURL=const.mjs.map\n","import { KTX } from '../ktx2/const.mjs';\n\n\"use strict\";\nfunction parseKTX(arrayBuffer, supportedFormats) {\n  const dataView = new DataView(arrayBuffer);\n  if (!validate(dataView)) {\n    throw new Error(\"Invalid KTX identifier in header\");\n  }\n  const {\n    littleEndian,\n    glType,\n    glFormat,\n    glInternalFormat,\n    pixelWidth,\n    pixelHeight,\n    numberOfMipmapLevels,\n    offset\n  } = parseKTXHeader(dataView);\n  const textureFormat = KTX.INTERNAL_FORMAT_TO_TEXTURE_FORMATS[glInternalFormat];\n  if (!textureFormat) {\n    throw new Error(`Unknown texture format ${glInternalFormat}`);\n  }\n  if (!supportedFormats.includes(textureFormat)) {\n    throw new Error(`Unsupported texture format: ${textureFormat}, supportedFormats: ${supportedFormats}`);\n  }\n  const imagePixelByteSize = getImagePixelByteSize(glType, glFormat, glInternalFormat);\n  const imageBuffers = getImageBuffers(\n    dataView,\n    glType,\n    imagePixelByteSize,\n    pixelWidth,\n    pixelHeight,\n    offset,\n    numberOfMipmapLevels,\n    littleEndian\n  );\n  return {\n    format: textureFormat,\n    width: pixelWidth,\n    height: pixelHeight,\n    resource: imageBuffers,\n    alphaMode: \"no-premultiply-alpha\"\n  };\n}\nfunction getImageBuffers(dataView, glType, imagePixelByteSize, pixelWidth, pixelHeight, offset, numberOfMipmapLevels, littleEndian) {\n  const alignedWidth = pixelWidth + 3 & ~3;\n  const alignedHeight = pixelHeight + 3 & ~3;\n  let imagePixels = pixelWidth * pixelHeight;\n  if (glType === 0) {\n    imagePixels = alignedWidth * alignedHeight;\n  }\n  let mipByteSize = imagePixels * imagePixelByteSize;\n  let mipWidth = pixelWidth;\n  let mipHeight = pixelHeight;\n  let alignedMipWidth = alignedWidth;\n  let alignedMipHeight = alignedHeight;\n  let imageOffset = offset;\n  const imageBuffers = new Array(numberOfMipmapLevels);\n  for (let mipmapLevel = 0; mipmapLevel < numberOfMipmapLevels; mipmapLevel++) {\n    const imageSize = dataView.getUint32(imageOffset, littleEndian);\n    let elementOffset = imageOffset + 4;\n    imageBuffers[mipmapLevel] = new Uint8Array(dataView.buffer, elementOffset, mipByteSize);\n    elementOffset += mipByteSize;\n    imageOffset += imageSize + 4;\n    imageOffset = imageOffset % 4 !== 0 ? imageOffset + 4 - imageOffset % 4 : imageOffset;\n    mipWidth = mipWidth >> 1 || 1;\n    mipHeight = mipHeight >> 1 || 1;\n    alignedMipWidth = mipWidth + 4 - 1 & ~(4 - 1);\n    alignedMipHeight = mipHeight + 4 - 1 & ~(4 - 1);\n    mipByteSize = alignedMipWidth * alignedMipHeight * imagePixelByteSize;\n  }\n  return imageBuffers;\n}\nfunction getImagePixelByteSize(glType, glFormat, glInternalFormat) {\n  let imagePixelByteSize = KTX.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[glInternalFormat];\n  if (glType !== 0) {\n    if (KTX.TYPES_TO_BYTES_PER_COMPONENT[glType]) {\n      imagePixelByteSize = KTX.TYPES_TO_BYTES_PER_COMPONENT[glType] * KTX.FORMATS_TO_COMPONENTS[glFormat];\n    } else {\n      imagePixelByteSize = KTX.TYPES_TO_BYTES_PER_PIXEL[glType];\n    }\n  }\n  if (imagePixelByteSize === void 0) {\n    throw new Error(\"Unable to resolve the pixel format stored in the *.ktx file!\");\n  }\n  return imagePixelByteSize;\n}\nfunction parseKTXHeader(dataView) {\n  const littleEndian = dataView.getUint32(KTX.FIELDS.ENDIANNESS, true) === KTX.ENDIANNESS;\n  const glType = dataView.getUint32(KTX.FIELDS.GL_TYPE, littleEndian);\n  const glFormat = dataView.getUint32(KTX.FIELDS.GL_FORMAT, littleEndian);\n  const glInternalFormat = dataView.getUint32(KTX.FIELDS.GL_INTERNAL_FORMAT, littleEndian);\n  const pixelWidth = dataView.getUint32(KTX.FIELDS.PIXEL_WIDTH, littleEndian);\n  const pixelHeight = dataView.getUint32(KTX.FIELDS.PIXEL_HEIGHT, littleEndian) || 1;\n  const pixelDepth = dataView.getUint32(KTX.FIELDS.PIXEL_DEPTH, littleEndian) || 1;\n  const numberOfArrayElements = dataView.getUint32(KTX.FIELDS.NUMBER_OF_ARRAY_ELEMENTS, littleEndian) || 1;\n  const numberOfFaces = dataView.getUint32(KTX.FIELDS.NUMBER_OF_FACES, littleEndian);\n  const numberOfMipmapLevels = dataView.getUint32(KTX.FIELDS.NUMBER_OF_MIPMAP_LEVELS, littleEndian);\n  const bytesOfKeyValueData = dataView.getUint32(KTX.FIELDS.BYTES_OF_KEY_VALUE_DATA, littleEndian);\n  if (pixelHeight === 0 || pixelDepth !== 1) {\n    throw new Error(\"Only 2D textures are supported\");\n  }\n  if (numberOfFaces !== 1) {\n    throw new Error(\"CubeTextures are not supported by KTXLoader yet!\");\n  }\n  if (numberOfArrayElements !== 1) {\n    throw new Error(\"WebGL does not support array textures\");\n  }\n  return {\n    littleEndian,\n    glType,\n    glFormat,\n    glInternalFormat,\n    pixelWidth,\n    pixelHeight,\n    numberOfMipmapLevels,\n    offset: KTX.FILE_HEADER_SIZE + bytesOfKeyValueData\n  };\n}\nfunction validate(dataView) {\n  for (let i = 0; i < KTX.FILE_IDENTIFIER.length; i++) {\n    if (dataView.getUint8(i) !== KTX.FILE_IDENTIFIER[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport { parseKTX };\n//# sourceMappingURL=parseKTX.mjs.map\n","import { LoaderParserPriority } from '../../assets/loader/parsers/LoaderParser.mjs';\nimport { createTexture } from '../../assets/loader/parsers/textures/utils/createTexture.mjs';\nimport { checkExtension } from '../../assets/utils/checkExtension.mjs';\nimport { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { CompressedSource } from '../../rendering/renderers/shared/texture/sources/CompressedSource.mjs';\nimport { getSupportedTextureFormats } from '../../rendering/renderers/shared/texture/utils/getSupportedTextureFormats.mjs';\nimport { parseKTX } from './parseKTX.mjs';\n\n\"use strict\";\nconst loadKTX = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.High,\n    name: \"loadKTX\"\n  },\n  /** used for deprecation purposes */\n  name: \"loadKTX\",\n  id: \"ktx\",\n  test(url) {\n    return checkExtension(url, \".ktx\");\n  },\n  async load(url, _asset, loader) {\n    const supportedTextures = await getSupportedTextureFormats();\n    const ktxResponse = await fetch(url);\n    const ktxArrayBuffer = await ktxResponse.arrayBuffer();\n    const textureOptions = parseKTX(ktxArrayBuffer, supportedTextures);\n    const compressedTextureSource = new CompressedSource(textureOptions);\n    return createTexture(compressedTextureSource, loader, url);\n  },\n  unload(texture) {\n    if (Array.isArray(texture)) {\n      texture.forEach((t) => t.destroy(true));\n    } else {\n      texture.destroy(true);\n    }\n  }\n};\n\nexport { loadKTX };\n//# sourceMappingURL=loadKTX.mjs.map\n","const WORKER_CODE = \"(function () {\\n    'use strict';\\n\\n    const converters = {\\n      rgb8unorm: {\\n        convertedFormat: \\\"rgba8unorm\\\",\\n        convertFunction: convertRGBtoRGBA\\n      },\\n      \\\"rgb8unorm-srgb\\\": {\\n        convertedFormat: \\\"rgba8unorm-srgb\\\",\\n        convertFunction: convertRGBtoRGBA\\n      }\\n    };\\n    function convertFormatIfRequired(textureOptions) {\\n      const format = textureOptions.format;\\n      if (converters[format]) {\\n        const convertFunction = converters[format].convertFunction;\\n        const levelBuffers = textureOptions.resource;\\n        for (let i = 0; i < levelBuffers.length; i++) {\\n          levelBuffers[i] = convertFunction(levelBuffers[i]);\\n        }\\n        textureOptions.format = converters[format].convertedFormat;\\n      }\\n    }\\n    function convertRGBtoRGBA(levelBuffer) {\\n      const pixelCount = levelBuffer.byteLength / 3;\\n      const levelBufferWithAlpha = new Uint32Array(pixelCount);\\n      for (let i = 0; i < pixelCount; ++i) {\\n        levelBufferWithAlpha[i] = levelBuffer[i * 3] + (levelBuffer[i * 3 + 1] << 8) + (levelBuffer[i * 3 + 2] << 16) + 4278190080;\\n      }\\n      return new Uint8Array(levelBufferWithAlpha.buffer);\\n    }\\n\\n    function createLevelBuffersFromKTX(ktxTexture) {\\n      const levelBuffers = [];\\n      for (let i = 0; i < ktxTexture.numLevels; i++) {\\n        const imageData = ktxTexture.getImageData(i, 0, 0);\\n        const levelBuffer = new Uint8Array(imageData.byteLength);\\n        levelBuffer.set(imageData);\\n        levelBuffers.push(levelBuffer);\\n      }\\n      return levelBuffers;\\n    }\\n\\n    const glFormatToGPUFormatMap = {\\n      6408: \\\"rgba8unorm\\\",\\n      32856: \\\"bgra8unorm\\\",\\n      //\\n      32857: \\\"rgb10a2unorm\\\",\\n      33189: \\\"depth16unorm\\\",\\n      33190: \\\"depth24plus\\\",\\n      33321: \\\"r8unorm\\\",\\n      33323: \\\"rg8unorm\\\",\\n      33325: \\\"r16float\\\",\\n      33326: \\\"r32float\\\",\\n      33327: \\\"rg16float\\\",\\n      33328: \\\"rg32float\\\",\\n      33329: \\\"r8sint\\\",\\n      33330: \\\"r8uint\\\",\\n      33331: \\\"r16sint\\\",\\n      33332: \\\"r16uint\\\",\\n      33333: \\\"r32sint\\\",\\n      33334: \\\"r32uint\\\",\\n      33335: \\\"rg8sint\\\",\\n      33336: \\\"rg8uint\\\",\\n      33337: \\\"rg16sint\\\",\\n      33338: \\\"rg16uint\\\",\\n      33339: \\\"rg32sint\\\",\\n      33340: \\\"rg32uint\\\",\\n      33778: \\\"bc2-rgba-unorm\\\",\\n      33779: \\\"bc3-rgba-unorm\\\",\\n      34836: \\\"rgba32float\\\",\\n      34842: \\\"rgba16float\\\",\\n      35056: \\\"depth24plus-stencil8\\\",\\n      35898: \\\"rg11b10ufloat\\\",\\n      35901: \\\"rgb9e5ufloat\\\",\\n      35907: \\\"rgba8unorm-srgb\\\",\\n      // bgra8unorm-srgb\\n      36012: \\\"depth32float\\\",\\n      36013: \\\"depth32float-stencil8\\\",\\n      36168: \\\"stencil8\\\",\\n      36208: \\\"rgba32uint\\\",\\n      36214: \\\"rgba16uint\\\",\\n      36220: \\\"rgba8uint\\\",\\n      36226: \\\"rgba32sint\\\",\\n      36232: \\\"rgba16sint\\\",\\n      36238: \\\"rgba8sint\\\",\\n      36492: \\\"bc7-rgba-unorm\\\",\\n      36756: \\\"r8snorm\\\",\\n      36757: \\\"rg8snorm\\\",\\n      36759: \\\"rgba8snorm\\\",\\n      37496: \\\"etc2-rgba8unorm\\\",\\n      37808: \\\"astc-4x4-unorm\\\"\\n    };\\n    function glFormatToGPUFormat(glInternalFormat) {\\n      const format = glFormatToGPUFormatMap[glInternalFormat];\\n      if (format) {\\n        return format;\\n      }\\n      throw new Error(`Unsupported glInternalFormat: ${glInternalFormat}`);\\n    }\\n\\n    const vkFormatToGPUFormatMap = {\\n      23: \\\"rgb8unorm\\\",\\n      // VK_FORMAT_R8G8B8_UNORM\\n      37: \\\"rgba8unorm\\\",\\n      // VK_FORMAT_R8G8B8A8_UNORM\\n      43: \\\"rgba8unorm-srgb\\\"\\n      // VK_FORMAT_R8G8B8A8_SRGB\\n      // TODO add more!\\n    };\\n    function vkFormatToGPUFormat(vkFormat) {\\n      const format = vkFormatToGPUFormatMap[vkFormat];\\n      if (format) {\\n        return format;\\n      }\\n      throw new Error(`Unsupported VkFormat: ${vkFormat}`);\\n    }\\n\\n    function getTextureFormatFromKTXTexture(ktxTexture) {\\n      if (ktxTexture.classId === 2) {\\n        return vkFormatToGPUFormat(ktxTexture.vkFormat);\\n      }\\n      return glFormatToGPUFormat(ktxTexture.glInternalformat);\\n    }\\n\\n    const gpuFormatToBasisTranscoderFormatMap = {\\n      \\\"bc3-rgba-unorm\\\": \\\"BC3_RGBA\\\",\\n      \\\"bc7-rgba-unorm\\\": \\\"BC7_M5_RGBA\\\",\\n      \\\"etc2-rgba8unorm\\\": \\\"ETC2_RGBA\\\",\\n      \\\"astc-4x4-unorm\\\": \\\"ASTC_4x4_RGBA\\\",\\n      // Uncompressed\\n      rgba8unorm: \\\"RGBA32\\\",\\n      rg11b10ufloat: \\\"R11F_G11F_B10F\\\"\\n    };\\n    function gpuFormatToKTXBasisTranscoderFormat(transcoderFormat) {\\n      const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];\\n      if (format) {\\n        return format;\\n      }\\n      throw new Error(`Unsupported transcoderFormat: ${transcoderFormat}`);\\n    }\\n\\n    const settings = {\\n      jsUrl: \\\"\\\",\\n      wasmUrl: \\\"\\\"\\n    };\\n    let basisTranscoderFormat;\\n    let basisTranscodedTextureFormat;\\n    let ktxPromise;\\n    async function getKTX() {\\n      if (!ktxPromise) {\\n        const absoluteJsUrl = new URL(settings.jsUrl, location.origin).href;\\n        const absoluteWasmUrl = new URL(settings.wasmUrl, location.origin).href;\\n        importScripts(absoluteJsUrl);\\n        ktxPromise = new Promise((resolve) => {\\n          LIBKTX({\\n            locateFile: (_file) => absoluteWasmUrl\\n          }).then((libktx) => {\\n            resolve(libktx);\\n          });\\n        });\\n      }\\n      return ktxPromise;\\n    }\\n    async function fetchKTXTexture(url, ktx) {\\n      const ktx2Response = await fetch(url);\\n      if (ktx2Response.ok) {\\n        const ktx2ArrayBuffer = await ktx2Response.arrayBuffer();\\n        return new ktx.ktxTexture(new Uint8Array(ktx2ArrayBuffer));\\n      }\\n      throw new Error(`Failed to load KTX(2) texture: ${url}`);\\n    }\\n    const preferredTranscodedFormat = [\\n      \\\"bc7-rgba-unorm\\\",\\n      \\\"astc-4x4-unorm\\\",\\n      \\\"etc2-rgba8unorm\\\",\\n      \\\"bc3-rgba-unorm\\\",\\n      \\\"rgba8unorm\\\"\\n    ];\\n    async function load(url) {\\n      const ktx = await getKTX();\\n      const ktxTexture = await fetchKTXTexture(url, ktx);\\n      let format;\\n      if (ktxTexture.needsTranscoding) {\\n        format = basisTranscodedTextureFormat;\\n        const transcodeFormat = ktx.TranscodeTarget[basisTranscoderFormat];\\n        const result = ktxTexture.transcodeBasis(transcodeFormat, 0);\\n        if (result !== ktx.ErrorCode.SUCCESS) {\\n          throw new Error(\\\"Unable to transcode basis texture.\\\");\\n        }\\n      } else {\\n        format = getTextureFormatFromKTXTexture(ktxTexture);\\n      }\\n      const levelBuffers = createLevelBuffersFromKTX(ktxTexture);\\n      const textureOptions = {\\n        width: ktxTexture.baseWidth,\\n        height: ktxTexture.baseHeight,\\n        format,\\n        mipLevelCount: ktxTexture.numLevels,\\n        resource: levelBuffers,\\n        alphaMode: \\\"no-premultiply-alpha\\\"\\n      };\\n      convertFormatIfRequired(textureOptions);\\n      return textureOptions;\\n    }\\n    async function init(jsUrl, wasmUrl, supportedTextures) {\\n      if (jsUrl)\\n        settings.jsUrl = jsUrl;\\n      if (wasmUrl)\\n        settings.wasmUrl = wasmUrl;\\n      basisTranscodedTextureFormat = preferredTranscodedFormat.filter((format) => supportedTextures.includes(format))[0];\\n      basisTranscoderFormat = gpuFormatToKTXBasisTranscoderFormat(basisTranscodedTextureFormat);\\n      await getKTX();\\n    }\\n    const messageHandlers = {\\n      init: async (data) => {\\n        const { jsUrl, wasmUrl, supportedTextures } = data;\\n        await init(jsUrl, wasmUrl, supportedTextures);\\n      },\\n      load: async (data) => {\\n        try {\\n          const textureOptions = await load(data.url);\\n          return {\\n            type: \\\"load\\\",\\n            url: data.url,\\n            success: true,\\n            textureOptions,\\n            transferables: textureOptions.resource?.map((arr) => arr.buffer)\\n          };\\n        } catch (e) {\\n          throw e;\\n        }\\n      }\\n    };\\n    self.onmessage = async (messageEvent) => {\\n      const message = messageEvent.data;\\n      const response = await messageHandlers[message.type]?.(message);\\n      if (response) {\\n        self.postMessage(response, response.transferables);\\n      }\\n    };\\n\\n})();\\n\";\nlet WORKER_URL = null;\nclass WorkerInstance\n{\n    constructor()\n    {\n        if (!WORKER_URL)\n        {\n            WORKER_URL = URL.createObjectURL(new Blob([WORKER_CODE], { type: 'application/javascript' }));\n        }\n        this.worker = new Worker(WORKER_URL);\n    }\n}\nWorkerInstance.revokeObjectURL = function revokeObjectURL()\n{\n    if (WORKER_URL)\n    {\n        URL.revokeObjectURL(WORKER_URL);\n        WORKER_URL = null;\n    }\n};\n\nexport { WorkerInstance as default };\n//# sourceMappingURL=ktx.worker.mjs.map\n","\"use strict\";\nconst ktxTranscoderUrls = {\n  jsUrl: \"https://files.pixijs.download/transcoders/ktx/libktx.js\",\n  wasmUrl: \"https://files.pixijs.download/transcoders/ktx/libktx.wasm\"\n};\nfunction setKTXTranscoderPath(config) {\n  Object.assign(ktxTranscoderUrls, config);\n}\n\nexport { ktxTranscoderUrls, setKTXTranscoderPath };\n//# sourceMappingURL=setKTXTranscoderPath.mjs.map\n","import WorkerInstance from '../../../_virtual/ktx.worker.mjs';\nimport { ktxTranscoderUrls } from '../utils/setKTXTranscoderPath.mjs';\n\n\"use strict\";\nlet ktxWorker;\nconst urlHash = {};\nfunction getKTX2Worker(supportedTextures) {\n  if (!ktxWorker) {\n    ktxWorker = new WorkerInstance().worker;\n    ktxWorker.onmessage = (messageEvent) => {\n      const { success, url, textureOptions } = messageEvent.data;\n      if (!success) {\n        console.warn(\"Failed to load KTX texture\", url);\n      }\n      urlHash[url](textureOptions);\n    };\n    ktxWorker.postMessage({\n      type: \"init\",\n      jsUrl: ktxTranscoderUrls.jsUrl,\n      wasmUrl: ktxTranscoderUrls.wasmUrl,\n      supportedTextures\n    });\n  }\n  return ktxWorker;\n}\nfunction loadKTX2onWorker(url, supportedTextures) {\n  const ktxWorker2 = getKTX2Worker(supportedTextures);\n  return new Promise((resolve) => {\n    urlHash[url] = resolve;\n    ktxWorker2.postMessage({ type: \"load\", url });\n  });\n}\n\nexport { loadKTX2onWorker };\n//# sourceMappingURL=loadKTX2onWorker.mjs.map\n","import { LoaderParserPriority } from '../../assets/loader/parsers/LoaderParser.mjs';\nimport { createTexture } from '../../assets/loader/parsers/textures/utils/createTexture.mjs';\nimport { checkExtension } from '../../assets/utils/checkExtension.mjs';\nimport { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { CompressedSource } from '../../rendering/renderers/shared/texture/sources/CompressedSource.mjs';\nimport { getSupportedTextureFormats } from '../../rendering/renderers/shared/texture/utils/getSupportedTextureFormats.mjs';\nimport { loadKTX2onWorker } from './worker/loadKTX2onWorker.mjs';\n\n\"use strict\";\nconst loadKTX2 = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.High,\n    name: \"loadKTX2\"\n  },\n  /** used for deprecation purposes */\n  name: \"loadKTX2\",\n  id: \"ktx2\",\n  test(url) {\n    return checkExtension(url, \".ktx2\");\n  },\n  async load(url, _asset, loader) {\n    const supportedTextures = await getSupportedTextureFormats();\n    const textureOptions = await loadKTX2onWorker(url, supportedTextures);\n    const compressedTextureSource = new CompressedSource(textureOptions);\n    return createTexture(compressedTextureSource, loader, url);\n  },\n  async unload(texture) {\n    if (Array.isArray(texture)) {\n      texture.forEach((t) => t.destroy(true));\n    } else {\n      texture.destroy(true);\n    }\n  }\n};\n\nexport { loadKTX2 };\n//# sourceMappingURL=loadKTX2.mjs.map\n","\"use strict\";\nconst converters = {\n  rgb8unorm: {\n    convertedFormat: \"rgba8unorm\",\n    convertFunction: convertRGBtoRGBA\n  },\n  \"rgb8unorm-srgb\": {\n    convertedFormat: \"rgba8unorm-srgb\",\n    convertFunction: convertRGBtoRGBA\n  }\n};\nfunction convertFormatIfRequired(textureOptions) {\n  const format = textureOptions.format;\n  if (converters[format]) {\n    const convertFunction = converters[format].convertFunction;\n    const levelBuffers = textureOptions.resource;\n    for (let i = 0; i < levelBuffers.length; i++) {\n      levelBuffers[i] = convertFunction(levelBuffers[i]);\n    }\n    textureOptions.format = converters[format].convertedFormat;\n  }\n}\nfunction convertRGBtoRGBA(levelBuffer) {\n  const pixelCount = levelBuffer.byteLength / 3;\n  const levelBufferWithAlpha = new Uint32Array(pixelCount);\n  for (let i = 0; i < pixelCount; ++i) {\n    levelBufferWithAlpha[i] = levelBuffer[i * 3] + (levelBuffer[i * 3 + 1] << 8) + (levelBuffer[i * 3 + 2] << 16) + 4278190080;\n  }\n  return new Uint8Array(levelBufferWithAlpha.buffer);\n}\n\nexport { convertFormatIfRequired };\n//# sourceMappingURL=convertFormatIfRequired.mjs.map\n","\"use strict\";\nfunction createLevelBuffersFromKTX(ktxTexture) {\n  const levelBuffers = [];\n  for (let i = 0; i < ktxTexture.numLevels; i++) {\n    const imageData = ktxTexture.getImageData(i, 0, 0);\n    const levelBuffer = new Uint8Array(imageData.byteLength);\n    levelBuffer.set(imageData);\n    levelBuffers.push(levelBuffer);\n  }\n  return levelBuffers;\n}\n\nexport { createLevelBuffersFromKTX };\n//# sourceMappingURL=createLevelBuffersFromKTX.mjs.map\n","\"use strict\";\nconst glFormatToGPUFormatMap = {\n  6408: \"rgba8unorm\",\n  32856: \"bgra8unorm\",\n  //\n  32857: \"rgb10a2unorm\",\n  33189: \"depth16unorm\",\n  33190: \"depth24plus\",\n  33321: \"r8unorm\",\n  33323: \"rg8unorm\",\n  33325: \"r16float\",\n  33326: \"r32float\",\n  33327: \"rg16float\",\n  33328: \"rg32float\",\n  33329: \"r8sint\",\n  33330: \"r8uint\",\n  33331: \"r16sint\",\n  33332: \"r16uint\",\n  33333: \"r32sint\",\n  33334: \"r32uint\",\n  33335: \"rg8sint\",\n  33336: \"rg8uint\",\n  33337: \"rg16sint\",\n  33338: \"rg16uint\",\n  33339: \"rg32sint\",\n  33340: \"rg32uint\",\n  33778: \"bc2-rgba-unorm\",\n  33779: \"bc3-rgba-unorm\",\n  34836: \"rgba32float\",\n  34842: \"rgba16float\",\n  35056: \"depth24plus-stencil8\",\n  35898: \"rg11b10ufloat\",\n  35901: \"rgb9e5ufloat\",\n  35907: \"rgba8unorm-srgb\",\n  // bgra8unorm-srgb\n  36012: \"depth32float\",\n  36013: \"depth32float-stencil8\",\n  36168: \"stencil8\",\n  36208: \"rgba32uint\",\n  36214: \"rgba16uint\",\n  36220: \"rgba8uint\",\n  36226: \"rgba32sint\",\n  36232: \"rgba16sint\",\n  36238: \"rgba8sint\",\n  36492: \"bc7-rgba-unorm\",\n  36756: \"r8snorm\",\n  36757: \"rg8snorm\",\n  36759: \"rgba8snorm\",\n  37496: \"etc2-rgba8unorm\",\n  37808: \"astc-4x4-unorm\"\n};\nfunction glFormatToGPUFormat(glInternalFormat) {\n  const format = glFormatToGPUFormatMap[glInternalFormat];\n  if (format) {\n    return format;\n  }\n  throw new Error(`Unsupported glInternalFormat: ${glInternalFormat}`);\n}\n\nexport { glFormatToGPUFormat };\n//# sourceMappingURL=glFormatToGPUFormat.mjs.map\n","\"use strict\";\nconst vkFormatToGPUFormatMap = {\n  23: \"rgb8unorm\",\n  // VK_FORMAT_R8G8B8_UNORM\n  37: \"rgba8unorm\",\n  // VK_FORMAT_R8G8B8A8_UNORM\n  43: \"rgba8unorm-srgb\"\n  // VK_FORMAT_R8G8B8A8_SRGB\n  // TODO add more!\n};\nfunction vkFormatToGPUFormat(vkFormat) {\n  const format = vkFormatToGPUFormatMap[vkFormat];\n  if (format) {\n    return format;\n  }\n  throw new Error(`Unsupported VkFormat: ${vkFormat}`);\n}\n\nexport { vkFormatToGPUFormat };\n//# sourceMappingURL=vkFormatToGPUFormat.mjs.map\n","import { glFormatToGPUFormat } from './glFormatToGPUFormat.mjs';\nimport { vkFormatToGPUFormat } from './vkFormatToGPUFormat.mjs';\n\n\"use strict\";\nfunction getTextureFormatFromKTXTexture(ktxTexture) {\n  if (ktxTexture.classId === 2) {\n    return vkFormatToGPUFormat(ktxTexture.vkFormat);\n  }\n  return glFormatToGPUFormat(ktxTexture.glInternalformat);\n}\n\nexport { getTextureFormatFromKTXTexture };\n//# sourceMappingURL=getTextureFormatFromKTXTexture.mjs.map\n","\"use strict\";\nconst gpuFormatToBasisTranscoderFormatMap = {\n  \"bc3-rgba-unorm\": \"BC3_RGBA\",\n  \"bc7-rgba-unorm\": \"BC7_M5_RGBA\",\n  \"etc2-rgba8unorm\": \"ETC2_RGBA\",\n  \"astc-4x4-unorm\": \"ASTC_4x4_RGBA\",\n  // Uncompressed\n  rgba8unorm: \"RGBA32\",\n  rg11b10ufloat: \"R11F_G11F_B10F\"\n};\nfunction gpuFormatToKTXBasisTranscoderFormat(transcoderFormat) {\n  const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];\n  if (format) {\n    return format;\n  }\n  throw new Error(`Unsupported transcoderFormat: ${transcoderFormat}`);\n}\n\nexport { gpuFormatToKTXBasisTranscoderFormat };\n//# sourceMappingURL=gpuFormatToKTXBasisTranscoderFormat.mjs.map\n","import { Resolver } from '../../assets/resolver/Resolver.mjs';\nimport { checkExtension } from '../../assets/utils/checkExtension.mjs';\nimport { ExtensionType } from '../../extensions/Extensions.mjs';\n\n\"use strict\";\nconst validFormats = [\"basis\", \"bc7\", \"bc6h\", \"astc\", \"etc2\", \"bc5\", \"bc4\", \"bc3\", \"bc2\", \"bc1\", \"eac\"];\nconst resolveCompressedTextureUrl = {\n  extension: ExtensionType.ResolveParser,\n  test: (value) => checkExtension(value, [\".ktx\", \".ktx2\", \".dds\"]),\n  parse: (value) => {\n    let format;\n    const splitValue = value.split(\".\");\n    if (splitValue.length > 2) {\n      const newFormat = splitValue[splitValue.length - 2];\n      if (validFormats.includes(newFormat)) {\n        format = newFormat;\n      }\n    } else {\n      format = splitValue[splitValue.length - 1];\n    }\n    return {\n      resolution: parseFloat(Resolver.RETINA_PREFIX.exec(value)?.[1] ?? \"1\"),\n      format,\n      src: value\n    };\n  }\n};\n\nexport { resolveCompressedTextureUrl, validFormats };\n//# sourceMappingURL=resolveCompressedTextureUrl.mjs.map\n","import { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { getSupportedCompressedTextureFormats } from '../../rendering/renderers/shared/texture/utils/getSupportedCompressedTextureFormats.mjs';\nimport { isWebGLSupported } from '../../utils/browser/isWebGLSupported.mjs';\nimport { isWebGPUSupported } from '../../utils/browser/isWebGPUSupported.mjs';\nimport { validFormats } from './resolveCompressedTextureUrl.mjs';\n\n\"use strict\";\nlet compressedTextureExtensions;\nconst detectCompressed = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 2\n  },\n  test: async () => {\n    if (await isWebGPUSupported())\n      return true;\n    if (isWebGLSupported())\n      return true;\n    return false;\n  },\n  add: async (formats) => {\n    const supportedCompressedTextureFormats = await getSupportedCompressedTextureFormats();\n    compressedTextureExtensions = extractExtensionsForCompressedTextureFormats(supportedCompressedTextureFormats);\n    return [...compressedTextureExtensions, ...formats];\n  },\n  remove: async (formats) => {\n    if (compressedTextureExtensions) {\n      return formats.filter((f) => !(f in compressedTextureExtensions));\n    }\n    return formats;\n  }\n};\nfunction extractExtensionsForCompressedTextureFormats(formats) {\n  const extensions = [\"basis\"];\n  const dupeMap = {};\n  formats.forEach((format) => {\n    const extension = format.split(\"-\")[0];\n    if (extension && !dupeMap[extension]) {\n      dupeMap[extension] = true;\n      extensions.push(extension);\n    }\n  });\n  extensions.sort((a, b) => {\n    const aIndex = validFormats.indexOf(a);\n    const bIndex = validFormats.indexOf(b);\n    if (aIndex === -1) {\n      return 1;\n    }\n    if (bIndex === -1) {\n      return -1;\n    }\n    return aIndex - bIndex;\n  });\n  return extensions;\n}\n\nexport { detectCompressed };\n//# sourceMappingURL=detectCompressed.mjs.map\n","import { Bounds } from '../scene/container/bounds/Bounds.mjs';\nimport { getGlobalBounds } from '../scene/container/bounds/getGlobalBounds.mjs';\n\n\"use strict\";\nconst tempBounds = new Bounds();\nconst _Culler = class _Culler {\n  /**\n   * Culls the children of a specific container based on the given view rectangle.\n   * This determines which objects should be rendered and which can be skipped.\n   * @param container - The container to cull. Must be a Container instance.\n   * @param view - The view rectangle that defines the visible area\n   * @param skipUpdateTransform - Whether to skip updating transforms for better performance\n   * @example\n   * ```ts\n   * // Basic culling with view bounds\n   * const culler = new Culler();\n   * culler.cull(stage, {\n   *     x: 0,\n   *     y: 0,\n   *     width: 800,\n   *     height: 600\n   * });\n   *\n   * // Culling to renderer screen\n   * culler.cull(stage, renderer.screen, false);\n   * ```\n   * @remarks\n   * - Recursively processes all cullable children\n   * - Uses cullArea if defined, otherwise calculates bounds\n   * - Performance depends on scene complexity\n   * @see {@link CullingMixinConstructor.cullable} For enabling culling on objects\n   * @see {@link CullingMixinConstructor.cullArea} For custom culling boundaries\n   */\n  cull(container, view, skipUpdateTransform = true) {\n    this._cullRecursive(container, view, skipUpdateTransform);\n  }\n  _cullRecursive(container, view, skipUpdateTransform = true) {\n    if (container.cullable && container.measurable && container.includeInBuild) {\n      const bounds = container.cullArea ?? getGlobalBounds(container, skipUpdateTransform, tempBounds);\n      container.culled = bounds.x >= view.x + view.width || bounds.y >= view.y + view.height || bounds.x + bounds.width <= view.x || bounds.y + bounds.height <= view.y;\n    } else {\n      container.culled = false;\n    }\n    if (!container.cullableChildren || container.culled || !container.renderable || !container.measurable || !container.includeInBuild)\n      return;\n    for (let i = 0; i < container.children.length; i++) {\n      this._cullRecursive(container.children[i], view, skipUpdateTransform);\n    }\n  }\n};\n/**\n * A shared instance of the Culler class. Provides a global culler instance for convenience.\n * @example\n * ```ts\n * // Use the shared instance instead of creating a new one\n * Culler.shared.cull(stage, {\n *     x: 0,\n *     y: 0,\n *     width: 800,\n *     height: 600\n * });\n * ```\n * @see {@link CullerPlugin} For automatic culling using this instance\n */\n_Culler.shared = new _Culler();\nlet Culler = _Culler;\n\nexport { Culler };\n//# sourceMappingURL=Culler.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { Culler } from './Culler.mjs';\n\n\"use strict\";\nclass CullerPlugin {\n  /**\n   * Initialize the plugin with scope of application instance\n   * @private\n   * @param {object} [options] - See application options\n   */\n  static init(options) {\n    this._renderRef = this.render.bind(this);\n    this.render = () => {\n      const updateTransform = options?.culler?.updateTransform !== true;\n      Culler.shared.cull(this.stage, this.renderer.screen, updateTransform);\n      this.renderer.render({ container: this.stage });\n    };\n  }\n  /** @internal */\n  static destroy() {\n    this.render = this._renderRef;\n  }\n}\n/** @ignore */\nCullerPlugin.extension = {\n  priority: 10,\n  type: ExtensionType.Application,\n  name: \"culler\"\n};\n\nexport { CullerPlugin };\n//# sourceMappingURL=CullerPlugin.mjs.map\n","'use strict'\n\n/**\n * Ponyfill for `Array.prototype.find` which is only available in ES6 runtimes.\n *\n * Works with anything that has a `length` property and index access properties, including NodeList.\n *\n * @template {unknown} T\n * @param {Array<T> | ({length:number, [number]: T})} list\n * @param {function (item: T, index: number, list:Array<T> | ({length:number, [number]: T})):boolean} predicate\n * @param {Partial<Pick<ArrayConstructor['prototype'], 'find'>>?} ac `Array.prototype` by default,\n * \t\t\t\tallows injecting a custom implementation in tests\n * @returns {T | undefined}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\n * @see https://tc39.es/ecma262/multipage/indexed-collections.html#sec-array.prototype.find\n */\nfunction find(list, predicate, ac) {\n\tif (ac === undefined) {\n\t\tac = Array.prototype;\n\t}\n\tif (list && typeof ac.find === 'function') {\n\t\treturn ac.find.call(list, predicate);\n\t}\n\tfor (var i = 0; i < list.length; i++) {\n\t\tif (Object.prototype.hasOwnProperty.call(list, i)) {\n\t\t\tvar item = list[i];\n\t\t\tif (predicate.call(undefined, item, i, list)) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * \"Shallow freezes\" an object to render it immutable.\n * Uses `Object.freeze` if available,\n * otherwise the immutability is only in the type.\n *\n * Is used to create \"enum like\" objects.\n *\n * @template T\n * @param {T} object the object to freeze\n * @param {Pick<ObjectConstructor, 'freeze'> = Object} oc `Object` by default,\n * \t\t\t\tallows to inject custom object constructor for tests\n * @returns {Readonly<T>}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n */\nfunction freeze(object, oc) {\n\tif (oc === undefined) {\n\t\toc = Object\n\t}\n\treturn oc && typeof oc.freeze === 'function' ? oc.freeze(object) : object\n}\n\n/**\n * Since we can not rely on `Object.assign` we provide a simplified version\n * that is sufficient for our needs.\n *\n * @param {Object} target\n * @param {Object | null | undefined} source\n *\n * @returns {Object} target\n * @throws TypeError if target is not an object\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n * @see https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object.assign\n */\nfunction assign(target, source) {\n\tif (target === null || typeof target !== 'object') {\n\t\tthrow new TypeError('target is not an object')\n\t}\n\tfor (var key in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, key)) {\n\t\t\ttarget[key] = source[key]\n\t\t}\n\t}\n\treturn target\n}\n\n/**\n * All mime types that are allowed as input to `DOMParser.parseFromString`\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString#Argument02 MDN\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#domparsersupportedtype WHATWG HTML Spec\n * @see DOMParser.prototype.parseFromString\n */\nvar MIME_TYPE = freeze({\n\t/**\n\t * `text/html`, the only mime type that triggers treating an XML document as HTML.\n\t *\n\t * @see DOMParser.SupportedType.isHTML\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring WHATWG HTML Spec\n\t */\n\tHTML: 'text/html',\n\n\t/**\n\t * Helper method to check a mime type if it indicates an HTML document\n\t *\n\t * @param {string} [value]\n\t * @returns {boolean}\n\t *\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring \t */\n\tisHTML: function (value) {\n\t\treturn value === MIME_TYPE.HTML\n\t},\n\n\t/**\n\t * `application/xml`, the standard mime type for XML documents.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xml IANA MimeType registration\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.1 RFC 7303\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_APPLICATION: 'application/xml',\n\n\t/**\n\t * `text/html`, an alias for `application/xml`.\n\t *\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.2 RFC 7303\n\t * @see https://www.iana.org/assignments/media-types/text/xml IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_TEXT: 'text/xml',\n\n\t/**\n\t * `application/xhtml+xml`, indicates an XML document that has the default HTML namespace,\n\t * but is parsed as an XML document.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xhtml+xml IANA MimeType registration\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument WHATWG DOM Spec\n\t * @see https://en.wikipedia.org/wiki/XHTML Wikipedia\n\t */\n\tXML_XHTML_APPLICATION: 'application/xhtml+xml',\n\n\t/**\n\t * `image/svg+xml`,\n\t *\n\t * @see https://www.iana.org/assignments/media-types/image/svg+xml IANA MimeType registration\n\t * @see https://www.w3.org/TR/SVG11/ W3C SVG 1.1\n\t * @see https://en.wikipedia.org/wiki/Scalable_Vector_Graphics Wikipedia\n\t */\n\tXML_SVG_IMAGE: 'image/svg+xml',\n})\n\n/**\n * Namespaces that are used in this code base.\n *\n * @see http://www.w3.org/TR/REC-xml-names\n */\nvar NAMESPACE = freeze({\n\t/**\n\t * The XHTML namespace.\n\t *\n\t * @see http://www.w3.org/1999/xhtml\n\t */\n\tHTML: 'http://www.w3.org/1999/xhtml',\n\n\t/**\n\t * Checks if `uri` equals `NAMESPACE.HTML`.\n\t *\n\t * @param {string} [uri]\n\t *\n\t * @see NAMESPACE.HTML\n\t */\n\tisHTML: function (uri) {\n\t\treturn uri === NAMESPACE.HTML\n\t},\n\n\t/**\n\t * The SVG namespace.\n\t *\n\t * @see http://www.w3.org/2000/svg\n\t */\n\tSVG: 'http://www.w3.org/2000/svg',\n\n\t/**\n\t * The `xml:` namespace.\n\t *\n\t * @see http://www.w3.org/XML/1998/namespace\n\t */\n\tXML: 'http://www.w3.org/XML/1998/namespace',\n\n\t/**\n\t * The `xmlns:` namespace\n\t *\n\t * @see https://www.w3.org/2000/xmlns/\n\t */\n\tXMLNS: 'http://www.w3.org/2000/xmlns/',\n})\n\nexports.assign = assign;\nexports.find = find;\nexports.freeze = freeze;\nexports.MIME_TYPE = MIME_TYPE;\nexports.NAMESPACE = NAMESPACE;\n","var conventions = require(\"./conventions\");\n\nvar find = conventions.find;\nvar NAMESPACE = conventions.NAMESPACE;\n\n/**\n * A prerequisite for `[].filter`, to drop elements that are empty\n * @param {string} input\n * @returns {boolean}\n */\nfunction notEmptyString (input) {\n\treturn input !== ''\n}\n/**\n * @see https://infra.spec.whatwg.org/#split-on-ascii-whitespace\n * @see https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * @param {string} input\n * @returns {string[]} (can be empty)\n */\nfunction splitOnASCIIWhitespace(input) {\n\t// U+0009 TAB, U+000A LF, U+000C FF, U+000D CR, U+0020 SPACE\n\treturn input ? input.split(/[\\t\\n\\f\\r ]+/).filter(notEmptyString) : []\n}\n\n/**\n * Adds element as a key to current if it is not already present.\n *\n * @param {Record<string, boolean | undefined>} current\n * @param {string} element\n * @returns {Record<string, boolean | undefined>}\n */\nfunction orderedSetReducer (current, element) {\n\tif (!current.hasOwnProperty(element)) {\n\t\tcurrent[element] = true;\n\t}\n\treturn current;\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#ordered-set\n * @param {string} input\n * @returns {string[]}\n */\nfunction toOrderedSet(input) {\n\tif (!input) return [];\n\tvar list = splitOnASCIIWhitespace(input);\n\treturn Object.keys(list.reduce(orderedSetReducer, {}))\n}\n\n/**\n * Uses `list.indexOf` to implement something like `Array.prototype.includes`,\n * which we can not rely on being available.\n *\n * @param {any[]} list\n * @returns {function(any): boolean}\n */\nfunction arrayIncludes (list) {\n\treturn function(element) {\n\t\treturn list && list.indexOf(element) !== -1;\n\t}\n}\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tif (Object.prototype.hasOwnProperty.call(src, p)) {\n\t\t\tdest[p] = src[p];\n\t\t}\n\t}\n}\n\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknown Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\n\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n/**\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n */\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0,\n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long\n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index.\n\t */\n\titem: function(index) {\n\t\treturn index >= 0 && index < this.length ? this[index] : null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t},\n\t/**\n\t * @private\n\t * @param {function (Node):boolean} predicate\n\t * @returns {Node[]}\n\t */\n\tfilter: function (predicate) {\n\t\treturn Array.prototype.filter.call(this, predicate);\n\t},\n\t/**\n\t * @private\n\t * @param {Node} item\n\t * @returns {number}\n\t */\n\tindexOf: function (item) {\n\t\treturn Array.prototype.indexOf.call(this, item);\n\t},\n};\n\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif (list._inc !== inc) {\n\t\tvar ls = list._refresh(list._node);\n\t\t__set__(list,'length',ls.length);\n\t\tif (!list.$$length || ls.length < list.$$length) {\n\t\t\tfor (var i = ls.length; i in list; i++) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(list, i)) {\n\t\t\t\t\tdelete list[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i] || null;\n}\n\n_extends(LiveNodeList,NodeList);\n\n/**\n * Objects implementing the NamedNodeMap interface are used\n * to represent collections of nodes that can be accessed by name.\n * Note that NamedNodeMap does not inherit from NodeList;\n * NamedNodeMaps are not maintained in any particular order.\n * Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index,\n * but this is simply to allow convenient enumeration of the contents of a NamedNodeMap,\n * and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities\n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow new DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\n\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n\n/**\n * The DOMImplementation interface represents an object providing methods\n * which are not dependent on any particular document.\n * Such an object is returned by the `Document.implementation` property.\n *\n * __The individual methods describe the differences compared to the specs.__\n *\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation MDN\n * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490 DOM Level 1 Core (Initial)\n * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-102161490 DOM Level 2 Core\n * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-102161490 DOM Level 3 Core\n * @see https://dom.spec.whatwg.org/#domimplementation DOM Living Standard\n */\nfunction DOMImplementation() {\n}\n\nDOMImplementation.prototype = {\n\t/**\n\t * The DOMImplementation.hasFeature() method returns a Boolean flag indicating if a given feature is supported.\n\t * The different implementations fairly diverged in what kind of features were reported.\n\t * The latest version of the spec settled to force this method to always return true, where the functionality was accurate and in use.\n\t *\n\t * @deprecated It is deprecated and modern browsers return true in all cases.\n\t *\n\t * @param {string} feature\n\t * @param {string} [version]\n\t * @returns {boolean} always true\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/hasFeature MDN\n\t * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-5CED94D7 DOM Level 1 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-hasfeature DOM Living Standard\n\t */\n\thasFeature: function(feature, version) {\n\t\t\treturn true;\n\t},\n\t/**\n\t * Creates an XML Document object of the specified type with its document element.\n\t *\n\t * __It behaves slightly different from the description in the living standard__:\n\t * - There is no interface/class `XMLDocument`, it returns a `Document` instance.\n\t * - `contentType`, `encoding`, `mode`, `origin`, `url` fields are currently not declared.\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string|null} namespaceURI\n\t * @param {string} qualifiedName\n\t * @param {DocumentType=null} doctype\n\t * @returns {Document}\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocument MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocument DOM Level 2 Core (initial)\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument  DOM Level 2 Core\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocument: function(namespaceURI,  qualifiedName, doctype){\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype || null;\n\t\tif (doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif (qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI, qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t/**\n\t * Returns a doctype, with the given `qualifiedName`, `publicId`, and `systemId`.\n\t *\n\t * __This behavior is slightly different from the in the specs__:\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string} qualifiedName\n\t * @param {string} [publicId]\n\t * @param {string} [systemId]\n\t * @returns {DocumentType} which can either be used with `DOMImplementation.createDocument` upon document creation\n\t * \t\t\t\t  or can be put into the document via methods like `Node.insertBefore()` or `Node.replaceChild()`\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocumentType MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocType DOM Level 2 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocumenttype DOM Living Standard\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocumentType: function(qualifiedName, publicId, systemId){\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId || '';\n\t\tnode.systemId = systemId || '';\n\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises\n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises\n\t\t_insertBefore(this, newChild,oldChild, assertPreReplacementValidityInDocument);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n\t/**\n\t * Look up the prefix associated to the given namespace URI, starting from this node.\n\t * **The default namespace declarations are ignored by this method.**\n\t * See Namespace Prefix Lookup for details on the algorithm used by this method.\n\t *\n\t * _Note: The implementation seems to be incomplete when compared to the algorithm described in the specs._\n\t *\n\t * @param {string | null} namespaceURI\n\t * @returns {string | null}\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-lookupNamespacePrefix\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/namespaces-algorithms.html#lookupNamespacePrefixAlgo\n\t * @see https://dom.spec.whatwg.org/#dom-node-lookupprefix\n\t * @see https://github.com/xmldom/xmldom/issues/322\n\t */\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(map, n) && map[n] === namespaceURI) {\n\t\t\t\t\t\t\treturn n;\n\t\t\t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(Object.prototype.hasOwnProperty.call(map, prefix)){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n\tthis.ownerDocument = this;\n}\n\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\n\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\n\n/**\n * Updates `el.childNodes`, updating the indexed items and it's `length`.\n * Passing `newChild` means it will be appended.\n * Otherwise it's assumed that an item has been removed,\n * and `el.firstNode` and it's `.nextSibling` are used\n * to walk the current list of child nodes.\n *\n * @param {Document} doc\n * @param {Node} el\n * @param {Node} [newChild]\n * @private\n */\nfunction _onUpdateChild (doc, el, newChild) {\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif (newChild) {\n\t\t\tcs[cs.length++] = newChild;\n\t\t} else {\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile (child) {\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild = child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t\tdelete cs[cs.length];\n\t\t}\n\t}\n}\n\n/**\n * Removes the connections between `parentNode` and `child`\n * and any existing `child.previousSibling` or `child.nextSibling`.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n *\n * @param {Node} parentNode\n * @param {Node} child\n * @returns {Node} the child that was removed.\n * @private\n */\nfunction _removeChild (parentNode, child) {\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif (previous) {\n\t\tprevious.nextSibling = next;\n\t} else {\n\t\tparentNode.firstChild = next;\n\t}\n\tif (next) {\n\t\tnext.previousSibling = previous;\n\t} else {\n\t\tparentNode.lastChild = previous;\n\t}\n\tchild.parentNode = null;\n\tchild.previousSibling = null;\n\tchild.nextSibling = null;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode);\n\treturn child;\n}\n\n/**\n * Returns `true` if `node` can be a parent for insertion.\n * @param {Node} node\n * @returns {boolean}\n */\nfunction hasValidParentNodeType(node) {\n\treturn (\n\t\tnode &&\n\t\t(node.nodeType === Node.DOCUMENT_NODE || node.nodeType === Node.DOCUMENT_FRAGMENT_NODE || node.nodeType === Node.ELEMENT_NODE)\n\t);\n}\n\n/**\n * Returns `true` if `node` can be inserted according to it's `nodeType`.\n * @param {Node} node\n * @returns {boolean}\n */\nfunction hasInsertableNodeType(node) {\n\treturn (\n\t\tnode &&\n\t\t(isElementNode(node) ||\n\t\t\tisTextNode(node) ||\n\t\t\tisDocTypeNode(node) ||\n\t\t\tnode.nodeType === Node.DOCUMENT_FRAGMENT_NODE ||\n\t\t\tnode.nodeType === Node.COMMENT_NODE ||\n\t\t\tnode.nodeType === Node.PROCESSING_INSTRUCTION_NODE)\n\t);\n}\n\n/**\n * Returns true if `node` is a DOCTYPE node\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isDocTypeNode(node) {\n\treturn node && node.nodeType === Node.DOCUMENT_TYPE_NODE;\n}\n\n/**\n * Returns true if the node is an element\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isElementNode(node) {\n\treturn node && node.nodeType === Node.ELEMENT_NODE;\n}\n/**\n * Returns true if `node` is a text node\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isTextNode(node) {\n\treturn node && node.nodeType === Node.TEXT_NODE;\n}\n\n/**\n * Check if en element node can be inserted before `child`, or at the end if child is falsy,\n * according to the presence and position of a doctype node on the same level.\n *\n * @param {Document} doc The document node\n * @param {Node} child the node that would become the nextSibling if the element would be inserted\n * @returns {boolean} `true` if an element can be inserted before child\n * @private\n * https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction isElementInsertionPossible(doc, child) {\n\tvar parentChildNodes = doc.childNodes || [];\n\tif (find(parentChildNodes, isElementNode) || isDocTypeNode(child)) {\n\t\treturn false;\n\t}\n\tvar docTypeNode = find(parentChildNodes, isDocTypeNode);\n\treturn !(child && docTypeNode && parentChildNodes.indexOf(docTypeNode) > parentChildNodes.indexOf(child));\n}\n\n/**\n * Check if en element node can be inserted before `child`, or at the end if child is falsy,\n * according to the presence and position of a doctype node on the same level.\n *\n * @param {Node} doc The document node\n * @param {Node} child the node that would become the nextSibling if the element would be inserted\n * @returns {boolean} `true` if an element can be inserted before child\n * @private\n * https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction isElementReplacementPossible(doc, child) {\n\tvar parentChildNodes = doc.childNodes || [];\n\n\tfunction hasElementChildThatIsNotChild(node) {\n\t\treturn isElementNode(node) && node !== child;\n\t}\n\n\tif (find(parentChildNodes, hasElementChildThatIsNotChild)) {\n\t\treturn false;\n\t}\n\tvar docTypeNode = find(parentChildNodes, isDocTypeNode);\n\treturn !(child && docTypeNode && parentChildNodes.indexOf(docTypeNode) > parentChildNodes.indexOf(child));\n}\n\n/**\n * @private\n * Steps 1-5 of the checks before inserting and before replacing a child are the same.\n *\n * @param {Node} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node=} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreInsertionValidity1to5(parent, node, child) {\n\t// 1. If `parent` is not a Document, DocumentFragment, or Element node, then throw a \"HierarchyRequestError\" DOMException.\n\tif (!hasValidParentNodeType(parent)) {\n\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Unexpected parent node type ' + parent.nodeType);\n\t}\n\t// 2. If `node` is a host-including inclusive ancestor of `parent`, then throw a \"HierarchyRequestError\" DOMException.\n\t// not implemented!\n\t// 3. If `child` is non-null and its parent is not `parent`, then throw a \"NotFoundError\" DOMException.\n\tif (child && child.parentNode !== parent) {\n\t\tthrow new DOMException(NOT_FOUND_ERR, 'child not in parent');\n\t}\n\tif (\n\t\t// 4. If `node` is not a DocumentFragment, DocumentType, Element, or CharacterData node, then throw a \"HierarchyRequestError\" DOMException.\n\t\t!hasInsertableNodeType(node) ||\n\t\t// 5. If either `node` is a Text node and `parent` is a document,\n\t\t// the sax parser currently adds top level text nodes, this will be fixed in 0.9.0\n\t\t// || (node.nodeType === Node.TEXT_NODE && parent.nodeType === Node.DOCUMENT_NODE)\n\t\t// or `node` is a doctype and `parent` is not a document, then throw a \"HierarchyRequestError\" DOMException.\n\t\t(isDocTypeNode(node) && parent.nodeType !== Node.DOCUMENT_NODE)\n\t) {\n\t\tthrow new DOMException(\n\t\t\tHIERARCHY_REQUEST_ERR,\n\t\t\t'Unexpected node type ' + node.nodeType + ' for parent node type ' + parent.nodeType\n\t\t);\n\t}\n}\n\n/**\n * @private\n * Step 6 of the checks before inserting and before replacing a child are different.\n *\n * @param {Document} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node | undefined} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreInsertionValidityInDocument(parent, node, child) {\n\tvar parentChildNodes = parent.childNodes || [];\n\tvar nodeChildNodes = node.childNodes || [];\n\n\t// DocumentFragment\n\tif (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n\t\tvar nodeChildElements = nodeChildNodes.filter(isElementNode);\n\t\t// If node has more than one element child or has a Text node child.\n\t\tif (nodeChildElements.length > 1 || find(nodeChildNodes, isTextNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'More than one element or text in fragment');\n\t\t}\n\t\t// Otherwise, if `node` has one element child and either `parent` has an element child,\n\t\t// `child` is a doctype, or `child` is non-null and a doctype is following `child`.\n\t\tif (nodeChildElements.length === 1 && !isElementInsertionPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Element in fragment can not be inserted before doctype');\n\t\t}\n\t}\n\t// Element\n\tif (isElementNode(node)) {\n\t\t// `parent` has an element child, `child` is a doctype,\n\t\t// or `child` is non-null and a doctype is following `child`.\n\t\tif (!isElementInsertionPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one element can be added and only after doctype');\n\t\t}\n\t}\n\t// DocumentType\n\tif (isDocTypeNode(node)) {\n\t\t// `parent` has a doctype child,\n\t\tif (find(parentChildNodes, isDocTypeNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one doctype is allowed');\n\t\t}\n\t\tvar parentElementChild = find(parentChildNodes, isElementNode);\n\t\t// `child` is non-null and an element is preceding `child`,\n\t\tif (child && parentChildNodes.indexOf(parentElementChild) < parentChildNodes.indexOf(child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can only be inserted before an element');\n\t\t}\n\t\t// or `child` is null and `parent` has an element child.\n\t\tif (!child && parentElementChild) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can not be appended since element is present');\n\t\t}\n\t}\n}\n\n/**\n * @private\n * Step 6 of the checks before inserting and before replacing a child are different.\n *\n * @param {Document} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node | undefined} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreReplacementValidityInDocument(parent, node, child) {\n\tvar parentChildNodes = parent.childNodes || [];\n\tvar nodeChildNodes = node.childNodes || [];\n\n\t// DocumentFragment\n\tif (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n\t\tvar nodeChildElements = nodeChildNodes.filter(isElementNode);\n\t\t// If `node` has more than one element child or has a Text node child.\n\t\tif (nodeChildElements.length > 1 || find(nodeChildNodes, isTextNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'More than one element or text in fragment');\n\t\t}\n\t\t// Otherwise, if `node` has one element child and either `parent` has an element child that is not `child` or a doctype is following `child`.\n\t\tif (nodeChildElements.length === 1 && !isElementReplacementPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Element in fragment can not be inserted before doctype');\n\t\t}\n\t}\n\t// Element\n\tif (isElementNode(node)) {\n\t\t// `parent` has an element child that is not `child` or a doctype is following `child`.\n\t\tif (!isElementReplacementPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one element can be added and only after doctype');\n\t\t}\n\t}\n\t// DocumentType\n\tif (isDocTypeNode(node)) {\n\t\tfunction hasDoctypeChildThatIsNotChild(node) {\n\t\t\treturn isDocTypeNode(node) && node !== child;\n\t\t}\n\n\t\t// `parent` has a doctype child that is not `child`,\n\t\tif (find(parentChildNodes, hasDoctypeChildThatIsNotChild)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one doctype is allowed');\n\t\t}\n\t\tvar parentElementChild = find(parentChildNodes, isElementNode);\n\t\t// or an element is preceding `child`.\n\t\tif (child && parentChildNodes.indexOf(parentElementChild) < parentChildNodes.indexOf(child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can only be inserted before an element');\n\t\t}\n\t}\n}\n\n/**\n * @private\n * @param {Node} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node=} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction _insertBefore(parent, node, child, _inDocumentAssertion) {\n\t// To ensure pre-insertion validity of a node into a parent before a child, run these steps:\n\tassertPreInsertionValidity1to5(parent, node, child);\n\n\t// If parent is a document, and any of the statements below, switched on the interface node implements,\n\t// are true, then throw a \"HierarchyRequestError\" DOMException.\n\tif (parent.nodeType === Node.DOCUMENT_NODE) {\n\t\t(_inDocumentAssertion || assertPreInsertionValidityInDocument)(parent, node, child);\n\t}\n\n\tvar cp = node.parentNode;\n\tif(cp){\n\t\tcp.removeChild(node);//remove and update\n\t}\n\tif(node.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = node.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn node;\n\t\t}\n\t\tvar newLast = node.lastChild;\n\t}else{\n\t\tnewFirst = newLast = node;\n\t}\n\tvar pre = child ? child.previousSibling : parent.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = child;\n\n\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparent.firstChild = newFirst;\n\t}\n\tif(child == null){\n\t\tparent.lastChild = newLast;\n\t}else{\n\t\tchild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parent;\n\t\t// Update ownerDocument for each node being inserted\n\t\tvar targetDoc = parent.ownerDocument || parent;\n\t\t_updateOwnerDocument(newFirst, targetDoc);\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parent.ownerDocument||parent, parent);\n\t//console.log(parent.lastChild.nextSibling == null)\n\tif (node.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnode.firstChild = node.lastChild = null;\n\t}\n\treturn node;\n}\n\n/**\n * Recursively updates the ownerDocument property for a node and all its descendants\n * @param {Node} node\n * @param {Document} newOwnerDocument\n * @private\n */\nfunction _updateOwnerDocument(node, newOwnerDocument) {\n\tif (node.ownerDocument === newOwnerDocument) {\n\t\treturn;\n\t}\n\t\n\tnode.ownerDocument = newOwnerDocument;\n\t\n\t// Update attributes if this is an element\n\tif (node.nodeType === ELEMENT_NODE && node.attributes) {\n\t\tfor (var i = 0; i < node.attributes.length; i++) {\n\t\t\tvar attr = node.attributes.item(i);\n\t\t\tif (attr) {\n\t\t\t\tattr.ownerDocument = newOwnerDocument;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// Recursively update child nodes\n\tvar child = node.firstChild;\n\twhile (child) {\n\t\t_updateOwnerDocument(child, newOwnerDocument);\n\t\tchild = child.nextSibling;\n\t}\n}\n\n/**\n * Appends `newChild` to `parentNode`.\n * If `newChild` is already connected to a `parentNode` it is first removed from it.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n * @param {Node} parentNode\n * @param {Node} newChild\n * @returns {Node}\n * @private\n */\nfunction _appendSingleChild (parentNode, newChild) {\n\tif (newChild.parentNode) {\n\t\tnewChild.parentNode.removeChild(newChild);\n\t}\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = parentNode.lastChild;\n\tnewChild.nextSibling = null;\n\tif (newChild.previousSibling) {\n\t\tnewChild.previousSibling.nextSibling = newChild;\n\t} else {\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n\t\n\t// Update ownerDocument for the new child and all its descendants\n\tvar targetDoc = parentNode.ownerDocument || parentNode;\n\t_updateOwnerDocument(newChild, targetDoc);\n\t\n\treturn newChild;\n}\n\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\t/**\n\t * The DocumentType node of the document.\n\t *\n\t * @readonly\n\t * @type DocumentType\n\t */\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\n\tinsertBefore :  function(newChild, refChild){//raises\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\t_insertBefore(this, newChild, refChild);\n\t\t_updateOwnerDocument(newChild, this);\n\t\tif (this.documentElement === null && newChild.nodeType === ELEMENT_NODE) {\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\n\t\treturn newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\treplaceChild: function (newChild, oldChild) {\n\t\t//raises\n\t\t_insertBefore(this, newChild, oldChild, assertPreReplacementValidityInDocument);\n\t\t_updateOwnerDocument(newChild, this);\n\t\tif (oldChild) {\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t\tif (isElementNode(newChild)) {\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\n\t/**\n\t * The `getElementsByClassName` method of `Document` interface returns an array-like object\n\t * of all child elements which have **all** of the given class name(s).\n\t *\n\t * Returns an empty list if `classeNames` is an empty string or only contains HTML white space characters.\n\t *\n\t *\n\t * Warning: This is a live LiveNodeList.\n\t * Changes in the DOM will reflect in the array as the changes occur.\n\t * If an element selected by this array no longer qualifies for the selector,\n\t * it will automatically be removed. Be aware of this for iteration purposes.\n\t *\n\t * @param {string} classNames is a string representing the class name(s) to match; multiple class names are separated by (ASCII-)whitespace\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\n\t * @see https://dom.spec.whatwg.org/#concept-getelementsbyclassname\n\t */\n\tgetElementsByClassName: function(classNames) {\n\t\tvar classNamesSet = toOrderedSet(classNames)\n\t\treturn new LiveNodeList(this, function(base) {\n\t\t\tvar ls = [];\n\t\t\tif (classNamesSet.length > 0) {\n\t\t\t\t_visitNode(base.documentElement, function(node) {\n\t\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE) {\n\t\t\t\t\t\tvar nodeClassNames = node.getAttribute('class')\n\t\t\t\t\t\t// can be null if the attribute does not exist\n\t\t\t\t\t\tif (nodeClassNames) {\n\t\t\t\t\t\t\t// before splitting and iterating just compare them for the most common case\n\t\t\t\t\t\t\tvar matches = classNames === nodeClassNames;\n\t\t\t\t\t\t\tif (!matches) {\n\t\t\t\t\t\t\t\tvar nodeClassNamesSet = toOrderedSet(nodeClassNames)\n\t\t\t\t\t\t\t\tmatches = classNamesSet.every(arrayIncludes(nodeClassNamesSet))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(matches) {\n\t\t\t\t\t\t\t\tls.push(node);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn ls;\n\t\t});\n\t},\n\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.localName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.nodeName = node.target = target;\n\t\tnode.nodeValue = node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9 && this.documentElement || this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\n\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix || '';\n\tvar uri = node.namespaceURI;\n\t// According to [Namespaces in XML 1.0](https://www.w3.org/TR/REC-xml-names/#ns-using) ,\n\t// and more specifically https://www.w3.org/TR/REC-xml-names/#nsc-NoPrefixUndecl :\n\t// > In a namespace declaration for a prefix [...], the attribute value MUST NOT be empty.\n\t// in a similar manner [Namespaces in XML 1.1](https://www.w3.org/TR/xml-names11/#ns-using)\n\t// and more specifically https://www.w3.org/TR/xml-names11/#nsc-NSDeclared :\n\t// > [...] Furthermore, the attribute value [...] must not be an empty string.\n\t// so serializing empty namespace value like xmlns:ds=\"\" would produce an invalid XML document.\n\tif (!uri) {\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === NAMESPACE.XML || uri === NAMESPACE.XMLNS) {\n\t\treturn false;\n\t}\n\n\tvar i = visibleNamespaces.length\n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\tif (ns.prefix === prefix) {\n\t\t\treturn ns.namespace !== uri;\n\t\t}\n\t}\n\treturn true;\n}\n/**\n * Well-formed constraint: No < in Attribute Values\n * > The replacement text of any entity referred to directly or indirectly\n * > in an attribute value must not contain a <.\n * @see https://www.w3.org/TR/xml11/#CleanAttrVals\n * @see https://www.w3.org/TR/xml11/#NT-AttValue\n *\n * Literal whitespace other than space that appear in attribute values\n * are serialized as their entity references, so they will be preserved.\n * (In contrast to whitespace literals in the input which are normalized to spaces)\n * @see https://www.w3.org/TR/xml11/#AVNormalize\n * @see https://w3c.github.io/DOM-Parsing/#serializing-an-element-s-attributes\n */\nfunction addSerializedAttribute(buf, qualifiedName, value) {\n\tbuf.push(' ', qualifiedName, '=\"', value.replace(/[<>&\"\\t\\n\\r]/g, _xmlEncoder), '\"')\n}\n\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif (!visibleNamespaces) {\n\t\tvisibleNamespaces = [];\n\t}\n\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\n\t\tisHTML = NAMESPACE.isHTML(node.namespaceURI) || isHTML\n\n\t\tvar prefixedNodeName = nodeName\n\t\tif (!isHTML && !node.prefix && node.namespaceURI) {\n\t\t\tvar defaultNS\n\t\t\t// lookup current default ns from `xmlns` attribute\n\t\t\tfor (var ai = 0; ai < attrs.length; ai++) {\n\t\t\t\tif (attrs.item(ai).name === 'xmlns') {\n\t\t\t\t\tdefaultNS = attrs.item(ai).value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!defaultNS) {\n\t\t\t\t// lookup current default ns in visibleNamespaces\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.prefix === '' && namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tdefaultNS = namespace.namespace\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (defaultNS !== node.namespaceURI) {\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tif (namespace.prefix) {\n\t\t\t\t\t\t\tprefixedNodeName = namespace.prefix + ':' + nodeName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tbuf.push('<', prefixedNodeName);\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\n\t\t// add namespace for current node\n\t\tif (nodeName === prefixedNodeName && needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',prefixedNodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn addSerializedAttribute(buf, node.name, node.value);\n\tcase TEXT_NODE:\n\t\t/**\n\t\t * The ampersand character (&) and the left angle bracket (<) must not appear in their literal form,\n\t\t * except when used as markup delimiters, or within a comment, a processing instruction, or a CDATA section.\n\t\t * If they are needed elsewhere, they must be escaped using either numeric character references or the strings\n\t\t * `&amp;` and `&lt;` respectively.\n\t\t * The right angle bracket (>) may be represented using the string \" &gt; \", and must, for compatibility,\n\t\t * be escaped using either `&gt;` or a character reference when it appears in the string `]]>` in content,\n\t\t * when that string is not marking the end of a CDATA section.\n\t\t *\n\t\t * In the content of elements, character data is any string of characters\n\t\t * which does not contain the start-delimiter of any markup\n\t\t * and does not include the CDATA-section-close delimiter, `]]>`.\n\t\t *\n\t\t * @see https://www.w3.org/TR/xml/#NT-CharData\n\t\t * @see https://w3c.github.io/DOM-Parsing/#xml-serializing-a-text-node\n\t\t */\n\t\treturn buf.push(node.data\n\t\t\t.replace(/[<&>]/g,_xmlEncoder)\n\t\t);\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC ', pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push(' ', sysid);\n\t\t\t}\n\t\t\tbuf.push('>');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM ', sysid, '>');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor (var n in node) {\n\t\tif (Object.prototype.hasOwnProperty.call(node, n)) {\n\t\t\tvar v = node[n];\n\t\t\tif (typeof v != \"object\") {\n\t\t\t\tif (v != node2[n]) {\n\t\t\t\t\tnode2[n] = v;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.DocumentType = DocumentType;\n\texports.DOMException = DOMException;\n\texports.DOMImplementation = DOMImplementation;\n\texports.Element = Element;\n\texports.Node = Node;\n\texports.NodeList = NodeList;\n\texports.XMLSerializer = XMLSerializer;\n//}\n","'use strict';\n\nvar freeze = require('./conventions').freeze;\n\n/**\n * The entities that are predefined in every XML document.\n *\n * @see https://www.w3.org/TR/2006/REC-xml11-20060816/#sec-predefined-ent W3C XML 1.1\n * @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-predefined-ent W3C XML 1.0\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML Wikipedia\n */\nexports.XML_ENTITIES = freeze({\n\tamp: '&',\n\tapos: \"'\",\n\tgt: '>',\n\tlt: '<',\n\tquot: '\"',\n});\n\n/**\n * A map of all entities that are detected in an HTML document.\n * They contain all entries from `XML_ENTITIES`.\n *\n * @see XML_ENTITIES\n * @see DOMParser.parseFromString\n * @see DOMImplementation.prototype.createHTMLDocument\n * @see https://html.spec.whatwg.org/#named-character-references WHATWG HTML(5) Spec\n * @see https://html.spec.whatwg.org/entities.json JSON\n * @see https://www.w3.org/TR/xml-entity-names/ W3C XML Entity Names\n * @see https://www.w3.org/TR/html4/sgml/entities.html W3C HTML4/SGML\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Character_entity_references_in_HTML Wikipedia (HTML)\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Entities_representing_special_characters_in_XHTML Wikpedia (XHTML)\n */\nexports.HTML_ENTITIES = freeze({\n\tAacute: '\\u00C1',\n\taacute: '\\u00E1',\n\tAbreve: '\\u0102',\n\tabreve: '\\u0103',\n\tac: '\\u223E',\n\tacd: '\\u223F',\n\tacE: '\\u223E\\u0333',\n\tAcirc: '\\u00C2',\n\tacirc: '\\u00E2',\n\tacute: '\\u00B4',\n\tAcy: '\\u0410',\n\tacy: '\\u0430',\n\tAElig: '\\u00C6',\n\taelig: '\\u00E6',\n\taf: '\\u2061',\n\tAfr: '\\uD835\\uDD04',\n\tafr: '\\uD835\\uDD1E',\n\tAgrave: '\\u00C0',\n\tagrave: '\\u00E0',\n\talefsym: '\\u2135',\n\taleph: '\\u2135',\n\tAlpha: '\\u0391',\n\talpha: '\\u03B1',\n\tAmacr: '\\u0100',\n\tamacr: '\\u0101',\n\tamalg: '\\u2A3F',\n\tAMP: '\\u0026',\n\tamp: '\\u0026',\n\tAnd: '\\u2A53',\n\tand: '\\u2227',\n\tandand: '\\u2A55',\n\tandd: '\\u2A5C',\n\tandslope: '\\u2A58',\n\tandv: '\\u2A5A',\n\tang: '\\u2220',\n\tange: '\\u29A4',\n\tangle: '\\u2220',\n\tangmsd: '\\u2221',\n\tangmsdaa: '\\u29A8',\n\tangmsdab: '\\u29A9',\n\tangmsdac: '\\u29AA',\n\tangmsdad: '\\u29AB',\n\tangmsdae: '\\u29AC',\n\tangmsdaf: '\\u29AD',\n\tangmsdag: '\\u29AE',\n\tangmsdah: '\\u29AF',\n\tangrt: '\\u221F',\n\tangrtvb: '\\u22BE',\n\tangrtvbd: '\\u299D',\n\tangsph: '\\u2222',\n\tangst: '\\u00C5',\n\tangzarr: '\\u237C',\n\tAogon: '\\u0104',\n\taogon: '\\u0105',\n\tAopf: '\\uD835\\uDD38',\n\taopf: '\\uD835\\uDD52',\n\tap: '\\u2248',\n\tapacir: '\\u2A6F',\n\tapE: '\\u2A70',\n\tape: '\\u224A',\n\tapid: '\\u224B',\n\tapos: '\\u0027',\n\tApplyFunction: '\\u2061',\n\tapprox: '\\u2248',\n\tapproxeq: '\\u224A',\n\tAring: '\\u00C5',\n\taring: '\\u00E5',\n\tAscr: '\\uD835\\uDC9C',\n\tascr: '\\uD835\\uDCB6',\n\tAssign: '\\u2254',\n\tast: '\\u002A',\n\tasymp: '\\u2248',\n\tasympeq: '\\u224D',\n\tAtilde: '\\u00C3',\n\tatilde: '\\u00E3',\n\tAuml: '\\u00C4',\n\tauml: '\\u00E4',\n\tawconint: '\\u2233',\n\tawint: '\\u2A11',\n\tbackcong: '\\u224C',\n\tbackepsilon: '\\u03F6',\n\tbackprime: '\\u2035',\n\tbacksim: '\\u223D',\n\tbacksimeq: '\\u22CD',\n\tBackslash: '\\u2216',\n\tBarv: '\\u2AE7',\n\tbarvee: '\\u22BD',\n\tBarwed: '\\u2306',\n\tbarwed: '\\u2305',\n\tbarwedge: '\\u2305',\n\tbbrk: '\\u23B5',\n\tbbrktbrk: '\\u23B6',\n\tbcong: '\\u224C',\n\tBcy: '\\u0411',\n\tbcy: '\\u0431',\n\tbdquo: '\\u201E',\n\tbecaus: '\\u2235',\n\tBecause: '\\u2235',\n\tbecause: '\\u2235',\n\tbemptyv: '\\u29B0',\n\tbepsi: '\\u03F6',\n\tbernou: '\\u212C',\n\tBernoullis: '\\u212C',\n\tBeta: '\\u0392',\n\tbeta: '\\u03B2',\n\tbeth: '\\u2136',\n\tbetween: '\\u226C',\n\tBfr: '\\uD835\\uDD05',\n\tbfr: '\\uD835\\uDD1F',\n\tbigcap: '\\u22C2',\n\tbigcirc: '\\u25EF',\n\tbigcup: '\\u22C3',\n\tbigodot: '\\u2A00',\n\tbigoplus: '\\u2A01',\n\tbigotimes: '\\u2A02',\n\tbigsqcup: '\\u2A06',\n\tbigstar: '\\u2605',\n\tbigtriangledown: '\\u25BD',\n\tbigtriangleup: '\\u25B3',\n\tbiguplus: '\\u2A04',\n\tbigvee: '\\u22C1',\n\tbigwedge: '\\u22C0',\n\tbkarow: '\\u290D',\n\tblacklozenge: '\\u29EB',\n\tblacksquare: '\\u25AA',\n\tblacktriangle: '\\u25B4',\n\tblacktriangledown: '\\u25BE',\n\tblacktriangleleft: '\\u25C2',\n\tblacktriangleright: '\\u25B8',\n\tblank: '\\u2423',\n\tblk12: '\\u2592',\n\tblk14: '\\u2591',\n\tblk34: '\\u2593',\n\tblock: '\\u2588',\n\tbne: '\\u003D\\u20E5',\n\tbnequiv: '\\u2261\\u20E5',\n\tbNot: '\\u2AED',\n\tbnot: '\\u2310',\n\tBopf: '\\uD835\\uDD39',\n\tbopf: '\\uD835\\uDD53',\n\tbot: '\\u22A5',\n\tbottom: '\\u22A5',\n\tbowtie: '\\u22C8',\n\tboxbox: '\\u29C9',\n\tboxDL: '\\u2557',\n\tboxDl: '\\u2556',\n\tboxdL: '\\u2555',\n\tboxdl: '\\u2510',\n\tboxDR: '\\u2554',\n\tboxDr: '\\u2553',\n\tboxdR: '\\u2552',\n\tboxdr: '\\u250C',\n\tboxH: '\\u2550',\n\tboxh: '\\u2500',\n\tboxHD: '\\u2566',\n\tboxHd: '\\u2564',\n\tboxhD: '\\u2565',\n\tboxhd: '\\u252C',\n\tboxHU: '\\u2569',\n\tboxHu: '\\u2567',\n\tboxhU: '\\u2568',\n\tboxhu: '\\u2534',\n\tboxminus: '\\u229F',\n\tboxplus: '\\u229E',\n\tboxtimes: '\\u22A0',\n\tboxUL: '\\u255D',\n\tboxUl: '\\u255C',\n\tboxuL: '\\u255B',\n\tboxul: '\\u2518',\n\tboxUR: '\\u255A',\n\tboxUr: '\\u2559',\n\tboxuR: '\\u2558',\n\tboxur: '\\u2514',\n\tboxV: '\\u2551',\n\tboxv: '\\u2502',\n\tboxVH: '\\u256C',\n\tboxVh: '\\u256B',\n\tboxvH: '\\u256A',\n\tboxvh: '\\u253C',\n\tboxVL: '\\u2563',\n\tboxVl: '\\u2562',\n\tboxvL: '\\u2561',\n\tboxvl: '\\u2524',\n\tboxVR: '\\u2560',\n\tboxVr: '\\u255F',\n\tboxvR: '\\u255E',\n\tboxvr: '\\u251C',\n\tbprime: '\\u2035',\n\tBreve: '\\u02D8',\n\tbreve: '\\u02D8',\n\tbrvbar: '\\u00A6',\n\tBscr: '\\u212C',\n\tbscr: '\\uD835\\uDCB7',\n\tbsemi: '\\u204F',\n\tbsim: '\\u223D',\n\tbsime: '\\u22CD',\n\tbsol: '\\u005C',\n\tbsolb: '\\u29C5',\n\tbsolhsub: '\\u27C8',\n\tbull: '\\u2022',\n\tbullet: '\\u2022',\n\tbump: '\\u224E',\n\tbumpE: '\\u2AAE',\n\tbumpe: '\\u224F',\n\tBumpeq: '\\u224E',\n\tbumpeq: '\\u224F',\n\tCacute: '\\u0106',\n\tcacute: '\\u0107',\n\tCap: '\\u22D2',\n\tcap: '\\u2229',\n\tcapand: '\\u2A44',\n\tcapbrcup: '\\u2A49',\n\tcapcap: '\\u2A4B',\n\tcapcup: '\\u2A47',\n\tcapdot: '\\u2A40',\n\tCapitalDifferentialD: '\\u2145',\n\tcaps: '\\u2229\\uFE00',\n\tcaret: '\\u2041',\n\tcaron: '\\u02C7',\n\tCayleys: '\\u212D',\n\tccaps: '\\u2A4D',\n\tCcaron: '\\u010C',\n\tccaron: '\\u010D',\n\tCcedil: '\\u00C7',\n\tccedil: '\\u00E7',\n\tCcirc: '\\u0108',\n\tccirc: '\\u0109',\n\tCconint: '\\u2230',\n\tccups: '\\u2A4C',\n\tccupssm: '\\u2A50',\n\tCdot: '\\u010A',\n\tcdot: '\\u010B',\n\tcedil: '\\u00B8',\n\tCedilla: '\\u00B8',\n\tcemptyv: '\\u29B2',\n\tcent: '\\u00A2',\n\tCenterDot: '\\u00B7',\n\tcenterdot: '\\u00B7',\n\tCfr: '\\u212D',\n\tcfr: '\\uD835\\uDD20',\n\tCHcy: '\\u0427',\n\tchcy: '\\u0447',\n\tcheck: '\\u2713',\n\tcheckmark: '\\u2713',\n\tChi: '\\u03A7',\n\tchi: '\\u03C7',\n\tcir: '\\u25CB',\n\tcirc: '\\u02C6',\n\tcirceq: '\\u2257',\n\tcirclearrowleft: '\\u21BA',\n\tcirclearrowright: '\\u21BB',\n\tcircledast: '\\u229B',\n\tcircledcirc: '\\u229A',\n\tcircleddash: '\\u229D',\n\tCircleDot: '\\u2299',\n\tcircledR: '\\u00AE',\n\tcircledS: '\\u24C8',\n\tCircleMinus: '\\u2296',\n\tCirclePlus: '\\u2295',\n\tCircleTimes: '\\u2297',\n\tcirE: '\\u29C3',\n\tcire: '\\u2257',\n\tcirfnint: '\\u2A10',\n\tcirmid: '\\u2AEF',\n\tcirscir: '\\u29C2',\n\tClockwiseContourIntegral: '\\u2232',\n\tCloseCurlyDoubleQuote: '\\u201D',\n\tCloseCurlyQuote: '\\u2019',\n\tclubs: '\\u2663',\n\tclubsuit: '\\u2663',\n\tColon: '\\u2237',\n\tcolon: '\\u003A',\n\tColone: '\\u2A74',\n\tcolone: '\\u2254',\n\tcoloneq: '\\u2254',\n\tcomma: '\\u002C',\n\tcommat: '\\u0040',\n\tcomp: '\\u2201',\n\tcompfn: '\\u2218',\n\tcomplement: '\\u2201',\n\tcomplexes: '\\u2102',\n\tcong: '\\u2245',\n\tcongdot: '\\u2A6D',\n\tCongruent: '\\u2261',\n\tConint: '\\u222F',\n\tconint: '\\u222E',\n\tContourIntegral: '\\u222E',\n\tCopf: '\\u2102',\n\tcopf: '\\uD835\\uDD54',\n\tcoprod: '\\u2210',\n\tCoproduct: '\\u2210',\n\tCOPY: '\\u00A9',\n\tcopy: '\\u00A9',\n\tcopysr: '\\u2117',\n\tCounterClockwiseContourIntegral: '\\u2233',\n\tcrarr: '\\u21B5',\n\tCross: '\\u2A2F',\n\tcross: '\\u2717',\n\tCscr: '\\uD835\\uDC9E',\n\tcscr: '\\uD835\\uDCB8',\n\tcsub: '\\u2ACF',\n\tcsube: '\\u2AD1',\n\tcsup: '\\u2AD0',\n\tcsupe: '\\u2AD2',\n\tctdot: '\\u22EF',\n\tcudarrl: '\\u2938',\n\tcudarrr: '\\u2935',\n\tcuepr: '\\u22DE',\n\tcuesc: '\\u22DF',\n\tcularr: '\\u21B6',\n\tcularrp: '\\u293D',\n\tCup: '\\u22D3',\n\tcup: '\\u222A',\n\tcupbrcap: '\\u2A48',\n\tCupCap: '\\u224D',\n\tcupcap: '\\u2A46',\n\tcupcup: '\\u2A4A',\n\tcupdot: '\\u228D',\n\tcupor: '\\u2A45',\n\tcups: '\\u222A\\uFE00',\n\tcurarr: '\\u21B7',\n\tcurarrm: '\\u293C',\n\tcurlyeqprec: '\\u22DE',\n\tcurlyeqsucc: '\\u22DF',\n\tcurlyvee: '\\u22CE',\n\tcurlywedge: '\\u22CF',\n\tcurren: '\\u00A4',\n\tcurvearrowleft: '\\u21B6',\n\tcurvearrowright: '\\u21B7',\n\tcuvee: '\\u22CE',\n\tcuwed: '\\u22CF',\n\tcwconint: '\\u2232',\n\tcwint: '\\u2231',\n\tcylcty: '\\u232D',\n\tDagger: '\\u2021',\n\tdagger: '\\u2020',\n\tdaleth: '\\u2138',\n\tDarr: '\\u21A1',\n\tdArr: '\\u21D3',\n\tdarr: '\\u2193',\n\tdash: '\\u2010',\n\tDashv: '\\u2AE4',\n\tdashv: '\\u22A3',\n\tdbkarow: '\\u290F',\n\tdblac: '\\u02DD',\n\tDcaron: '\\u010E',\n\tdcaron: '\\u010F',\n\tDcy: '\\u0414',\n\tdcy: '\\u0434',\n\tDD: '\\u2145',\n\tdd: '\\u2146',\n\tddagger: '\\u2021',\n\tddarr: '\\u21CA',\n\tDDotrahd: '\\u2911',\n\tddotseq: '\\u2A77',\n\tdeg: '\\u00B0',\n\tDel: '\\u2207',\n\tDelta: '\\u0394',\n\tdelta: '\\u03B4',\n\tdemptyv: '\\u29B1',\n\tdfisht: '\\u297F',\n\tDfr: '\\uD835\\uDD07',\n\tdfr: '\\uD835\\uDD21',\n\tdHar: '\\u2965',\n\tdharl: '\\u21C3',\n\tdharr: '\\u21C2',\n\tDiacriticalAcute: '\\u00B4',\n\tDiacriticalDot: '\\u02D9',\n\tDiacriticalDoubleAcute: '\\u02DD',\n\tDiacriticalGrave: '\\u0060',\n\tDiacriticalTilde: '\\u02DC',\n\tdiam: '\\u22C4',\n\tDiamond: '\\u22C4',\n\tdiamond: '\\u22C4',\n\tdiamondsuit: '\\u2666',\n\tdiams: '\\u2666',\n\tdie: '\\u00A8',\n\tDifferentialD: '\\u2146',\n\tdigamma: '\\u03DD',\n\tdisin: '\\u22F2',\n\tdiv: '\\u00F7',\n\tdivide: '\\u00F7',\n\tdivideontimes: '\\u22C7',\n\tdivonx: '\\u22C7',\n\tDJcy: '\\u0402',\n\tdjcy: '\\u0452',\n\tdlcorn: '\\u231E',\n\tdlcrop: '\\u230D',\n\tdollar: '\\u0024',\n\tDopf: '\\uD835\\uDD3B',\n\tdopf: '\\uD835\\uDD55',\n\tDot: '\\u00A8',\n\tdot: '\\u02D9',\n\tDotDot: '\\u20DC',\n\tdoteq: '\\u2250',\n\tdoteqdot: '\\u2251',\n\tDotEqual: '\\u2250',\n\tdotminus: '\\u2238',\n\tdotplus: '\\u2214',\n\tdotsquare: '\\u22A1',\n\tdoublebarwedge: '\\u2306',\n\tDoubleContourIntegral: '\\u222F',\n\tDoubleDot: '\\u00A8',\n\tDoubleDownArrow: '\\u21D3',\n\tDoubleLeftArrow: '\\u21D0',\n\tDoubleLeftRightArrow: '\\u21D4',\n\tDoubleLeftTee: '\\u2AE4',\n\tDoubleLongLeftArrow: '\\u27F8',\n\tDoubleLongLeftRightArrow: '\\u27FA',\n\tDoubleLongRightArrow: '\\u27F9',\n\tDoubleRightArrow: '\\u21D2',\n\tDoubleRightTee: '\\u22A8',\n\tDoubleUpArrow: '\\u21D1',\n\tDoubleUpDownArrow: '\\u21D5',\n\tDoubleVerticalBar: '\\u2225',\n\tDownArrow: '\\u2193',\n\tDownarrow: '\\u21D3',\n\tdownarrow: '\\u2193',\n\tDownArrowBar: '\\u2913',\n\tDownArrowUpArrow: '\\u21F5',\n\tDownBreve: '\\u0311',\n\tdowndownarrows: '\\u21CA',\n\tdownharpoonleft: '\\u21C3',\n\tdownharpoonright: '\\u21C2',\n\tDownLeftRightVector: '\\u2950',\n\tDownLeftTeeVector: '\\u295E',\n\tDownLeftVector: '\\u21BD',\n\tDownLeftVectorBar: '\\u2956',\n\tDownRightTeeVector: '\\u295F',\n\tDownRightVector: '\\u21C1',\n\tDownRightVectorBar: '\\u2957',\n\tDownTee: '\\u22A4',\n\tDownTeeArrow: '\\u21A7',\n\tdrbkarow: '\\u2910',\n\tdrcorn: '\\u231F',\n\tdrcrop: '\\u230C',\n\tDscr: '\\uD835\\uDC9F',\n\tdscr: '\\uD835\\uDCB9',\n\tDScy: '\\u0405',\n\tdscy: '\\u0455',\n\tdsol: '\\u29F6',\n\tDstrok: '\\u0110',\n\tdstrok: '\\u0111',\n\tdtdot: '\\u22F1',\n\tdtri: '\\u25BF',\n\tdtrif: '\\u25BE',\n\tduarr: '\\u21F5',\n\tduhar: '\\u296F',\n\tdwangle: '\\u29A6',\n\tDZcy: '\\u040F',\n\tdzcy: '\\u045F',\n\tdzigrarr: '\\u27FF',\n\tEacute: '\\u00C9',\n\teacute: '\\u00E9',\n\teaster: '\\u2A6E',\n\tEcaron: '\\u011A',\n\tecaron: '\\u011B',\n\tecir: '\\u2256',\n\tEcirc: '\\u00CA',\n\tecirc: '\\u00EA',\n\tecolon: '\\u2255',\n\tEcy: '\\u042D',\n\tecy: '\\u044D',\n\teDDot: '\\u2A77',\n\tEdot: '\\u0116',\n\teDot: '\\u2251',\n\tedot: '\\u0117',\n\tee: '\\u2147',\n\tefDot: '\\u2252',\n\tEfr: '\\uD835\\uDD08',\n\tefr: '\\uD835\\uDD22',\n\teg: '\\u2A9A',\n\tEgrave: '\\u00C8',\n\tegrave: '\\u00E8',\n\tegs: '\\u2A96',\n\tegsdot: '\\u2A98',\n\tel: '\\u2A99',\n\tElement: '\\u2208',\n\telinters: '\\u23E7',\n\tell: '\\u2113',\n\tels: '\\u2A95',\n\telsdot: '\\u2A97',\n\tEmacr: '\\u0112',\n\temacr: '\\u0113',\n\tempty: '\\u2205',\n\temptyset: '\\u2205',\n\tEmptySmallSquare: '\\u25FB',\n\temptyv: '\\u2205',\n\tEmptyVerySmallSquare: '\\u25AB',\n\temsp: '\\u2003',\n\temsp13: '\\u2004',\n\temsp14: '\\u2005',\n\tENG: '\\u014A',\n\teng: '\\u014B',\n\tensp: '\\u2002',\n\tEogon: '\\u0118',\n\teogon: '\\u0119',\n\tEopf: '\\uD835\\uDD3C',\n\teopf: '\\uD835\\uDD56',\n\tepar: '\\u22D5',\n\teparsl: '\\u29E3',\n\teplus: '\\u2A71',\n\tepsi: '\\u03B5',\n\tEpsilon: '\\u0395',\n\tepsilon: '\\u03B5',\n\tepsiv: '\\u03F5',\n\teqcirc: '\\u2256',\n\teqcolon: '\\u2255',\n\teqsim: '\\u2242',\n\teqslantgtr: '\\u2A96',\n\teqslantless: '\\u2A95',\n\tEqual: '\\u2A75',\n\tequals: '\\u003D',\n\tEqualTilde: '\\u2242',\n\tequest: '\\u225F',\n\tEquilibrium: '\\u21CC',\n\tequiv: '\\u2261',\n\tequivDD: '\\u2A78',\n\teqvparsl: '\\u29E5',\n\terarr: '\\u2971',\n\terDot: '\\u2253',\n\tEscr: '\\u2130',\n\tescr: '\\u212F',\n\tesdot: '\\u2250',\n\tEsim: '\\u2A73',\n\tesim: '\\u2242',\n\tEta: '\\u0397',\n\teta: '\\u03B7',\n\tETH: '\\u00D0',\n\teth: '\\u00F0',\n\tEuml: '\\u00CB',\n\teuml: '\\u00EB',\n\teuro: '\\u20AC',\n\texcl: '\\u0021',\n\texist: '\\u2203',\n\tExists: '\\u2203',\n\texpectation: '\\u2130',\n\tExponentialE: '\\u2147',\n\texponentiale: '\\u2147',\n\tfallingdotseq: '\\u2252',\n\tFcy: '\\u0424',\n\tfcy: '\\u0444',\n\tfemale: '\\u2640',\n\tffilig: '\\uFB03',\n\tfflig: '\\uFB00',\n\tffllig: '\\uFB04',\n\tFfr: '\\uD835\\uDD09',\n\tffr: '\\uD835\\uDD23',\n\tfilig: '\\uFB01',\n\tFilledSmallSquare: '\\u25FC',\n\tFilledVerySmallSquare: '\\u25AA',\n\tfjlig: '\\u0066\\u006A',\n\tflat: '\\u266D',\n\tfllig: '\\uFB02',\n\tfltns: '\\u25B1',\n\tfnof: '\\u0192',\n\tFopf: '\\uD835\\uDD3D',\n\tfopf: '\\uD835\\uDD57',\n\tForAll: '\\u2200',\n\tforall: '\\u2200',\n\tfork: '\\u22D4',\n\tforkv: '\\u2AD9',\n\tFouriertrf: '\\u2131',\n\tfpartint: '\\u2A0D',\n\tfrac12: '\\u00BD',\n\tfrac13: '\\u2153',\n\tfrac14: '\\u00BC',\n\tfrac15: '\\u2155',\n\tfrac16: '\\u2159',\n\tfrac18: '\\u215B',\n\tfrac23: '\\u2154',\n\tfrac25: '\\u2156',\n\tfrac34: '\\u00BE',\n\tfrac35: '\\u2157',\n\tfrac38: '\\u215C',\n\tfrac45: '\\u2158',\n\tfrac56: '\\u215A',\n\tfrac58: '\\u215D',\n\tfrac78: '\\u215E',\n\tfrasl: '\\u2044',\n\tfrown: '\\u2322',\n\tFscr: '\\u2131',\n\tfscr: '\\uD835\\uDCBB',\n\tgacute: '\\u01F5',\n\tGamma: '\\u0393',\n\tgamma: '\\u03B3',\n\tGammad: '\\u03DC',\n\tgammad: '\\u03DD',\n\tgap: '\\u2A86',\n\tGbreve: '\\u011E',\n\tgbreve: '\\u011F',\n\tGcedil: '\\u0122',\n\tGcirc: '\\u011C',\n\tgcirc: '\\u011D',\n\tGcy: '\\u0413',\n\tgcy: '\\u0433',\n\tGdot: '\\u0120',\n\tgdot: '\\u0121',\n\tgE: '\\u2267',\n\tge: '\\u2265',\n\tgEl: '\\u2A8C',\n\tgel: '\\u22DB',\n\tgeq: '\\u2265',\n\tgeqq: '\\u2267',\n\tgeqslant: '\\u2A7E',\n\tges: '\\u2A7E',\n\tgescc: '\\u2AA9',\n\tgesdot: '\\u2A80',\n\tgesdoto: '\\u2A82',\n\tgesdotol: '\\u2A84',\n\tgesl: '\\u22DB\\uFE00',\n\tgesles: '\\u2A94',\n\tGfr: '\\uD835\\uDD0A',\n\tgfr: '\\uD835\\uDD24',\n\tGg: '\\u22D9',\n\tgg: '\\u226B',\n\tggg: '\\u22D9',\n\tgimel: '\\u2137',\n\tGJcy: '\\u0403',\n\tgjcy: '\\u0453',\n\tgl: '\\u2277',\n\tgla: '\\u2AA5',\n\tglE: '\\u2A92',\n\tglj: '\\u2AA4',\n\tgnap: '\\u2A8A',\n\tgnapprox: '\\u2A8A',\n\tgnE: '\\u2269',\n\tgne: '\\u2A88',\n\tgneq: '\\u2A88',\n\tgneqq: '\\u2269',\n\tgnsim: '\\u22E7',\n\tGopf: '\\uD835\\uDD3E',\n\tgopf: '\\uD835\\uDD58',\n\tgrave: '\\u0060',\n\tGreaterEqual: '\\u2265',\n\tGreaterEqualLess: '\\u22DB',\n\tGreaterFullEqual: '\\u2267',\n\tGreaterGreater: '\\u2AA2',\n\tGreaterLess: '\\u2277',\n\tGreaterSlantEqual: '\\u2A7E',\n\tGreaterTilde: '\\u2273',\n\tGscr: '\\uD835\\uDCA2',\n\tgscr: '\\u210A',\n\tgsim: '\\u2273',\n\tgsime: '\\u2A8E',\n\tgsiml: '\\u2A90',\n\tGt: '\\u226B',\n\tGT: '\\u003E',\n\tgt: '\\u003E',\n\tgtcc: '\\u2AA7',\n\tgtcir: '\\u2A7A',\n\tgtdot: '\\u22D7',\n\tgtlPar: '\\u2995',\n\tgtquest: '\\u2A7C',\n\tgtrapprox: '\\u2A86',\n\tgtrarr: '\\u2978',\n\tgtrdot: '\\u22D7',\n\tgtreqless: '\\u22DB',\n\tgtreqqless: '\\u2A8C',\n\tgtrless: '\\u2277',\n\tgtrsim: '\\u2273',\n\tgvertneqq: '\\u2269\\uFE00',\n\tgvnE: '\\u2269\\uFE00',\n\tHacek: '\\u02C7',\n\thairsp: '\\u200A',\n\thalf: '\\u00BD',\n\thamilt: '\\u210B',\n\tHARDcy: '\\u042A',\n\thardcy: '\\u044A',\n\thArr: '\\u21D4',\n\tharr: '\\u2194',\n\tharrcir: '\\u2948',\n\tharrw: '\\u21AD',\n\tHat: '\\u005E',\n\thbar: '\\u210F',\n\tHcirc: '\\u0124',\n\thcirc: '\\u0125',\n\thearts: '\\u2665',\n\theartsuit: '\\u2665',\n\thellip: '\\u2026',\n\thercon: '\\u22B9',\n\tHfr: '\\u210C',\n\thfr: '\\uD835\\uDD25',\n\tHilbertSpace: '\\u210B',\n\thksearow: '\\u2925',\n\thkswarow: '\\u2926',\n\thoarr: '\\u21FF',\n\thomtht: '\\u223B',\n\thookleftarrow: '\\u21A9',\n\thookrightarrow: '\\u21AA',\n\tHopf: '\\u210D',\n\thopf: '\\uD835\\uDD59',\n\thorbar: '\\u2015',\n\tHorizontalLine: '\\u2500',\n\tHscr: '\\u210B',\n\thscr: '\\uD835\\uDCBD',\n\thslash: '\\u210F',\n\tHstrok: '\\u0126',\n\thstrok: '\\u0127',\n\tHumpDownHump: '\\u224E',\n\tHumpEqual: '\\u224F',\n\thybull: '\\u2043',\n\thyphen: '\\u2010',\n\tIacute: '\\u00CD',\n\tiacute: '\\u00ED',\n\tic: '\\u2063',\n\tIcirc: '\\u00CE',\n\ticirc: '\\u00EE',\n\tIcy: '\\u0418',\n\ticy: '\\u0438',\n\tIdot: '\\u0130',\n\tIEcy: '\\u0415',\n\tiecy: '\\u0435',\n\tiexcl: '\\u00A1',\n\tiff: '\\u21D4',\n\tIfr: '\\u2111',\n\tifr: '\\uD835\\uDD26',\n\tIgrave: '\\u00CC',\n\tigrave: '\\u00EC',\n\tii: '\\u2148',\n\tiiiint: '\\u2A0C',\n\tiiint: '\\u222D',\n\tiinfin: '\\u29DC',\n\tiiota: '\\u2129',\n\tIJlig: '\\u0132',\n\tijlig: '\\u0133',\n\tIm: '\\u2111',\n\tImacr: '\\u012A',\n\timacr: '\\u012B',\n\timage: '\\u2111',\n\tImaginaryI: '\\u2148',\n\timagline: '\\u2110',\n\timagpart: '\\u2111',\n\timath: '\\u0131',\n\timof: '\\u22B7',\n\timped: '\\u01B5',\n\tImplies: '\\u21D2',\n\tin: '\\u2208',\n\tincare: '\\u2105',\n\tinfin: '\\u221E',\n\tinfintie: '\\u29DD',\n\tinodot: '\\u0131',\n\tInt: '\\u222C',\n\tint: '\\u222B',\n\tintcal: '\\u22BA',\n\tintegers: '\\u2124',\n\tIntegral: '\\u222B',\n\tintercal: '\\u22BA',\n\tIntersection: '\\u22C2',\n\tintlarhk: '\\u2A17',\n\tintprod: '\\u2A3C',\n\tInvisibleComma: '\\u2063',\n\tInvisibleTimes: '\\u2062',\n\tIOcy: '\\u0401',\n\tiocy: '\\u0451',\n\tIogon: '\\u012E',\n\tiogon: '\\u012F',\n\tIopf: '\\uD835\\uDD40',\n\tiopf: '\\uD835\\uDD5A',\n\tIota: '\\u0399',\n\tiota: '\\u03B9',\n\tiprod: '\\u2A3C',\n\tiquest: '\\u00BF',\n\tIscr: '\\u2110',\n\tiscr: '\\uD835\\uDCBE',\n\tisin: '\\u2208',\n\tisindot: '\\u22F5',\n\tisinE: '\\u22F9',\n\tisins: '\\u22F4',\n\tisinsv: '\\u22F3',\n\tisinv: '\\u2208',\n\tit: '\\u2062',\n\tItilde: '\\u0128',\n\titilde: '\\u0129',\n\tIukcy: '\\u0406',\n\tiukcy: '\\u0456',\n\tIuml: '\\u00CF',\n\tiuml: '\\u00EF',\n\tJcirc: '\\u0134',\n\tjcirc: '\\u0135',\n\tJcy: '\\u0419',\n\tjcy: '\\u0439',\n\tJfr: '\\uD835\\uDD0D',\n\tjfr: '\\uD835\\uDD27',\n\tjmath: '\\u0237',\n\tJopf: '\\uD835\\uDD41',\n\tjopf: '\\uD835\\uDD5B',\n\tJscr: '\\uD835\\uDCA5',\n\tjscr: '\\uD835\\uDCBF',\n\tJsercy: '\\u0408',\n\tjsercy: '\\u0458',\n\tJukcy: '\\u0404',\n\tjukcy: '\\u0454',\n\tKappa: '\\u039A',\n\tkappa: '\\u03BA',\n\tkappav: '\\u03F0',\n\tKcedil: '\\u0136',\n\tkcedil: '\\u0137',\n\tKcy: '\\u041A',\n\tkcy: '\\u043A',\n\tKfr: '\\uD835\\uDD0E',\n\tkfr: '\\uD835\\uDD28',\n\tkgreen: '\\u0138',\n\tKHcy: '\\u0425',\n\tkhcy: '\\u0445',\n\tKJcy: '\\u040C',\n\tkjcy: '\\u045C',\n\tKopf: '\\uD835\\uDD42',\n\tkopf: '\\uD835\\uDD5C',\n\tKscr: '\\uD835\\uDCA6',\n\tkscr: '\\uD835\\uDCC0',\n\tlAarr: '\\u21DA',\n\tLacute: '\\u0139',\n\tlacute: '\\u013A',\n\tlaemptyv: '\\u29B4',\n\tlagran: '\\u2112',\n\tLambda: '\\u039B',\n\tlambda: '\\u03BB',\n\tLang: '\\u27EA',\n\tlang: '\\u27E8',\n\tlangd: '\\u2991',\n\tlangle: '\\u27E8',\n\tlap: '\\u2A85',\n\tLaplacetrf: '\\u2112',\n\tlaquo: '\\u00AB',\n\tLarr: '\\u219E',\n\tlArr: '\\u21D0',\n\tlarr: '\\u2190',\n\tlarrb: '\\u21E4',\n\tlarrbfs: '\\u291F',\n\tlarrfs: '\\u291D',\n\tlarrhk: '\\u21A9',\n\tlarrlp: '\\u21AB',\n\tlarrpl: '\\u2939',\n\tlarrsim: '\\u2973',\n\tlarrtl: '\\u21A2',\n\tlat: '\\u2AAB',\n\tlAtail: '\\u291B',\n\tlatail: '\\u2919',\n\tlate: '\\u2AAD',\n\tlates: '\\u2AAD\\uFE00',\n\tlBarr: '\\u290E',\n\tlbarr: '\\u290C',\n\tlbbrk: '\\u2772',\n\tlbrace: '\\u007B',\n\tlbrack: '\\u005B',\n\tlbrke: '\\u298B',\n\tlbrksld: '\\u298F',\n\tlbrkslu: '\\u298D',\n\tLcaron: '\\u013D',\n\tlcaron: '\\u013E',\n\tLcedil: '\\u013B',\n\tlcedil: '\\u013C',\n\tlceil: '\\u2308',\n\tlcub: '\\u007B',\n\tLcy: '\\u041B',\n\tlcy: '\\u043B',\n\tldca: '\\u2936',\n\tldquo: '\\u201C',\n\tldquor: '\\u201E',\n\tldrdhar: '\\u2967',\n\tldrushar: '\\u294B',\n\tldsh: '\\u21B2',\n\tlE: '\\u2266',\n\tle: '\\u2264',\n\tLeftAngleBracket: '\\u27E8',\n\tLeftArrow: '\\u2190',\n\tLeftarrow: '\\u21D0',\n\tleftarrow: '\\u2190',\n\tLeftArrowBar: '\\u21E4',\n\tLeftArrowRightArrow: '\\u21C6',\n\tleftarrowtail: '\\u21A2',\n\tLeftCeiling: '\\u2308',\n\tLeftDoubleBracket: '\\u27E6',\n\tLeftDownTeeVector: '\\u2961',\n\tLeftDownVector: '\\u21C3',\n\tLeftDownVectorBar: '\\u2959',\n\tLeftFloor: '\\u230A',\n\tleftharpoondown: '\\u21BD',\n\tleftharpoonup: '\\u21BC',\n\tleftleftarrows: '\\u21C7',\n\tLeftRightArrow: '\\u2194',\n\tLeftrightarrow: '\\u21D4',\n\tleftrightarrow: '\\u2194',\n\tleftrightarrows: '\\u21C6',\n\tleftrightharpoons: '\\u21CB',\n\tleftrightsquigarrow: '\\u21AD',\n\tLeftRightVector: '\\u294E',\n\tLeftTee: '\\u22A3',\n\tLeftTeeArrow: '\\u21A4',\n\tLeftTeeVector: '\\u295A',\n\tleftthreetimes: '\\u22CB',\n\tLeftTriangle: '\\u22B2',\n\tLeftTriangleBar: '\\u29CF',\n\tLeftTriangleEqual: '\\u22B4',\n\tLeftUpDownVector: '\\u2951',\n\tLeftUpTeeVector: '\\u2960',\n\tLeftUpVector: '\\u21BF',\n\tLeftUpVectorBar: '\\u2958',\n\tLeftVector: '\\u21BC',\n\tLeftVectorBar: '\\u2952',\n\tlEg: '\\u2A8B',\n\tleg: '\\u22DA',\n\tleq: '\\u2264',\n\tleqq: '\\u2266',\n\tleqslant: '\\u2A7D',\n\tles: '\\u2A7D',\n\tlescc: '\\u2AA8',\n\tlesdot: '\\u2A7F',\n\tlesdoto: '\\u2A81',\n\tlesdotor: '\\u2A83',\n\tlesg: '\\u22DA\\uFE00',\n\tlesges: '\\u2A93',\n\tlessapprox: '\\u2A85',\n\tlessdot: '\\u22D6',\n\tlesseqgtr: '\\u22DA',\n\tlesseqqgtr: '\\u2A8B',\n\tLessEqualGreater: '\\u22DA',\n\tLessFullEqual: '\\u2266',\n\tLessGreater: '\\u2276',\n\tlessgtr: '\\u2276',\n\tLessLess: '\\u2AA1',\n\tlesssim: '\\u2272',\n\tLessSlantEqual: '\\u2A7D',\n\tLessTilde: '\\u2272',\n\tlfisht: '\\u297C',\n\tlfloor: '\\u230A',\n\tLfr: '\\uD835\\uDD0F',\n\tlfr: '\\uD835\\uDD29',\n\tlg: '\\u2276',\n\tlgE: '\\u2A91',\n\tlHar: '\\u2962',\n\tlhard: '\\u21BD',\n\tlharu: '\\u21BC',\n\tlharul: '\\u296A',\n\tlhblk: '\\u2584',\n\tLJcy: '\\u0409',\n\tljcy: '\\u0459',\n\tLl: '\\u22D8',\n\tll: '\\u226A',\n\tllarr: '\\u21C7',\n\tllcorner: '\\u231E',\n\tLleftarrow: '\\u21DA',\n\tllhard: '\\u296B',\n\tlltri: '\\u25FA',\n\tLmidot: '\\u013F',\n\tlmidot: '\\u0140',\n\tlmoust: '\\u23B0',\n\tlmoustache: '\\u23B0',\n\tlnap: '\\u2A89',\n\tlnapprox: '\\u2A89',\n\tlnE: '\\u2268',\n\tlne: '\\u2A87',\n\tlneq: '\\u2A87',\n\tlneqq: '\\u2268',\n\tlnsim: '\\u22E6',\n\tloang: '\\u27EC',\n\tloarr: '\\u21FD',\n\tlobrk: '\\u27E6',\n\tLongLeftArrow: '\\u27F5',\n\tLongleftarrow: '\\u27F8',\n\tlongleftarrow: '\\u27F5',\n\tLongLeftRightArrow: '\\u27F7',\n\tLongleftrightarrow: '\\u27FA',\n\tlongleftrightarrow: '\\u27F7',\n\tlongmapsto: '\\u27FC',\n\tLongRightArrow: '\\u27F6',\n\tLongrightarrow: '\\u27F9',\n\tlongrightarrow: '\\u27F6',\n\tlooparrowleft: '\\u21AB',\n\tlooparrowright: '\\u21AC',\n\tlopar: '\\u2985',\n\tLopf: '\\uD835\\uDD43',\n\tlopf: '\\uD835\\uDD5D',\n\tloplus: '\\u2A2D',\n\tlotimes: '\\u2A34',\n\tlowast: '\\u2217',\n\tlowbar: '\\u005F',\n\tLowerLeftArrow: '\\u2199',\n\tLowerRightArrow: '\\u2198',\n\tloz: '\\u25CA',\n\tlozenge: '\\u25CA',\n\tlozf: '\\u29EB',\n\tlpar: '\\u0028',\n\tlparlt: '\\u2993',\n\tlrarr: '\\u21C6',\n\tlrcorner: '\\u231F',\n\tlrhar: '\\u21CB',\n\tlrhard: '\\u296D',\n\tlrm: '\\u200E',\n\tlrtri: '\\u22BF',\n\tlsaquo: '\\u2039',\n\tLscr: '\\u2112',\n\tlscr: '\\uD835\\uDCC1',\n\tLsh: '\\u21B0',\n\tlsh: '\\u21B0',\n\tlsim: '\\u2272',\n\tlsime: '\\u2A8D',\n\tlsimg: '\\u2A8F',\n\tlsqb: '\\u005B',\n\tlsquo: '\\u2018',\n\tlsquor: '\\u201A',\n\tLstrok: '\\u0141',\n\tlstrok: '\\u0142',\n\tLt: '\\u226A',\n\tLT: '\\u003C',\n\tlt: '\\u003C',\n\tltcc: '\\u2AA6',\n\tltcir: '\\u2A79',\n\tltdot: '\\u22D6',\n\tlthree: '\\u22CB',\n\tltimes: '\\u22C9',\n\tltlarr: '\\u2976',\n\tltquest: '\\u2A7B',\n\tltri: '\\u25C3',\n\tltrie: '\\u22B4',\n\tltrif: '\\u25C2',\n\tltrPar: '\\u2996',\n\tlurdshar: '\\u294A',\n\tluruhar: '\\u2966',\n\tlvertneqq: '\\u2268\\uFE00',\n\tlvnE: '\\u2268\\uFE00',\n\tmacr: '\\u00AF',\n\tmale: '\\u2642',\n\tmalt: '\\u2720',\n\tmaltese: '\\u2720',\n\tMap: '\\u2905',\n\tmap: '\\u21A6',\n\tmapsto: '\\u21A6',\n\tmapstodown: '\\u21A7',\n\tmapstoleft: '\\u21A4',\n\tmapstoup: '\\u21A5',\n\tmarker: '\\u25AE',\n\tmcomma: '\\u2A29',\n\tMcy: '\\u041C',\n\tmcy: '\\u043C',\n\tmdash: '\\u2014',\n\tmDDot: '\\u223A',\n\tmeasuredangle: '\\u2221',\n\tMediumSpace: '\\u205F',\n\tMellintrf: '\\u2133',\n\tMfr: '\\uD835\\uDD10',\n\tmfr: '\\uD835\\uDD2A',\n\tmho: '\\u2127',\n\tmicro: '\\u00B5',\n\tmid: '\\u2223',\n\tmidast: '\\u002A',\n\tmidcir: '\\u2AF0',\n\tmiddot: '\\u00B7',\n\tminus: '\\u2212',\n\tminusb: '\\u229F',\n\tminusd: '\\u2238',\n\tminusdu: '\\u2A2A',\n\tMinusPlus: '\\u2213',\n\tmlcp: '\\u2ADB',\n\tmldr: '\\u2026',\n\tmnplus: '\\u2213',\n\tmodels: '\\u22A7',\n\tMopf: '\\uD835\\uDD44',\n\tmopf: '\\uD835\\uDD5E',\n\tmp: '\\u2213',\n\tMscr: '\\u2133',\n\tmscr: '\\uD835\\uDCC2',\n\tmstpos: '\\u223E',\n\tMu: '\\u039C',\n\tmu: '\\u03BC',\n\tmultimap: '\\u22B8',\n\tmumap: '\\u22B8',\n\tnabla: '\\u2207',\n\tNacute: '\\u0143',\n\tnacute: '\\u0144',\n\tnang: '\\u2220\\u20D2',\n\tnap: '\\u2249',\n\tnapE: '\\u2A70\\u0338',\n\tnapid: '\\u224B\\u0338',\n\tnapos: '\\u0149',\n\tnapprox: '\\u2249',\n\tnatur: '\\u266E',\n\tnatural: '\\u266E',\n\tnaturals: '\\u2115',\n\tnbsp: '\\u00A0',\n\tnbump: '\\u224E\\u0338',\n\tnbumpe: '\\u224F\\u0338',\n\tncap: '\\u2A43',\n\tNcaron: '\\u0147',\n\tncaron: '\\u0148',\n\tNcedil: '\\u0145',\n\tncedil: '\\u0146',\n\tncong: '\\u2247',\n\tncongdot: '\\u2A6D\\u0338',\n\tncup: '\\u2A42',\n\tNcy: '\\u041D',\n\tncy: '\\u043D',\n\tndash: '\\u2013',\n\tne: '\\u2260',\n\tnearhk: '\\u2924',\n\tneArr: '\\u21D7',\n\tnearr: '\\u2197',\n\tnearrow: '\\u2197',\n\tnedot: '\\u2250\\u0338',\n\tNegativeMediumSpace: '\\u200B',\n\tNegativeThickSpace: '\\u200B',\n\tNegativeThinSpace: '\\u200B',\n\tNegativeVeryThinSpace: '\\u200B',\n\tnequiv: '\\u2262',\n\tnesear: '\\u2928',\n\tnesim: '\\u2242\\u0338',\n\tNestedGreaterGreater: '\\u226B',\n\tNestedLessLess: '\\u226A',\n\tNewLine: '\\u000A',\n\tnexist: '\\u2204',\n\tnexists: '\\u2204',\n\tNfr: '\\uD835\\uDD11',\n\tnfr: '\\uD835\\uDD2B',\n\tngE: '\\u2267\\u0338',\n\tnge: '\\u2271',\n\tngeq: '\\u2271',\n\tngeqq: '\\u2267\\u0338',\n\tngeqslant: '\\u2A7E\\u0338',\n\tnges: '\\u2A7E\\u0338',\n\tnGg: '\\u22D9\\u0338',\n\tngsim: '\\u2275',\n\tnGt: '\\u226B\\u20D2',\n\tngt: '\\u226F',\n\tngtr: '\\u226F',\n\tnGtv: '\\u226B\\u0338',\n\tnhArr: '\\u21CE',\n\tnharr: '\\u21AE',\n\tnhpar: '\\u2AF2',\n\tni: '\\u220B',\n\tnis: '\\u22FC',\n\tnisd: '\\u22FA',\n\tniv: '\\u220B',\n\tNJcy: '\\u040A',\n\tnjcy: '\\u045A',\n\tnlArr: '\\u21CD',\n\tnlarr: '\\u219A',\n\tnldr: '\\u2025',\n\tnlE: '\\u2266\\u0338',\n\tnle: '\\u2270',\n\tnLeftarrow: '\\u21CD',\n\tnleftarrow: '\\u219A',\n\tnLeftrightarrow: '\\u21CE',\n\tnleftrightarrow: '\\u21AE',\n\tnleq: '\\u2270',\n\tnleqq: '\\u2266\\u0338',\n\tnleqslant: '\\u2A7D\\u0338',\n\tnles: '\\u2A7D\\u0338',\n\tnless: '\\u226E',\n\tnLl: '\\u22D8\\u0338',\n\tnlsim: '\\u2274',\n\tnLt: '\\u226A\\u20D2',\n\tnlt: '\\u226E',\n\tnltri: '\\u22EA',\n\tnltrie: '\\u22EC',\n\tnLtv: '\\u226A\\u0338',\n\tnmid: '\\u2224',\n\tNoBreak: '\\u2060',\n\tNonBreakingSpace: '\\u00A0',\n\tNopf: '\\u2115',\n\tnopf: '\\uD835\\uDD5F',\n\tNot: '\\u2AEC',\n\tnot: '\\u00AC',\n\tNotCongruent: '\\u2262',\n\tNotCupCap: '\\u226D',\n\tNotDoubleVerticalBar: '\\u2226',\n\tNotElement: '\\u2209',\n\tNotEqual: '\\u2260',\n\tNotEqualTilde: '\\u2242\\u0338',\n\tNotExists: '\\u2204',\n\tNotGreater: '\\u226F',\n\tNotGreaterEqual: '\\u2271',\n\tNotGreaterFullEqual: '\\u2267\\u0338',\n\tNotGreaterGreater: '\\u226B\\u0338',\n\tNotGreaterLess: '\\u2279',\n\tNotGreaterSlantEqual: '\\u2A7E\\u0338',\n\tNotGreaterTilde: '\\u2275',\n\tNotHumpDownHump: '\\u224E\\u0338',\n\tNotHumpEqual: '\\u224F\\u0338',\n\tnotin: '\\u2209',\n\tnotindot: '\\u22F5\\u0338',\n\tnotinE: '\\u22F9\\u0338',\n\tnotinva: '\\u2209',\n\tnotinvb: '\\u22F7',\n\tnotinvc: '\\u22F6',\n\tNotLeftTriangle: '\\u22EA',\n\tNotLeftTriangleBar: '\\u29CF\\u0338',\n\tNotLeftTriangleEqual: '\\u22EC',\n\tNotLess: '\\u226E',\n\tNotLessEqual: '\\u2270',\n\tNotLessGreater: '\\u2278',\n\tNotLessLess: '\\u226A\\u0338',\n\tNotLessSlantEqual: '\\u2A7D\\u0338',\n\tNotLessTilde: '\\u2274',\n\tNotNestedGreaterGreater: '\\u2AA2\\u0338',\n\tNotNestedLessLess: '\\u2AA1\\u0338',\n\tnotni: '\\u220C',\n\tnotniva: '\\u220C',\n\tnotnivb: '\\u22FE',\n\tnotnivc: '\\u22FD',\n\tNotPrecedes: '\\u2280',\n\tNotPrecedesEqual: '\\u2AAF\\u0338',\n\tNotPrecedesSlantEqual: '\\u22E0',\n\tNotReverseElement: '\\u220C',\n\tNotRightTriangle: '\\u22EB',\n\tNotRightTriangleBar: '\\u29D0\\u0338',\n\tNotRightTriangleEqual: '\\u22ED',\n\tNotSquareSubset: '\\u228F\\u0338',\n\tNotSquareSubsetEqual: '\\u22E2',\n\tNotSquareSuperset: '\\u2290\\u0338',\n\tNotSquareSupersetEqual: '\\u22E3',\n\tNotSubset: '\\u2282\\u20D2',\n\tNotSubsetEqual: '\\u2288',\n\tNotSucceeds: '\\u2281',\n\tNotSucceedsEqual: '\\u2AB0\\u0338',\n\tNotSucceedsSlantEqual: '\\u22E1',\n\tNotSucceedsTilde: '\\u227F\\u0338',\n\tNotSuperset: '\\u2283\\u20D2',\n\tNotSupersetEqual: '\\u2289',\n\tNotTilde: '\\u2241',\n\tNotTildeEqual: '\\u2244',\n\tNotTildeFullEqual: '\\u2247',\n\tNotTildeTilde: '\\u2249',\n\tNotVerticalBar: '\\u2224',\n\tnpar: '\\u2226',\n\tnparallel: '\\u2226',\n\tnparsl: '\\u2AFD\\u20E5',\n\tnpart: '\\u2202\\u0338',\n\tnpolint: '\\u2A14',\n\tnpr: '\\u2280',\n\tnprcue: '\\u22E0',\n\tnpre: '\\u2AAF\\u0338',\n\tnprec: '\\u2280',\n\tnpreceq: '\\u2AAF\\u0338',\n\tnrArr: '\\u21CF',\n\tnrarr: '\\u219B',\n\tnrarrc: '\\u2933\\u0338',\n\tnrarrw: '\\u219D\\u0338',\n\tnRightarrow: '\\u21CF',\n\tnrightarrow: '\\u219B',\n\tnrtri: '\\u22EB',\n\tnrtrie: '\\u22ED',\n\tnsc: '\\u2281',\n\tnsccue: '\\u22E1',\n\tnsce: '\\u2AB0\\u0338',\n\tNscr: '\\uD835\\uDCA9',\n\tnscr: '\\uD835\\uDCC3',\n\tnshortmid: '\\u2224',\n\tnshortparallel: '\\u2226',\n\tnsim: '\\u2241',\n\tnsime: '\\u2244',\n\tnsimeq: '\\u2244',\n\tnsmid: '\\u2224',\n\tnspar: '\\u2226',\n\tnsqsube: '\\u22E2',\n\tnsqsupe: '\\u22E3',\n\tnsub: '\\u2284',\n\tnsubE: '\\u2AC5\\u0338',\n\tnsube: '\\u2288',\n\tnsubset: '\\u2282\\u20D2',\n\tnsubseteq: '\\u2288',\n\tnsubseteqq: '\\u2AC5\\u0338',\n\tnsucc: '\\u2281',\n\tnsucceq: '\\u2AB0\\u0338',\n\tnsup: '\\u2285',\n\tnsupE: '\\u2AC6\\u0338',\n\tnsupe: '\\u2289',\n\tnsupset: '\\u2283\\u20D2',\n\tnsupseteq: '\\u2289',\n\tnsupseteqq: '\\u2AC6\\u0338',\n\tntgl: '\\u2279',\n\tNtilde: '\\u00D1',\n\tntilde: '\\u00F1',\n\tntlg: '\\u2278',\n\tntriangleleft: '\\u22EA',\n\tntrianglelefteq: '\\u22EC',\n\tntriangleright: '\\u22EB',\n\tntrianglerighteq: '\\u22ED',\n\tNu: '\\u039D',\n\tnu: '\\u03BD',\n\tnum: '\\u0023',\n\tnumero: '\\u2116',\n\tnumsp: '\\u2007',\n\tnvap: '\\u224D\\u20D2',\n\tnVDash: '\\u22AF',\n\tnVdash: '\\u22AE',\n\tnvDash: '\\u22AD',\n\tnvdash: '\\u22AC',\n\tnvge: '\\u2265\\u20D2',\n\tnvgt: '\\u003E\\u20D2',\n\tnvHarr: '\\u2904',\n\tnvinfin: '\\u29DE',\n\tnvlArr: '\\u2902',\n\tnvle: '\\u2264\\u20D2',\n\tnvlt: '\\u003C\\u20D2',\n\tnvltrie: '\\u22B4\\u20D2',\n\tnvrArr: '\\u2903',\n\tnvrtrie: '\\u22B5\\u20D2',\n\tnvsim: '\\u223C\\u20D2',\n\tnwarhk: '\\u2923',\n\tnwArr: '\\u21D6',\n\tnwarr: '\\u2196',\n\tnwarrow: '\\u2196',\n\tnwnear: '\\u2927',\n\tOacute: '\\u00D3',\n\toacute: '\\u00F3',\n\toast: '\\u229B',\n\tocir: '\\u229A',\n\tOcirc: '\\u00D4',\n\tocirc: '\\u00F4',\n\tOcy: '\\u041E',\n\tocy: '\\u043E',\n\todash: '\\u229D',\n\tOdblac: '\\u0150',\n\todblac: '\\u0151',\n\todiv: '\\u2A38',\n\todot: '\\u2299',\n\todsold: '\\u29BC',\n\tOElig: '\\u0152',\n\toelig: '\\u0153',\n\tofcir: '\\u29BF',\n\tOfr: '\\uD835\\uDD12',\n\tofr: '\\uD835\\uDD2C',\n\togon: '\\u02DB',\n\tOgrave: '\\u00D2',\n\tograve: '\\u00F2',\n\togt: '\\u29C1',\n\tohbar: '\\u29B5',\n\tohm: '\\u03A9',\n\toint: '\\u222E',\n\tolarr: '\\u21BA',\n\tolcir: '\\u29BE',\n\tolcross: '\\u29BB',\n\toline: '\\u203E',\n\tolt: '\\u29C0',\n\tOmacr: '\\u014C',\n\tomacr: '\\u014D',\n\tOmega: '\\u03A9',\n\tomega: '\\u03C9',\n\tOmicron: '\\u039F',\n\tomicron: '\\u03BF',\n\tomid: '\\u29B6',\n\tominus: '\\u2296',\n\tOopf: '\\uD835\\uDD46',\n\toopf: '\\uD835\\uDD60',\n\topar: '\\u29B7',\n\tOpenCurlyDoubleQuote: '\\u201C',\n\tOpenCurlyQuote: '\\u2018',\n\toperp: '\\u29B9',\n\toplus: '\\u2295',\n\tOr: '\\u2A54',\n\tor: '\\u2228',\n\torarr: '\\u21BB',\n\tord: '\\u2A5D',\n\torder: '\\u2134',\n\torderof: '\\u2134',\n\tordf: '\\u00AA',\n\tordm: '\\u00BA',\n\torigof: '\\u22B6',\n\toror: '\\u2A56',\n\torslope: '\\u2A57',\n\torv: '\\u2A5B',\n\toS: '\\u24C8',\n\tOscr: '\\uD835\\uDCAA',\n\toscr: '\\u2134',\n\tOslash: '\\u00D8',\n\toslash: '\\u00F8',\n\tosol: '\\u2298',\n\tOtilde: '\\u00D5',\n\totilde: '\\u00F5',\n\tOtimes: '\\u2A37',\n\totimes: '\\u2297',\n\totimesas: '\\u2A36',\n\tOuml: '\\u00D6',\n\touml: '\\u00F6',\n\tovbar: '\\u233D',\n\tOverBar: '\\u203E',\n\tOverBrace: '\\u23DE',\n\tOverBracket: '\\u23B4',\n\tOverParenthesis: '\\u23DC',\n\tpar: '\\u2225',\n\tpara: '\\u00B6',\n\tparallel: '\\u2225',\n\tparsim: '\\u2AF3',\n\tparsl: '\\u2AFD',\n\tpart: '\\u2202',\n\tPartialD: '\\u2202',\n\tPcy: '\\u041F',\n\tpcy: '\\u043F',\n\tpercnt: '\\u0025',\n\tperiod: '\\u002E',\n\tpermil: '\\u2030',\n\tperp: '\\u22A5',\n\tpertenk: '\\u2031',\n\tPfr: '\\uD835\\uDD13',\n\tpfr: '\\uD835\\uDD2D',\n\tPhi: '\\u03A6',\n\tphi: '\\u03C6',\n\tphiv: '\\u03D5',\n\tphmmat: '\\u2133',\n\tphone: '\\u260E',\n\tPi: '\\u03A0',\n\tpi: '\\u03C0',\n\tpitchfork: '\\u22D4',\n\tpiv: '\\u03D6',\n\tplanck: '\\u210F',\n\tplanckh: '\\u210E',\n\tplankv: '\\u210F',\n\tplus: '\\u002B',\n\tplusacir: '\\u2A23',\n\tplusb: '\\u229E',\n\tpluscir: '\\u2A22',\n\tplusdo: '\\u2214',\n\tplusdu: '\\u2A25',\n\tpluse: '\\u2A72',\n\tPlusMinus: '\\u00B1',\n\tplusmn: '\\u00B1',\n\tplussim: '\\u2A26',\n\tplustwo: '\\u2A27',\n\tpm: '\\u00B1',\n\tPoincareplane: '\\u210C',\n\tpointint: '\\u2A15',\n\tPopf: '\\u2119',\n\tpopf: '\\uD835\\uDD61',\n\tpound: '\\u00A3',\n\tPr: '\\u2ABB',\n\tpr: '\\u227A',\n\tprap: '\\u2AB7',\n\tprcue: '\\u227C',\n\tprE: '\\u2AB3',\n\tpre: '\\u2AAF',\n\tprec: '\\u227A',\n\tprecapprox: '\\u2AB7',\n\tpreccurlyeq: '\\u227C',\n\tPrecedes: '\\u227A',\n\tPrecedesEqual: '\\u2AAF',\n\tPrecedesSlantEqual: '\\u227C',\n\tPrecedesTilde: '\\u227E',\n\tpreceq: '\\u2AAF',\n\tprecnapprox: '\\u2AB9',\n\tprecneqq: '\\u2AB5',\n\tprecnsim: '\\u22E8',\n\tprecsim: '\\u227E',\n\tPrime: '\\u2033',\n\tprime: '\\u2032',\n\tprimes: '\\u2119',\n\tprnap: '\\u2AB9',\n\tprnE: '\\u2AB5',\n\tprnsim: '\\u22E8',\n\tprod: '\\u220F',\n\tProduct: '\\u220F',\n\tprofalar: '\\u232E',\n\tprofline: '\\u2312',\n\tprofsurf: '\\u2313',\n\tprop: '\\u221D',\n\tProportion: '\\u2237',\n\tProportional: '\\u221D',\n\tpropto: '\\u221D',\n\tprsim: '\\u227E',\n\tprurel: '\\u22B0',\n\tPscr: '\\uD835\\uDCAB',\n\tpscr: '\\uD835\\uDCC5',\n\tPsi: '\\u03A8',\n\tpsi: '\\u03C8',\n\tpuncsp: '\\u2008',\n\tQfr: '\\uD835\\uDD14',\n\tqfr: '\\uD835\\uDD2E',\n\tqint: '\\u2A0C',\n\tQopf: '\\u211A',\n\tqopf: '\\uD835\\uDD62',\n\tqprime: '\\u2057',\n\tQscr: '\\uD835\\uDCAC',\n\tqscr: '\\uD835\\uDCC6',\n\tquaternions: '\\u210D',\n\tquatint: '\\u2A16',\n\tquest: '\\u003F',\n\tquesteq: '\\u225F',\n\tQUOT: '\\u0022',\n\tquot: '\\u0022',\n\trAarr: '\\u21DB',\n\trace: '\\u223D\\u0331',\n\tRacute: '\\u0154',\n\tracute: '\\u0155',\n\tradic: '\\u221A',\n\traemptyv: '\\u29B3',\n\tRang: '\\u27EB',\n\trang: '\\u27E9',\n\trangd: '\\u2992',\n\trange: '\\u29A5',\n\trangle: '\\u27E9',\n\traquo: '\\u00BB',\n\tRarr: '\\u21A0',\n\trArr: '\\u21D2',\n\trarr: '\\u2192',\n\trarrap: '\\u2975',\n\trarrb: '\\u21E5',\n\trarrbfs: '\\u2920',\n\trarrc: '\\u2933',\n\trarrfs: '\\u291E',\n\trarrhk: '\\u21AA',\n\trarrlp: '\\u21AC',\n\trarrpl: '\\u2945',\n\trarrsim: '\\u2974',\n\tRarrtl: '\\u2916',\n\trarrtl: '\\u21A3',\n\trarrw: '\\u219D',\n\trAtail: '\\u291C',\n\tratail: '\\u291A',\n\tratio: '\\u2236',\n\trationals: '\\u211A',\n\tRBarr: '\\u2910',\n\trBarr: '\\u290F',\n\trbarr: '\\u290D',\n\trbbrk: '\\u2773',\n\trbrace: '\\u007D',\n\trbrack: '\\u005D',\n\trbrke: '\\u298C',\n\trbrksld: '\\u298E',\n\trbrkslu: '\\u2990',\n\tRcaron: '\\u0158',\n\trcaron: '\\u0159',\n\tRcedil: '\\u0156',\n\trcedil: '\\u0157',\n\trceil: '\\u2309',\n\trcub: '\\u007D',\n\tRcy: '\\u0420',\n\trcy: '\\u0440',\n\trdca: '\\u2937',\n\trdldhar: '\\u2969',\n\trdquo: '\\u201D',\n\trdquor: '\\u201D',\n\trdsh: '\\u21B3',\n\tRe: '\\u211C',\n\treal: '\\u211C',\n\trealine: '\\u211B',\n\trealpart: '\\u211C',\n\treals: '\\u211D',\n\trect: '\\u25AD',\n\tREG: '\\u00AE',\n\treg: '\\u00AE',\n\tReverseElement: '\\u220B',\n\tReverseEquilibrium: '\\u21CB',\n\tReverseUpEquilibrium: '\\u296F',\n\trfisht: '\\u297D',\n\trfloor: '\\u230B',\n\tRfr: '\\u211C',\n\trfr: '\\uD835\\uDD2F',\n\trHar: '\\u2964',\n\trhard: '\\u21C1',\n\trharu: '\\u21C0',\n\trharul: '\\u296C',\n\tRho: '\\u03A1',\n\trho: '\\u03C1',\n\trhov: '\\u03F1',\n\tRightAngleBracket: '\\u27E9',\n\tRightArrow: '\\u2192',\n\tRightarrow: '\\u21D2',\n\trightarrow: '\\u2192',\n\tRightArrowBar: '\\u21E5',\n\tRightArrowLeftArrow: '\\u21C4',\n\trightarrowtail: '\\u21A3',\n\tRightCeiling: '\\u2309',\n\tRightDoubleBracket: '\\u27E7',\n\tRightDownTeeVector: '\\u295D',\n\tRightDownVector: '\\u21C2',\n\tRightDownVectorBar: '\\u2955',\n\tRightFloor: '\\u230B',\n\trightharpoondown: '\\u21C1',\n\trightharpoonup: '\\u21C0',\n\trightleftarrows: '\\u21C4',\n\trightleftharpoons: '\\u21CC',\n\trightrightarrows: '\\u21C9',\n\trightsquigarrow: '\\u219D',\n\tRightTee: '\\u22A2',\n\tRightTeeArrow: '\\u21A6',\n\tRightTeeVector: '\\u295B',\n\trightthreetimes: '\\u22CC',\n\tRightTriangle: '\\u22B3',\n\tRightTriangleBar: '\\u29D0',\n\tRightTriangleEqual: '\\u22B5',\n\tRightUpDownVector: '\\u294F',\n\tRightUpTeeVector: '\\u295C',\n\tRightUpVector: '\\u21BE',\n\tRightUpVectorBar: '\\u2954',\n\tRightVector: '\\u21C0',\n\tRightVectorBar: '\\u2953',\n\tring: '\\u02DA',\n\trisingdotseq: '\\u2253',\n\trlarr: '\\u21C4',\n\trlhar: '\\u21CC',\n\trlm: '\\u200F',\n\trmoust: '\\u23B1',\n\trmoustache: '\\u23B1',\n\trnmid: '\\u2AEE',\n\troang: '\\u27ED',\n\troarr: '\\u21FE',\n\trobrk: '\\u27E7',\n\tropar: '\\u2986',\n\tRopf: '\\u211D',\n\tropf: '\\uD835\\uDD63',\n\troplus: '\\u2A2E',\n\trotimes: '\\u2A35',\n\tRoundImplies: '\\u2970',\n\trpar: '\\u0029',\n\trpargt: '\\u2994',\n\trppolint: '\\u2A12',\n\trrarr: '\\u21C9',\n\tRrightarrow: '\\u21DB',\n\trsaquo: '\\u203A',\n\tRscr: '\\u211B',\n\trscr: '\\uD835\\uDCC7',\n\tRsh: '\\u21B1',\n\trsh: '\\u21B1',\n\trsqb: '\\u005D',\n\trsquo: '\\u2019',\n\trsquor: '\\u2019',\n\trthree: '\\u22CC',\n\trtimes: '\\u22CA',\n\trtri: '\\u25B9',\n\trtrie: '\\u22B5',\n\trtrif: '\\u25B8',\n\trtriltri: '\\u29CE',\n\tRuleDelayed: '\\u29F4',\n\truluhar: '\\u2968',\n\trx: '\\u211E',\n\tSacute: '\\u015A',\n\tsacute: '\\u015B',\n\tsbquo: '\\u201A',\n\tSc: '\\u2ABC',\n\tsc: '\\u227B',\n\tscap: '\\u2AB8',\n\tScaron: '\\u0160',\n\tscaron: '\\u0161',\n\tsccue: '\\u227D',\n\tscE: '\\u2AB4',\n\tsce: '\\u2AB0',\n\tScedil: '\\u015E',\n\tscedil: '\\u015F',\n\tScirc: '\\u015C',\n\tscirc: '\\u015D',\n\tscnap: '\\u2ABA',\n\tscnE: '\\u2AB6',\n\tscnsim: '\\u22E9',\n\tscpolint: '\\u2A13',\n\tscsim: '\\u227F',\n\tScy: '\\u0421',\n\tscy: '\\u0441',\n\tsdot: '\\u22C5',\n\tsdotb: '\\u22A1',\n\tsdote: '\\u2A66',\n\tsearhk: '\\u2925',\n\tseArr: '\\u21D8',\n\tsearr: '\\u2198',\n\tsearrow: '\\u2198',\n\tsect: '\\u00A7',\n\tsemi: '\\u003B',\n\tseswar: '\\u2929',\n\tsetminus: '\\u2216',\n\tsetmn: '\\u2216',\n\tsext: '\\u2736',\n\tSfr: '\\uD835\\uDD16',\n\tsfr: '\\uD835\\uDD30',\n\tsfrown: '\\u2322',\n\tsharp: '\\u266F',\n\tSHCHcy: '\\u0429',\n\tshchcy: '\\u0449',\n\tSHcy: '\\u0428',\n\tshcy: '\\u0448',\n\tShortDownArrow: '\\u2193',\n\tShortLeftArrow: '\\u2190',\n\tshortmid: '\\u2223',\n\tshortparallel: '\\u2225',\n\tShortRightArrow: '\\u2192',\n\tShortUpArrow: '\\u2191',\n\tshy: '\\u00AD',\n\tSigma: '\\u03A3',\n\tsigma: '\\u03C3',\n\tsigmaf: '\\u03C2',\n\tsigmav: '\\u03C2',\n\tsim: '\\u223C',\n\tsimdot: '\\u2A6A',\n\tsime: '\\u2243',\n\tsimeq: '\\u2243',\n\tsimg: '\\u2A9E',\n\tsimgE: '\\u2AA0',\n\tsiml: '\\u2A9D',\n\tsimlE: '\\u2A9F',\n\tsimne: '\\u2246',\n\tsimplus: '\\u2A24',\n\tsimrarr: '\\u2972',\n\tslarr: '\\u2190',\n\tSmallCircle: '\\u2218',\n\tsmallsetminus: '\\u2216',\n\tsmashp: '\\u2A33',\n\tsmeparsl: '\\u29E4',\n\tsmid: '\\u2223',\n\tsmile: '\\u2323',\n\tsmt: '\\u2AAA',\n\tsmte: '\\u2AAC',\n\tsmtes: '\\u2AAC\\uFE00',\n\tSOFTcy: '\\u042C',\n\tsoftcy: '\\u044C',\n\tsol: '\\u002F',\n\tsolb: '\\u29C4',\n\tsolbar: '\\u233F',\n\tSopf: '\\uD835\\uDD4A',\n\tsopf: '\\uD835\\uDD64',\n\tspades: '\\u2660',\n\tspadesuit: '\\u2660',\n\tspar: '\\u2225',\n\tsqcap: '\\u2293',\n\tsqcaps: '\\u2293\\uFE00',\n\tsqcup: '\\u2294',\n\tsqcups: '\\u2294\\uFE00',\n\tSqrt: '\\u221A',\n\tsqsub: '\\u228F',\n\tsqsube: '\\u2291',\n\tsqsubset: '\\u228F',\n\tsqsubseteq: '\\u2291',\n\tsqsup: '\\u2290',\n\tsqsupe: '\\u2292',\n\tsqsupset: '\\u2290',\n\tsqsupseteq: '\\u2292',\n\tsqu: '\\u25A1',\n\tSquare: '\\u25A1',\n\tsquare: '\\u25A1',\n\tSquareIntersection: '\\u2293',\n\tSquareSubset: '\\u228F',\n\tSquareSubsetEqual: '\\u2291',\n\tSquareSuperset: '\\u2290',\n\tSquareSupersetEqual: '\\u2292',\n\tSquareUnion: '\\u2294',\n\tsquarf: '\\u25AA',\n\tsquf: '\\u25AA',\n\tsrarr: '\\u2192',\n\tSscr: '\\uD835\\uDCAE',\n\tsscr: '\\uD835\\uDCC8',\n\tssetmn: '\\u2216',\n\tssmile: '\\u2323',\n\tsstarf: '\\u22C6',\n\tStar: '\\u22C6',\n\tstar: '\\u2606',\n\tstarf: '\\u2605',\n\tstraightepsilon: '\\u03F5',\n\tstraightphi: '\\u03D5',\n\tstrns: '\\u00AF',\n\tSub: '\\u22D0',\n\tsub: '\\u2282',\n\tsubdot: '\\u2ABD',\n\tsubE: '\\u2AC5',\n\tsube: '\\u2286',\n\tsubedot: '\\u2AC3',\n\tsubmult: '\\u2AC1',\n\tsubnE: '\\u2ACB',\n\tsubne: '\\u228A',\n\tsubplus: '\\u2ABF',\n\tsubrarr: '\\u2979',\n\tSubset: '\\u22D0',\n\tsubset: '\\u2282',\n\tsubseteq: '\\u2286',\n\tsubseteqq: '\\u2AC5',\n\tSubsetEqual: '\\u2286',\n\tsubsetneq: '\\u228A',\n\tsubsetneqq: '\\u2ACB',\n\tsubsim: '\\u2AC7',\n\tsubsub: '\\u2AD5',\n\tsubsup: '\\u2AD3',\n\tsucc: '\\u227B',\n\tsuccapprox: '\\u2AB8',\n\tsucccurlyeq: '\\u227D',\n\tSucceeds: '\\u227B',\n\tSucceedsEqual: '\\u2AB0',\n\tSucceedsSlantEqual: '\\u227D',\n\tSucceedsTilde: '\\u227F',\n\tsucceq: '\\u2AB0',\n\tsuccnapprox: '\\u2ABA',\n\tsuccneqq: '\\u2AB6',\n\tsuccnsim: '\\u22E9',\n\tsuccsim: '\\u227F',\n\tSuchThat: '\\u220B',\n\tSum: '\\u2211',\n\tsum: '\\u2211',\n\tsung: '\\u266A',\n\tSup: '\\u22D1',\n\tsup: '\\u2283',\n\tsup1: '\\u00B9',\n\tsup2: '\\u00B2',\n\tsup3: '\\u00B3',\n\tsupdot: '\\u2ABE',\n\tsupdsub: '\\u2AD8',\n\tsupE: '\\u2AC6',\n\tsupe: '\\u2287',\n\tsupedot: '\\u2AC4',\n\tSuperset: '\\u2283',\n\tSupersetEqual: '\\u2287',\n\tsuphsol: '\\u27C9',\n\tsuphsub: '\\u2AD7',\n\tsuplarr: '\\u297B',\n\tsupmult: '\\u2AC2',\n\tsupnE: '\\u2ACC',\n\tsupne: '\\u228B',\n\tsupplus: '\\u2AC0',\n\tSupset: '\\u22D1',\n\tsupset: '\\u2283',\n\tsupseteq: '\\u2287',\n\tsupseteqq: '\\u2AC6',\n\tsupsetneq: '\\u228B',\n\tsupsetneqq: '\\u2ACC',\n\tsupsim: '\\u2AC8',\n\tsupsub: '\\u2AD4',\n\tsupsup: '\\u2AD6',\n\tswarhk: '\\u2926',\n\tswArr: '\\u21D9',\n\tswarr: '\\u2199',\n\tswarrow: '\\u2199',\n\tswnwar: '\\u292A',\n\tszlig: '\\u00DF',\n\tTab: '\\u0009',\n\ttarget: '\\u2316',\n\tTau: '\\u03A4',\n\ttau: '\\u03C4',\n\ttbrk: '\\u23B4',\n\tTcaron: '\\u0164',\n\ttcaron: '\\u0165',\n\tTcedil: '\\u0162',\n\ttcedil: '\\u0163',\n\tTcy: '\\u0422',\n\ttcy: '\\u0442',\n\ttdot: '\\u20DB',\n\ttelrec: '\\u2315',\n\tTfr: '\\uD835\\uDD17',\n\ttfr: '\\uD835\\uDD31',\n\tthere4: '\\u2234',\n\tTherefore: '\\u2234',\n\ttherefore: '\\u2234',\n\tTheta: '\\u0398',\n\ttheta: '\\u03B8',\n\tthetasym: '\\u03D1',\n\tthetav: '\\u03D1',\n\tthickapprox: '\\u2248',\n\tthicksim: '\\u223C',\n\tThickSpace: '\\u205F\\u200A',\n\tthinsp: '\\u2009',\n\tThinSpace: '\\u2009',\n\tthkap: '\\u2248',\n\tthksim: '\\u223C',\n\tTHORN: '\\u00DE',\n\tthorn: '\\u00FE',\n\tTilde: '\\u223C',\n\ttilde: '\\u02DC',\n\tTildeEqual: '\\u2243',\n\tTildeFullEqual: '\\u2245',\n\tTildeTilde: '\\u2248',\n\ttimes: '\\u00D7',\n\ttimesb: '\\u22A0',\n\ttimesbar: '\\u2A31',\n\ttimesd: '\\u2A30',\n\ttint: '\\u222D',\n\ttoea: '\\u2928',\n\ttop: '\\u22A4',\n\ttopbot: '\\u2336',\n\ttopcir: '\\u2AF1',\n\tTopf: '\\uD835\\uDD4B',\n\ttopf: '\\uD835\\uDD65',\n\ttopfork: '\\u2ADA',\n\ttosa: '\\u2929',\n\ttprime: '\\u2034',\n\tTRADE: '\\u2122',\n\ttrade: '\\u2122',\n\ttriangle: '\\u25B5',\n\ttriangledown: '\\u25BF',\n\ttriangleleft: '\\u25C3',\n\ttrianglelefteq: '\\u22B4',\n\ttriangleq: '\\u225C',\n\ttriangleright: '\\u25B9',\n\ttrianglerighteq: '\\u22B5',\n\ttridot: '\\u25EC',\n\ttrie: '\\u225C',\n\ttriminus: '\\u2A3A',\n\tTripleDot: '\\u20DB',\n\ttriplus: '\\u2A39',\n\ttrisb: '\\u29CD',\n\ttritime: '\\u2A3B',\n\ttrpezium: '\\u23E2',\n\tTscr: '\\uD835\\uDCAF',\n\ttscr: '\\uD835\\uDCC9',\n\tTScy: '\\u0426',\n\ttscy: '\\u0446',\n\tTSHcy: '\\u040B',\n\ttshcy: '\\u045B',\n\tTstrok: '\\u0166',\n\ttstrok: '\\u0167',\n\ttwixt: '\\u226C',\n\ttwoheadleftarrow: '\\u219E',\n\ttwoheadrightarrow: '\\u21A0',\n\tUacute: '\\u00DA',\n\tuacute: '\\u00FA',\n\tUarr: '\\u219F',\n\tuArr: '\\u21D1',\n\tuarr: '\\u2191',\n\tUarrocir: '\\u2949',\n\tUbrcy: '\\u040E',\n\tubrcy: '\\u045E',\n\tUbreve: '\\u016C',\n\tubreve: '\\u016D',\n\tUcirc: '\\u00DB',\n\tucirc: '\\u00FB',\n\tUcy: '\\u0423',\n\tucy: '\\u0443',\n\tudarr: '\\u21C5',\n\tUdblac: '\\u0170',\n\tudblac: '\\u0171',\n\tudhar: '\\u296E',\n\tufisht: '\\u297E',\n\tUfr: '\\uD835\\uDD18',\n\tufr: '\\uD835\\uDD32',\n\tUgrave: '\\u00D9',\n\tugrave: '\\u00F9',\n\tuHar: '\\u2963',\n\tuharl: '\\u21BF',\n\tuharr: '\\u21BE',\n\tuhblk: '\\u2580',\n\tulcorn: '\\u231C',\n\tulcorner: '\\u231C',\n\tulcrop: '\\u230F',\n\tultri: '\\u25F8',\n\tUmacr: '\\u016A',\n\tumacr: '\\u016B',\n\tuml: '\\u00A8',\n\tUnderBar: '\\u005F',\n\tUnderBrace: '\\u23DF',\n\tUnderBracket: '\\u23B5',\n\tUnderParenthesis: '\\u23DD',\n\tUnion: '\\u22C3',\n\tUnionPlus: '\\u228E',\n\tUogon: '\\u0172',\n\tuogon: '\\u0173',\n\tUopf: '\\uD835\\uDD4C',\n\tuopf: '\\uD835\\uDD66',\n\tUpArrow: '\\u2191',\n\tUparrow: '\\u21D1',\n\tuparrow: '\\u2191',\n\tUpArrowBar: '\\u2912',\n\tUpArrowDownArrow: '\\u21C5',\n\tUpDownArrow: '\\u2195',\n\tUpdownarrow: '\\u21D5',\n\tupdownarrow: '\\u2195',\n\tUpEquilibrium: '\\u296E',\n\tupharpoonleft: '\\u21BF',\n\tupharpoonright: '\\u21BE',\n\tuplus: '\\u228E',\n\tUpperLeftArrow: '\\u2196',\n\tUpperRightArrow: '\\u2197',\n\tUpsi: '\\u03D2',\n\tupsi: '\\u03C5',\n\tupsih: '\\u03D2',\n\tUpsilon: '\\u03A5',\n\tupsilon: '\\u03C5',\n\tUpTee: '\\u22A5',\n\tUpTeeArrow: '\\u21A5',\n\tupuparrows: '\\u21C8',\n\turcorn: '\\u231D',\n\turcorner: '\\u231D',\n\turcrop: '\\u230E',\n\tUring: '\\u016E',\n\turing: '\\u016F',\n\turtri: '\\u25F9',\n\tUscr: '\\uD835\\uDCB0',\n\tuscr: '\\uD835\\uDCCA',\n\tutdot: '\\u22F0',\n\tUtilde: '\\u0168',\n\tutilde: '\\u0169',\n\tutri: '\\u25B5',\n\tutrif: '\\u25B4',\n\tuuarr: '\\u21C8',\n\tUuml: '\\u00DC',\n\tuuml: '\\u00FC',\n\tuwangle: '\\u29A7',\n\tvangrt: '\\u299C',\n\tvarepsilon: '\\u03F5',\n\tvarkappa: '\\u03F0',\n\tvarnothing: '\\u2205',\n\tvarphi: '\\u03D5',\n\tvarpi: '\\u03D6',\n\tvarpropto: '\\u221D',\n\tvArr: '\\u21D5',\n\tvarr: '\\u2195',\n\tvarrho: '\\u03F1',\n\tvarsigma: '\\u03C2',\n\tvarsubsetneq: '\\u228A\\uFE00',\n\tvarsubsetneqq: '\\u2ACB\\uFE00',\n\tvarsupsetneq: '\\u228B\\uFE00',\n\tvarsupsetneqq: '\\u2ACC\\uFE00',\n\tvartheta: '\\u03D1',\n\tvartriangleleft: '\\u22B2',\n\tvartriangleright: '\\u22B3',\n\tVbar: '\\u2AEB',\n\tvBar: '\\u2AE8',\n\tvBarv: '\\u2AE9',\n\tVcy: '\\u0412',\n\tvcy: '\\u0432',\n\tVDash: '\\u22AB',\n\tVdash: '\\u22A9',\n\tvDash: '\\u22A8',\n\tvdash: '\\u22A2',\n\tVdashl: '\\u2AE6',\n\tVee: '\\u22C1',\n\tvee: '\\u2228',\n\tveebar: '\\u22BB',\n\tveeeq: '\\u225A',\n\tvellip: '\\u22EE',\n\tVerbar: '\\u2016',\n\tverbar: '\\u007C',\n\tVert: '\\u2016',\n\tvert: '\\u007C',\n\tVerticalBar: '\\u2223',\n\tVerticalLine: '\\u007C',\n\tVerticalSeparator: '\\u2758',\n\tVerticalTilde: '\\u2240',\n\tVeryThinSpace: '\\u200A',\n\tVfr: '\\uD835\\uDD19',\n\tvfr: '\\uD835\\uDD33',\n\tvltri: '\\u22B2',\n\tvnsub: '\\u2282\\u20D2',\n\tvnsup: '\\u2283\\u20D2',\n\tVopf: '\\uD835\\uDD4D',\n\tvopf: '\\uD835\\uDD67',\n\tvprop: '\\u221D',\n\tvrtri: '\\u22B3',\n\tVscr: '\\uD835\\uDCB1',\n\tvscr: '\\uD835\\uDCCB',\n\tvsubnE: '\\u2ACB\\uFE00',\n\tvsubne: '\\u228A\\uFE00',\n\tvsupnE: '\\u2ACC\\uFE00',\n\tvsupne: '\\u228B\\uFE00',\n\tVvdash: '\\u22AA',\n\tvzigzag: '\\u299A',\n\tWcirc: '\\u0174',\n\twcirc: '\\u0175',\n\twedbar: '\\u2A5F',\n\tWedge: '\\u22C0',\n\twedge: '\\u2227',\n\twedgeq: '\\u2259',\n\tweierp: '\\u2118',\n\tWfr: '\\uD835\\uDD1A',\n\twfr: '\\uD835\\uDD34',\n\tWopf: '\\uD835\\uDD4E',\n\twopf: '\\uD835\\uDD68',\n\twp: '\\u2118',\n\twr: '\\u2240',\n\twreath: '\\u2240',\n\tWscr: '\\uD835\\uDCB2',\n\twscr: '\\uD835\\uDCCC',\n\txcap: '\\u22C2',\n\txcirc: '\\u25EF',\n\txcup: '\\u22C3',\n\txdtri: '\\u25BD',\n\tXfr: '\\uD835\\uDD1B',\n\txfr: '\\uD835\\uDD35',\n\txhArr: '\\u27FA',\n\txharr: '\\u27F7',\n\tXi: '\\u039E',\n\txi: '\\u03BE',\n\txlArr: '\\u27F8',\n\txlarr: '\\u27F5',\n\txmap: '\\u27FC',\n\txnis: '\\u22FB',\n\txodot: '\\u2A00',\n\tXopf: '\\uD835\\uDD4F',\n\txopf: '\\uD835\\uDD69',\n\txoplus: '\\u2A01',\n\txotime: '\\u2A02',\n\txrArr: '\\u27F9',\n\txrarr: '\\u27F6',\n\tXscr: '\\uD835\\uDCB3',\n\txscr: '\\uD835\\uDCCD',\n\txsqcup: '\\u2A06',\n\txuplus: '\\u2A04',\n\txutri: '\\u25B3',\n\txvee: '\\u22C1',\n\txwedge: '\\u22C0',\n\tYacute: '\\u00DD',\n\tyacute: '\\u00FD',\n\tYAcy: '\\u042F',\n\tyacy: '\\u044F',\n\tYcirc: '\\u0176',\n\tycirc: '\\u0177',\n\tYcy: '\\u042B',\n\tycy: '\\u044B',\n\tyen: '\\u00A5',\n\tYfr: '\\uD835\\uDD1C',\n\tyfr: '\\uD835\\uDD36',\n\tYIcy: '\\u0407',\n\tyicy: '\\u0457',\n\tYopf: '\\uD835\\uDD50',\n\tyopf: '\\uD835\\uDD6A',\n\tYscr: '\\uD835\\uDCB4',\n\tyscr: '\\uD835\\uDCCE',\n\tYUcy: '\\u042E',\n\tyucy: '\\u044E',\n\tYuml: '\\u0178',\n\tyuml: '\\u00FF',\n\tZacute: '\\u0179',\n\tzacute: '\\u017A',\n\tZcaron: '\\u017D',\n\tzcaron: '\\u017E',\n\tZcy: '\\u0417',\n\tzcy: '\\u0437',\n\tZdot: '\\u017B',\n\tzdot: '\\u017C',\n\tzeetrf: '\\u2128',\n\tZeroWidthSpace: '\\u200B',\n\tZeta: '\\u0396',\n\tzeta: '\\u03B6',\n\tZfr: '\\u2128',\n\tzfr: '\\uD835\\uDD37',\n\tZHcy: '\\u0416',\n\tzhcy: '\\u0436',\n\tzigrarr: '\\u21DD',\n\tZopf: '\\u2124',\n\tzopf: '\\uD835\\uDD6B',\n\tZscr: '\\uD835\\uDCB5',\n\tzscr: '\\uD835\\uDCCF',\n\tzwj: '\\u200D',\n\tzwnj: '\\u200C',\n});\n\n/**\n * @deprecated use `HTML_ENTITIES` instead\n * @see HTML_ENTITIES\n */\nexports.entityMap = exports.HTML_ENTITIES;\n","var NAMESPACE = require(\"./conventions\").NAMESPACE;\n\n//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring\nvar S_ATTR_SPACE=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\nvar S_TAG_CLOSE = 7;//closed el<el />\n\n/**\n * Creates an error that will not be caught by XMLReader aka the SAX parser.\n *\n * @param {string} message\n * @param {any?} locator Optional, can provide details about the location in the source\n * @constructor\n */\nfunction ParseError(message, locator) {\n\tthis.message = message\n\tthis.locator = locator\n\tif(Error.captureStackTrace) Error.captureStackTrace(this, ParseError);\n}\nParseError.prototype = new Error();\nParseError.prototype.name = ParseError.name\n\nfunction XMLReader(){\n\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n\tfunction fixedFromCharCode(code) {\n\t\t// String.prototype.fromCharCode does not supports\n\t\t// > 2 bytes unicode chars directly\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif (Object.hasOwnProperty.call(entityMap, k)) {\n\t\t\treturn entityMap[k];\n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tif(end>start){\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\tlocator&&position(start);\n\t\t\tdomBuilder.characters(xt,0,end-start);\n\t\t\tstart = end\n\t\t}\n\t}\n\tfunction position(p,m){\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\n\t\t\tlineStart = m.index;\n\t\t\tlineEnd = lineStart + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t\t//console.log('line++:',locator,startPos,endPos)\n\t\t}\n\t\tlocator.columnNumber = p-lineStart+1;\n\t}\n\tvar lineStart = 0;\n\tvar lineEnd = 0;\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\ttry{\n\t\t\tvar tagStart = source.indexOf('<',start);\n\t\t\tif(tagStart<0){\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\t\tvar doc = domBuilder.doc;\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\n\t    \t\t\tdoc.appendChild(text);\n\t    \t\t\tdomBuilder.currentElement = text;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(tagStart>start){\n\t\t\t\tappendText(tagStart);\n\t\t\t}\n\t\t\tswitch(source.charAt(tagStart+1)){\n\t\t\tcase '/':\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\n\t\t\t\tvar tagName = source.substring(tagStart + 2, end).replace(/[ \\t\\n\\r]+$/g, '');\n\t\t\t\tvar config = parseStack.pop();\n\t\t\t\tif(end<0){\n\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\n\t        \t\tend = tagStart+1+tagName.length;\n\t        \t}else if(tagName.match(/\\s</)){\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\n\t        \t\tend = tagStart+1+tagName.length;\n\t\t\t\t}\n\t\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\tvar endMatch = config.tagName == tagName;\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\n\t\t        if(endIgnoreCaseMach){\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\t\t\tif(localNSMap){\n\t\t\t\t\t\tfor (var prefix in localNSMap) {\n\t\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(localNSMap, prefix)) {\n\t\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!endMatch){\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName ); // No known test case\n\t\t\t\t\t}\n\t\t        }else{\n\t\t        \tparseStack.push(config)\n\t\t        }\n\n\t\t\t\tend++;\n\t\t\t\tbreak;\n\t\t\t\t// end elment\n\t\t\tcase '?':// <?...?>\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\n\t\t\t\tbreak;\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\t\t\t\t//elStartEnd\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\n\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(locator && len){\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\n\t\t\t\t\t//try{//attribute position fixed\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator2\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator;\n\t\t\t\t}else{\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (NAMESPACE.isHTML(el.uri) && !el.closed) {\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t} else {\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}\n\t\t}catch(e){\n\t\t\tif (e instanceof ParseError) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\terrorHandler.error('element parse error: '+e)\n\t\t\tend = -1;\n\t\t}\n\t\tif(end>start){\n\t\t\tstart = end;\n\t\t}else{\n\t\t\t//TODO: sax\n\t\t\tappendText(Math.max(tagStart,start)+1);\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n}\n\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\n\n\t/**\n\t * @param {string} qname\n\t * @param {string} value\n\t * @param {number} startIndex\n\t */\n\tfunction addAttribute(qname, value, startIndex) {\n\t\tif (el.attributeNames.hasOwnProperty(qname)) {\n\t\t\terrorHandler.fatalError('Attribute ' + qname + ' redefined')\n\t\t}\n\t\tel.addValue(\n\t\t\tqname,\n\t\t\t// @see https://www.w3.org/TR/xml/#AVNormalize\n\t\t\t// since the xmldom sax parser does not \"interpret\" DTD the following is not implemented:\n\t\t\t// - recursive replacement of (DTD) entity references\n\t\t\t// - trimming and collapsing multiple spaces into a single one for attributes that are not of type CDATA\n\t\t\tvalue.replace(/[\\t\\n\\r]/g, ' ').replace(/&#?\\w+;/g, entityReplacer),\n\t\t\tstartIndex\n\t\t)\n\t}\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_SPACE){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\n\t\t\t\tthrow new Error('attribute equal must after attrName'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n\t\t\t\t){//equal\n\t\t\t\tif(s === S_ATTR){\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t}\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\t\taddAttribute(attrName, value, start-1);\n\t\t\t\t\ts = S_ATTR_END;\n\t\t\t\t}else{\n\t\t\t\t\t//fatalError: no end quot match\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\taddAttribute(attrName, value, start);\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_ATTR_END\n\t\t\t}else{\n\t\t\t\t//fatalError: no equal before\n\t\t\t\tthrow new Error('attribute value must after \"=\"'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\ts =S_TAG_CLOSE;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\tcase S_ATTR:\n\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tel.closed = true;\n\t\t\t\tbreak;\n\t\t\t//case S_EQ:\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\") // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\t\tif(s == S_TAG){\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tif(s === S_ATTR_SPACE){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\t}else{\n\t\t\t\t\tif(!NAMESPACE.isHTML(currentNSMap['']) || !value.match(/^(?:disabled|checked|selected)$/i)){\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(value, value, start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\t\t\treturn p;\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\t\t\tvar value = source.slice(start, p);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\t//case S_TAG_SPACE:\n\t\t\t\t//case S_EQ:\n\t\t\t\t//case S_ATTR_SPACE:\n\t\t\t\t//\tvoid();break;\n\t\t\t\t//case S_TAG_CLOSE:\n\t\t\t\t\t//ignore warning\n\t\t\t\t}\n\t\t\t}else{//not space\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\t\t\t\tswitch(s){\n\t\t\t\t//case S_TAG:void();break;\n\t\t\t\t//case S_ATTR:void();break;\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tvar tagName =  el.tagName;\n\t\t\t\t\tif (!NAMESPACE.isHTML(currentNSMap['']) || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(attrName, attrName, start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_TAG_SPACE:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_TAG_CLOSE:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}//end outer switch\n\t\t//console.log('p++',p)\n\t\tp++;\n\t}\n}\n/**\n * @return true if has new namespace define\n */\nfunction appendElement(el,domBuilder,currentNSMap){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\t//can not set prefix,because prefix !== ''\n\t\ta.localName = localName ;\n\t\t//prefix == null for no ns prefix attribute\n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t//console.log(currentNSMap,0)\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t\t//console.log(currentNSMap,1)\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = NAMESPACE.XMLNS\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value)\n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = NAMESPACE.XML;\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix || '']\n\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\t//no prefix element has default namespace\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\n\t//localNSMap = null\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor (prefix in localNSMap) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(localNSMap, prefix)) {\n\t\t\t\t\tdomBuilder.endPrefixMapping(prefix);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\t//parseStack.push(el);\n\t\treturn true;\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\n\t\t\t\t\t//lexHandler.startCDATA();\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\t//lexHandler.endCDATA();\n\t\t\t\t\treturn elEndStart;\n\t\t\t\t//}\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t//}\n\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\t//if(tagName in closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\t//console.log(tagName)\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\n\t\tif(pos<elStartEnd){//\n\t\t\tpos = source.lastIndexOf('</'+tagName)\n\t\t}\n\t\tcloseMap[tagName] =pos\n\t}\n\treturn pos<elStartEnd;\n\t//}\n}\n\nfunction _copy (source, target) {\n\tfor (var n in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, n)) {\n\t\t\ttarget[n] = source[n];\n\t\t}\n\t}\n}\n\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('-->',start+4);\n\t\t\t//append comment source.substring(4,end)//<!--\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\t//error\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]>',start+9);\n\t\t\tdomBuilder.startCDATA();\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\tdomBuilder.endCDATA()\n\t\t\treturn end+3;\n\t\t}\n\t\t//<!DOCTYPE\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId)\n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = false;\n\t\t\tvar sysid = false;\n\t\t\tif(len>3){\n\t\t\t\tif(/^public$/i.test(matchs[2][0])){\n\t\t\t\t\tpubid = matchs[3][0];\n\t\t\t\t\tsysid = len>4 && matchs[4][0];\n\t\t\t\t}else if(/^system$/i.test(matchs[2][0])){\n\t\t\t\t\tsysid = matchs[3][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name, pubid, sysid);\n\t\t\tdomBuilder.endDTD();\n\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction ElementAttributes(){\n\tthis.attributeNames = {}\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\taddValue:function(qName, value, offset) {\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis.attributeNames[qName] = this.length;\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetLocator:function(i){return this[i].locator},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n//\t,getIndex:function(uri, localName)){\n//\t\tif(localName){\n//\n//\t\t}else{\n//\t\t\tvar qName = uri\n//\t\t}\n//\t},\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n//\tgetType:function(uri,localName){}\n//\tgetType:function(i){},\n}\n\n\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nexports.XMLReader = XMLReader;\nexports.ParseError = ParseError;\n","var conventions = require(\"./conventions\");\nvar dom = require('./dom')\nvar entities = require('./entities');\nvar sax = require('./sax');\n\nvar DOMImplementation = dom.DOMImplementation;\n\nvar NAMESPACE = conventions.NAMESPACE;\n\nvar ParseError = sax.ParseError;\nvar XMLReader = sax.XMLReader;\n\n/**\n * Normalizes line ending according to https://www.w3.org/TR/xml11/#sec-line-ends:\n *\n * > XML parsed entities are often stored in computer files which,\n * > for editing convenience, are organized into lines.\n * > These lines are typically separated by some combination\n * > of the characters CARRIAGE RETURN (#xD) and LINE FEED (#xA).\n * >\n * > To simplify the tasks of applications, the XML processor must behave\n * > as if it normalized all line breaks in external parsed entities (including the document entity)\n * > on input, before parsing, by translating all of the following to a single #xA character:\n * >\n * > 1. the two-character sequence #xD #xA\n * > 2. the two-character sequence #xD #x85\n * > 3. the single character #x85\n * > 4. the single character #x2028\n * > 5. any #xD character that is not immediately followed by #xA or #x85.\n *\n * @param {string} input\n * @returns {string}\n */\nfunction normalizeLineEndings(input) {\n\treturn input\n\t\t.replace(/\\r[\\n\\u0085]/g, '\\n')\n\t\t.replace(/[\\r\\u0085\\u2028]/g, '\\n')\n}\n\n/**\n * @typedef Locator\n * @property {number} [columnNumber]\n * @property {number} [lineNumber]\n */\n\n/**\n * @typedef DOMParserOptions\n * @property {DOMHandler} [domBuilder]\n * @property {Function} [errorHandler]\n * @property {(string) => string} [normalizeLineEndings] used to replace line endings before parsing\n * \t\t\t\t\t\tdefaults to `normalizeLineEndings`\n * @property {Locator} [locator]\n * @property {Record<string, string>} [xmlns]\n *\n * @see normalizeLineEndings\n */\n\n/**\n * The DOMParser interface provides the ability to parse XML or HTML source code\n * from a string into a DOM `Document`.\n *\n * _xmldom is different from the spec in that it allows an `options` parameter,\n * to override the default behavior._\n *\n * @param {DOMParserOptions} [options]\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-parsing-and-serialization\n */\nfunction DOMParser(options){\n\tthis.options = options ||{locator:{}};\n}\n\nDOMParser.prototype.parseFromString = function(source,mimeType){\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar isHTML = /\\/x?html?$/.test(mimeType);//mimeType.toLowerCase().indexOf('html') > -1;\n  \tvar entityMap = isHTML ? entities.HTML_ENTITIES : entities.XML_ENTITIES;\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(isHTML){\n\t\tdefaultNSMap[''] = NAMESPACE.HTML;\n\t}\n\tdefaultNSMap.xml = defaultNSMap.xml || NAMESPACE.XML;\n\tvar normalize = options.normalizeLineEndings || normalizeLineEndings;\n\tif (source && typeof source === 'string') {\n\t\tsax.parse(\n\t\t\tnormalize(source),\n\t\t\tdefaultNSMap,\n\t\t\tentityMap\n\t\t)\n\t} else {\n\t\tsax.errorHandler.error('invalid doc source')\n\t}\n\treturn domBuilder.doc;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn && isCallback){\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\n\t\t}||function(){};\n\t}\n\tbuild('warning');\n\tbuild('error');\n\tbuild('fatalError');\n\treturn errorHandler;\n}\n\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.doc.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.doc;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t\tvar tagName = current.tagName;\n\t\tthis.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.doc.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\t//console.log(chars)\n\t\tif(chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\n\t\t\t}\n\t\t\tif(this.currentElement){\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}else if(/^\\s*$/.test(chars)){\n\t\t\t\tthis.doc.appendChild(charNode);\n\t\t\t\t//process xml\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.doc.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\t//LexicalHandler\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.doc.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\n\tstartCDATA:function() {\n\t    //used in characters() methods\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.doc.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t\t\t\t\tthis.doc.doctype = dt;\n\t    }\n\t},\n\t/**\n\t * @see org.xml.sax.ErrorHandler\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n\t */\n\twarning:function(error) {\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tthrow new ParseError(error, this.locator);\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\n\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.doc.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\nexports.__DOMHandler = DOMHandler;\nexports.normalizeLineEndings = normalizeLineEndings;\nexports.DOMParser = DOMParser;\n","var dom = require('./dom')\nexports.DOMImplementation = dom.DOMImplementation\nexports.XMLSerializer = dom.XMLSerializer\nexports.DOMParser = require('./dom-parser').DOMParser\n","import { DOMParser } from '@xmldom/xmldom';\n\n\"use strict\";\nconst WebWorkerAdapter = {\n  createCanvas: (width, height) => new OffscreenCanvas(width ?? 0, height ?? 0),\n  createImage: () => new Image(),\n  getCanvasRenderingContext2D: () => OffscreenCanvasRenderingContext2D,\n  getWebGLRenderingContext: () => WebGLRenderingContext,\n  getNavigator: () => navigator,\n  getBaseUrl: () => globalThis.location.href,\n  getFontFaceSet: () => globalThis.fonts,\n  fetch: (url, options) => fetch(url, options),\n  parseXML: (xml) => {\n    const parser = new DOMParser();\n    return parser.parseFromString(xml, \"text/xml\");\n  }\n};\n\nexport { WebWorkerAdapter };\n//# sourceMappingURL=WebWorkerAdapter.mjs.map\n","var fragment = \"\\nin vec2 vTextureCoord;\\n\\nout vec4 finalColor;\\n\\nuniform float uAlpha;\\nuniform sampler2D uTexture;\\n\\nvoid main()\\n{\\n    finalColor =  texture(uTexture, vTextureCoord) * uAlpha;\\n}\\n\";\n\nexport { fragment as default };\n//# sourceMappingURL=alpha.frag.mjs.map\n","var source = \"struct GlobalFilterUniforms {\\n  uInputSize:vec4<f32>,\\n  uInputPixel:vec4<f32>,\\n  uInputClamp:vec4<f32>,\\n  uOutputFrame:vec4<f32>,\\n  uGlobalFrame:vec4<f32>,\\n  uOutputTexture:vec4<f32>,\\n};\\n\\nstruct AlphaUniforms {\\n  uAlpha:f32,\\n};\\n\\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\\n@group(0) @binding(2) var uSampler : sampler;\\n\\n@group(1) @binding(0) var<uniform> alphaUniforms : AlphaUniforms;\\n\\nstruct VSOutput {\\n    @builtin(position) position: vec4<f32>,\\n    @location(0) uv : vec2<f32>\\n  };\\n\\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\\n{\\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\\n\\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\\n\\n    return vec4(position, 0.0, 1.0);\\n}\\n\\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\\n{\\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\\n}\\n\\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\\n{\\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  \\n}\\n\\nfn getSize() -> vec2<f32>\\n{\\n  return gfu.uGlobalFrame.zw;\\n}\\n  \\n@vertex\\nfn mainVertex(\\n  @location(0) aPosition : vec2<f32>, \\n) -> VSOutput {\\n  return VSOutput(\\n   filterVertexPosition(aPosition),\\n   filterTextureCoord(aPosition)\\n  );\\n}\\n\\n@fragment\\nfn mainFragment(\\n  @location(0) uv: vec2<f32>,\\n  @builtin(position) position: vec4<f32>\\n) -> @location(0) vec4<f32> {\\n \\n    var sample = textureSample(uTexture, uSampler, uv);\\n    \\n    return sample * alphaUniforms.uAlpha;\\n}\";\n\nexport { source as default };\n//# sourceMappingURL=alpha.wgsl.mjs.map\n","import { GlProgram } from '../../../rendering/renderers/gl/shader/GlProgram.mjs';\nimport { GpuProgram } from '../../../rendering/renderers/gpu/shader/GpuProgram.mjs';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup.mjs';\nimport { Filter } from '../../Filter.mjs';\nimport vertex from '../defaultFilter.vert.mjs';\nimport fragment from './alpha.frag.mjs';\nimport source from './alpha.wgsl.mjs';\n\n\"use strict\";\nconst _AlphaFilter = class _AlphaFilter extends Filter {\n  constructor(options) {\n    options = { ..._AlphaFilter.defaultOptions, ...options };\n    const gpuProgram = GpuProgram.from({\n      vertex: {\n        source,\n        entryPoint: \"mainVertex\"\n      },\n      fragment: {\n        source,\n        entryPoint: \"mainFragment\"\n      }\n    });\n    const glProgram = GlProgram.from({\n      vertex,\n      fragment,\n      name: \"alpha-filter\"\n    });\n    const { alpha, ...rest } = options;\n    const alphaUniforms = new UniformGroup({\n      uAlpha: { value: alpha, type: \"f32\" }\n    });\n    super({\n      ...rest,\n      gpuProgram,\n      glProgram,\n      resources: {\n        alphaUniforms\n      }\n    });\n  }\n  /**\n   * The alpha value of the filter.\n   * Controls the transparency of the filtered display object.\n   * @example\n   * ```ts\n   * // Create filter with initial alpha\n   * const filter = new AlphaFilter({ alpha: 0.5 });\n   *\n   * // Update alpha value dynamically\n   * filter.alpha = 0.8;\n   * ```\n   * @default 1\n   * @remarks\n   * - 0 = fully transparent\n   * - 1 = fully opaque\n   * - Values are clamped between 0 and 1\n   */\n  get alpha() {\n    return this.resources.alphaUniforms.uniforms.uAlpha;\n  }\n  set alpha(value) {\n    this.resources.alphaUniforms.uniforms.uAlpha = value;\n  }\n};\n/**\n * Default options for the AlphaFilter.\n * @example\n * ```ts\n * AlphaFilter.defaultOptions = {\n *     alpha: 0.5, // Default alpha value\n * };\n * // Use default options\n * const filter = new AlphaFilter(); // Uses default alpha of 0.5\n * ```\n */\n_AlphaFilter.defaultOptions = {\n  /**\n   * Amount of alpha transparency to apply.\n   * - 0 = fully transparent\n   * - 1 = fully opaque (default)\n   * @default 1\n   */\n  alpha: 1\n};\nlet AlphaFilter = _AlphaFilter;\n\nexport { AlphaFilter };\n//# sourceMappingURL=AlphaFilter.mjs.map\n","\"use strict\";\nconst GAUSSIAN_VALUES = {\n  5: [0.153388, 0.221461, 0.250301],\n  7: [0.071303, 0.131514, 0.189879, 0.214607],\n  9: [0.028532, 0.067234, 0.124009, 0.179044, 0.20236],\n  11: [93e-4, 0.028002, 0.065984, 0.121703, 0.175713, 0.198596],\n  13: [2406e-6, 9255e-6, 0.027867, 0.065666, 0.121117, 0.174868, 0.197641],\n  15: [489e-6, 2403e-6, 9246e-6, 0.02784, 0.065602, 0.120999, 0.174697, 0.197448]\n};\n\nexport { GAUSSIAN_VALUES };\n//# sourceMappingURL=const.mjs.map\n","import { GAUSSIAN_VALUES } from '../const.mjs';\n\n\"use strict\";\nconst fragTemplate = [\n  \"in vec2 vBlurTexCoords[%size%];\",\n  \"uniform sampler2D uTexture;\",\n  \"out vec4 finalColor;\",\n  \"void main(void)\",\n  \"{\",\n  \"    finalColor = vec4(0.0);\",\n  \"    %blur%\",\n  \"}\"\n].join(\"\\n\");\nfunction generateBlurFragSource(kernelSize) {\n  const kernel = GAUSSIAN_VALUES[kernelSize];\n  const halfLength = kernel.length;\n  let fragSource = fragTemplate;\n  let blurLoop = \"\";\n  const template = \"finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;\";\n  let value;\n  for (let i = 0; i < kernelSize; i++) {\n    let blur = template.replace(\"%index%\", i.toString());\n    value = i;\n    if (i >= halfLength) {\n      value = kernelSize - i - 1;\n    }\n    blur = blur.replace(\"%value%\", kernel[value].toString());\n    blurLoop += blur;\n    blurLoop += \"\\n\";\n  }\n  fragSource = fragSource.replace(\"%blur%\", blurLoop);\n  fragSource = fragSource.replace(\"%size%\", kernelSize.toString());\n  return fragSource;\n}\n\nexport { generateBlurFragSource };\n//# sourceMappingURL=generateBlurFragSource.mjs.map\n","\"use strict\";\nconst vertTemplate = `\n    in vec2 aPosition;\n\n    uniform float uStrength;\n\n    out vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 uInputSize;\n    uniform vec4 uOutputFrame;\n    uniform vec4 uOutputTexture;\n\n    vec4 filterVertexPosition( void )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\n    vec2 filterTextureCoord( void )\n    {\n        return aPosition * (uOutputFrame.zw * uInputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        float pixelStrength = uInputSize.%dimension% * uStrength;\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }`;\nfunction generateBlurVertSource(kernelSize, x) {\n  const halfLength = Math.ceil(kernelSize / 2);\n  let vertSource = vertTemplate;\n  let blurLoop = \"\";\n  let template;\n  if (x) {\n    template = \"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);\";\n  } else {\n    template = \"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);\";\n  }\n  for (let i = 0; i < kernelSize; i++) {\n    let blur = template.replace(\"%index%\", i.toString());\n    blur = blur.replace(\"%sampleIndex%\", `${i - (halfLength - 1)}.0`);\n    blurLoop += blur;\n    blurLoop += \"\\n\";\n  }\n  vertSource = vertSource.replace(\"%blur%\", blurLoop);\n  vertSource = vertSource.replace(\"%size%\", kernelSize.toString());\n  vertSource = vertSource.replace(\"%dimension%\", x ? \"z\" : \"w\");\n  return vertSource;\n}\n\nexport { generateBlurVertSource };\n//# sourceMappingURL=generateBlurVertSource.mjs.map\n","import { GlProgram } from '../../../../rendering/renderers/gl/shader/GlProgram.mjs';\nimport { generateBlurFragSource } from './generateBlurFragSource.mjs';\nimport { generateBlurVertSource } from './generateBlurVertSource.mjs';\n\n\"use strict\";\nfunction generateBlurGlProgram(horizontal, kernelSize) {\n  const vertex = generateBlurVertSource(kernelSize, horizontal);\n  const fragment = generateBlurFragSource(kernelSize);\n  return GlProgram.from({\n    vertex,\n    fragment,\n    name: `blur-${horizontal ? \"horizontal\" : \"vertical\"}-pass-filter`\n  });\n}\n\nexport { generateBlurGlProgram };\n//# sourceMappingURL=generateBlurGlProgram.mjs.map\n","var source = \"\\n\\nstruct GlobalFilterUniforms {\\n  uInputSize:vec4<f32>,\\n  uInputPixel:vec4<f32>,\\n  uInputClamp:vec4<f32>,\\n  uOutputFrame:vec4<f32>,\\n  uGlobalFrame:vec4<f32>,\\n  uOutputTexture:vec4<f32>,\\n};\\n\\nstruct BlurUniforms {\\n  uStrength:f32,\\n};\\n\\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\\n@group(0) @binding(2) var uSampler : sampler;\\n\\n@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;\\n\\n\\nstruct VSOutput {\\n    @builtin(position) position: vec4<f32>,\\n    %blur-struct%\\n  };\\n\\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\\n{\\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\\n\\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\\n\\n    return vec4(position, 0.0, 1.0);\\n}\\n\\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\\n{\\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\\n}\\n\\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\\n{\\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  \\n}\\n\\nfn getSize() -> vec2<f32>\\n{\\n  return gfu.uGlobalFrame.zw;\\n}\\n\\n\\n@vertex\\nfn mainVertex(\\n  @location(0) aPosition : vec2<f32>, \\n) -> VSOutput {\\n\\n  let filteredCord = filterTextureCoord(aPosition);\\n\\n  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;\\n\\n  return VSOutput(\\n   filterVertexPosition(aPosition),\\n    %blur-vertex-out%\\n  );\\n}\\n\\n@fragment\\nfn mainFragment(\\n  @builtin(position) position: vec4<f32>,\\n  %blur-fragment-in%\\n) -> @location(0) vec4<f32> {\\n\\n    var   finalColor = vec4(0.0);\\n\\n    %blur-sampling%\\n\\n    return finalColor;\\n}\";\n\nexport { source as default };\n//# sourceMappingURL=blur-template.wgsl.mjs.map\n","import { GpuProgram } from '../../../../rendering/renderers/gpu/shader/GpuProgram.mjs';\nimport { GAUSSIAN_VALUES } from '../const.mjs';\nimport source from './blur-template.wgsl.mjs';\n\n\"use strict\";\nfunction generateBlurProgram(horizontal, kernelSize) {\n  const kernel = GAUSSIAN_VALUES[kernelSize];\n  const halfLength = kernel.length;\n  const blurStructSource = [];\n  const blurOutSource = [];\n  const blurSamplingSource = [];\n  for (let i = 0; i < kernelSize; i++) {\n    blurStructSource[i] = `@location(${i}) offset${i}: vec2<f32>,`;\n    if (horizontal) {\n      blurOutSource[i] = `filteredCord + vec2(${i - halfLength + 1} * pixelStrength, 0.0),`;\n    } else {\n      blurOutSource[i] = `filteredCord + vec2(0.0, ${i - halfLength + 1} * pixelStrength),`;\n    }\n    const kernelIndex = i < halfLength ? i : kernelSize - i - 1;\n    const kernelValue = kernel[kernelIndex].toString();\n    blurSamplingSource[i] = `finalColor += textureSample(uTexture, uSampler, offset${i}) * ${kernelValue};`;\n  }\n  const blurStruct = blurStructSource.join(\"\\n\");\n  const blurOut = blurOutSource.join(\"\\n\");\n  const blurSampling = blurSamplingSource.join(\"\\n\");\n  const finalSource = source.replace(\"%blur-struct%\", blurStruct).replace(\"%blur-vertex-out%\", blurOut).replace(\"%blur-fragment-in%\", blurStruct).replace(\"%blur-sampling%\", blurSampling).replace(\"%dimension%\", horizontal ? \"z\" : \"w\");\n  return GpuProgram.from({\n    vertex: {\n      source: finalSource,\n      entryPoint: \"mainVertex\"\n    },\n    fragment: {\n      source: finalSource,\n      entryPoint: \"mainFragment\"\n    }\n  });\n}\n\nexport { generateBlurProgram };\n//# sourceMappingURL=generateBlurProgram.mjs.map\n","import { TexturePool } from '../../../rendering/renderers/shared/texture/TexturePool.mjs';\nimport { RendererType } from '../../../rendering/renderers/types.mjs';\nimport { Filter } from '../../Filter.mjs';\nimport { generateBlurGlProgram } from './gl/generateBlurGlProgram.mjs';\nimport { generateBlurProgram } from './gpu/generateBlurProgram.mjs';\n\n\"use strict\";\nconst _BlurFilterPass = class _BlurFilterPass extends Filter {\n  /**\n   * @param options\n   * @param options.horizontal - Do pass along the x-axis (`true`) or y-axis (`false`).\n   * @param options.strength - The strength of the blur filter.\n   * @param options.quality - The quality of the blur filter.\n   * @param options.kernelSize - The kernelSize of the blur filter.Options: 5, 7, 9, 11, 13, 15.\n   */\n  constructor(options) {\n    options = { ..._BlurFilterPass.defaultOptions, ...options };\n    const glProgram = generateBlurGlProgram(options.horizontal, options.kernelSize);\n    const gpuProgram = generateBlurProgram(options.horizontal, options.kernelSize);\n    super({\n      glProgram,\n      gpuProgram,\n      resources: {\n        blurUniforms: {\n          uStrength: { value: 0, type: \"f32\" }\n        }\n      },\n      ...options\n    });\n    this.horizontal = options.horizontal;\n    this._quality = 0;\n    this.quality = options.quality;\n    this.blur = options.strength;\n    this._uniforms = this.resources.blurUniforms.uniforms;\n  }\n  /**\n   * Applies the filter.\n   * @param filterManager - The manager.\n   * @param input - The input target.\n   * @param output - The output target.\n   * @param clearMode - How to clear\n   */\n  apply(filterManager, input, output, clearMode) {\n    this._uniforms.uStrength = this.strength / this.passes;\n    if (this.passes === 1) {\n      filterManager.applyFilter(this, input, output, clearMode);\n    } else {\n      const tempTexture = TexturePool.getSameSizeTexture(input);\n      let flip = input;\n      let flop = tempTexture;\n      this._state.blend = false;\n      const shouldClear = filterManager.renderer.type === RendererType.WEBGPU;\n      for (let i = 0; i < this.passes - 1; i++) {\n        filterManager.applyFilter(this, flip, flop, i === 0 ? true : shouldClear);\n        const temp = flop;\n        flop = flip;\n        flip = temp;\n      }\n      this._state.blend = true;\n      filterManager.applyFilter(this, flip, output, clearMode);\n      TexturePool.returnTexture(tempTexture);\n    }\n  }\n  /**\n   * Sets the strength of both the blur.\n   * @default 16\n   */\n  get blur() {\n    return this.strength;\n  }\n  set blur(value) {\n    this.padding = 1 + Math.abs(value) * 2;\n    this.strength = value;\n  }\n  /**\n   * Sets the quality of the blur by modifying the number of passes. More passes means higher\n   * quality blurring but the lower the performance.\n   * @default 4\n   */\n  get quality() {\n    return this._quality;\n  }\n  set quality(value) {\n    this._quality = value;\n    this.passes = value;\n  }\n};\n/** Default blur filter pass options */\n_BlurFilterPass.defaultOptions = {\n  /** The strength of the blur filter. */\n  strength: 8,\n  /** The quality of the blur filter. */\n  quality: 4,\n  /** The kernelSize of the blur filter.Options: 5, 7, 9, 11, 13, 15. */\n  kernelSize: 5\n};\nlet BlurFilterPass = _BlurFilterPass;\n\nexport { BlurFilterPass };\n//# sourceMappingURL=BlurFilterPass.mjs.map\n","import { TexturePool } from '../../../rendering/renderers/shared/texture/TexturePool.mjs';\nimport { RendererType } from '../../../rendering/renderers/types.mjs';\nimport { deprecation, v8_0_0 } from '../../../utils/logging/deprecation.mjs';\nimport { Filter } from '../../Filter.mjs';\nimport { BlurFilterPass } from './BlurFilterPass.mjs';\n\n\"use strict\";\nclass BlurFilter extends Filter {\n  constructor(...args) {\n    let options = args[0] ?? {};\n    if (typeof options === \"number\") {\n      deprecation(v8_0_0, \"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }\");\n      options = { strength: options };\n      if (args[1] !== void 0)\n        options.quality = args[1];\n      if (args[2] !== void 0)\n        options.resolution = args[2] || \"inherit\";\n      if (args[3] !== void 0)\n        options.kernelSize = args[3];\n    }\n    options = { ...BlurFilterPass.defaultOptions, ...options };\n    const { strength, strengthX, strengthY, quality, ...rest } = options;\n    super({\n      ...rest,\n      compatibleRenderers: RendererType.BOTH,\n      resources: {}\n    });\n    this._repeatEdgePixels = false;\n    this.blurXFilter = new BlurFilterPass({ horizontal: true, ...options });\n    this.blurYFilter = new BlurFilterPass({ horizontal: false, ...options });\n    this.quality = quality;\n    this.strengthX = strengthX ?? strength;\n    this.strengthY = strengthY ?? strength;\n    this.repeatEdgePixels = false;\n  }\n  /**\n   * Applies the filter.\n   * @param filterManager - The manager.\n   * @param input - The input target.\n   * @param output - The output target.\n   * @param clearMode - How to clear\n   * @advanced\n   */\n  apply(filterManager, input, output, clearMode) {\n    const xStrength = Math.abs(this.blurXFilter.strength);\n    const yStrength = Math.abs(this.blurYFilter.strength);\n    if (xStrength && yStrength) {\n      const tempTexture = TexturePool.getSameSizeTexture(input);\n      this.blurXFilter.blendMode = \"normal\";\n      this.blurXFilter.apply(filterManager, input, tempTexture, true);\n      this.blurYFilter.blendMode = this.blendMode;\n      this.blurYFilter.apply(filterManager, tempTexture, output, clearMode);\n      TexturePool.returnTexture(tempTexture);\n    } else if (yStrength) {\n      this.blurYFilter.blendMode = this.blendMode;\n      this.blurYFilter.apply(filterManager, input, output, clearMode);\n    } else {\n      this.blurXFilter.blendMode = this.blendMode;\n      this.blurXFilter.apply(filterManager, input, output, clearMode);\n    }\n  }\n  updatePadding() {\n    if (this._repeatEdgePixels) {\n      this.padding = 0;\n    } else {\n      this.padding = Math.max(Math.abs(this.blurXFilter.blur), Math.abs(this.blurYFilter.blur)) * 2;\n    }\n  }\n  /**\n   * Sets the strength of both the blurX and blurY properties simultaneously.\n   * Controls the overall intensity of the Gaussian blur effect.\n   * @example\n   * ```ts\n   * // Set equal blur strength for both axes\n   * filter.strength = 8;\n   *\n   * // Will throw error if X and Y are different\n   * filter.strengthX = 4;\n   * filter.strengthY = 8;\n   * filter.strength; // Error: BlurFilter's strengthX and strengthY are different\n   * ```\n   * @default 8\n   * @throws {Error} If strengthX and strengthY are different values\n   */\n  get strength() {\n    if (this.strengthX !== this.strengthY) {\n      throw new Error(\"BlurFilter's strengthX and strengthY are different\");\n    }\n    return this.strengthX;\n  }\n  set strength(value) {\n    this.blurXFilter.blur = this.blurYFilter.blur = value;\n    this.updatePadding();\n  }\n  /**\n   * Sets the number of passes for blur. More passes means higher quality blurring.\n   * Controls the precision and smoothness of the blur effect at the cost of performance.\n   * @example\n   * ```ts\n   * // High quality blur (slower)\n   * filter.quality = 8;\n   *\n   * // Low quality blur (faster)\n   * filter.quality = 2;\n   * ```\n   * @default 4\n   * @remarks Higher values produce better quality but impact performance\n   */\n  get quality() {\n    return this.blurXFilter.quality;\n  }\n  set quality(value) {\n    this.blurXFilter.quality = this.blurYFilter.quality = value;\n  }\n  /**\n   * Sets the strength of horizontal blur.\n   * Controls the blur intensity along the x-axis independently.\n   * @example\n   * ```ts\n   * // Apply horizontal-only blur\n   * filter.strengthX = 8;\n   * filter.strengthY = 0;\n   *\n   * // Create motion blur effect\n   * filter.strengthX = 16;\n   * filter.strengthY = 2;\n   * ```\n   * @default 8\n   */\n  get strengthX() {\n    return this.blurXFilter.blur;\n  }\n  set strengthX(value) {\n    this.blurXFilter.blur = value;\n    this.updatePadding();\n  }\n  /**\n   * Sets the strength of the vertical blur.\n   * Controls the blur intensity along the y-axis independently.\n   * @example\n   * ```ts\n   * // Apply vertical-only blur\n   * filter.strengthX = 0;\n   * filter.strengthY = 8;\n   *\n   * // Create radial blur effect\n   * filter.strengthX = 8;\n   * filter.strengthY = 8;\n   * ```\n   * @default 8\n   */\n  get strengthY() {\n    return this.blurYFilter.blur;\n  }\n  set strengthY(value) {\n    this.blurYFilter.blur = value;\n    this.updatePadding();\n  }\n  /**\n   * Sets the strength of both the blurX and blurY properties simultaneously\n   * @default 2\n   * @deprecated since 8.3.0\n   * @see BlurFilter.strength\n   */\n  get blur() {\n    deprecation(\"8.3.0\", \"BlurFilter.blur is deprecated, please use BlurFilter.strength instead.\");\n    return this.strength;\n  }\n  set blur(value) {\n    deprecation(\"8.3.0\", \"BlurFilter.blur is deprecated, please use BlurFilter.strength instead.\");\n    this.strength = value;\n  }\n  /**\n   * Sets the strength of the blurX property\n   * @default 2\n   * @deprecated since 8.3.0\n   * @see BlurFilter.strengthX\n   */\n  get blurX() {\n    deprecation(\"8.3.0\", \"BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead.\");\n    return this.strengthX;\n  }\n  set blurX(value) {\n    deprecation(\"8.3.0\", \"BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead.\");\n    this.strengthX = value;\n  }\n  /**\n   * Sets the strength of the blurY property\n   * @default 2\n   * @deprecated since 8.3.0\n   * @see BlurFilter.strengthY\n   */\n  get blurY() {\n    deprecation(\"8.3.0\", \"BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead.\");\n    return this.strengthY;\n  }\n  set blurY(value) {\n    deprecation(\"8.3.0\", \"BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead.\");\n    this.strengthY = value;\n  }\n  /**\n   * If set to true the edge of the target will be clamped\n   * @default false\n   */\n  get repeatEdgePixels() {\n    return this._repeatEdgePixels;\n  }\n  set repeatEdgePixels(value) {\n    this._repeatEdgePixels = value;\n    this.updatePadding();\n  }\n}\n/**\n * Default blur filter options\n * @example\n * ```ts\n * // Set default options for all BlurFilters\n * BlurFilter.defaultOptions = {\n *     strength: 10,       // Default blur strength\n *     quality: 2,        // Default blur quality\n *     kernelSize: 7      // Default kernel size\n * };\n * // Create a filter with these defaults\n * const filter = new BlurFilter(); // Uses default options\n * ```\n * @remarks\n * - These options are used when creating a new BlurFilter without specific parameters\n * - Can be overridden by passing options to the constructor\n * - Useful for setting global defaults for all blur filters in your application\n * @see {@link BlurFilterOptions} For detailed options\n * @see {@link BlurFilter} The filter that uses these options\n */\nBlurFilter.defaultOptions = {\n  /** The strength of the blur filter. */\n  strength: 8,\n  /** The quality of the blur filter. */\n  quality: 4,\n  /** The kernelSize of the blur filter.Options: 5, 7, 9, 11, 13, 15. */\n  kernelSize: 5\n};\n\nexport { BlurFilter };\n//# sourceMappingURL=BlurFilter.mjs.map\n","var fragment = \"\\nin vec2 vTextureCoord;\\nin vec4 vColor;\\n\\nout vec4 finalColor;\\n\\nuniform float uColorMatrix[20];\\nuniform float uAlpha;\\n\\nuniform sampler2D uTexture;\\n\\nfloat rand(vec2 co)\\n{\\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\n}\\n\\nvoid main()\\n{\\n    vec4 color = texture(uTexture, vTextureCoord);\\n    float randomValue = rand(gl_FragCoord.xy * 0.2);\\n    float diff = (randomValue - 0.5) *  0.5;\\n\\n    if (uAlpha == 0.0) {\\n        finalColor = color;\\n        return;\\n    }\\n\\n    if (color.a > 0.0) {\\n        color.rgb /= color.a;\\n    }\\n\\n    vec4 result;\\n\\n    result.r = (uColorMatrix[0] * color.r);\\n        result.r += (uColorMatrix[1] * color.g);\\n        result.r += (uColorMatrix[2] * color.b);\\n        result.r += (uColorMatrix[3] * color.a);\\n        result.r += uColorMatrix[4];\\n\\n    result.g = (uColorMatrix[5] * color.r);\\n        result.g += (uColorMatrix[6] * color.g);\\n        result.g += (uColorMatrix[7] * color.b);\\n        result.g += (uColorMatrix[8] * color.a);\\n        result.g += uColorMatrix[9];\\n\\n    result.b = (uColorMatrix[10] * color.r);\\n       result.b += (uColorMatrix[11] * color.g);\\n       result.b += (uColorMatrix[12] * color.b);\\n       result.b += (uColorMatrix[13] * color.a);\\n       result.b += uColorMatrix[14];\\n\\n    result.a = (uColorMatrix[15] * color.r);\\n       result.a += (uColorMatrix[16] * color.g);\\n       result.a += (uColorMatrix[17] * color.b);\\n       result.a += (uColorMatrix[18] * color.a);\\n       result.a += uColorMatrix[19];\\n\\n    vec3 rgb = mix(color.rgb, result.rgb, uAlpha);\\n\\n    // Premultiply alpha again.\\n    rgb *= result.a;\\n\\n    finalColor = vec4(rgb, result.a);\\n}\\n\";\n\nexport { fragment as default };\n//# sourceMappingURL=colorMatrixFilter.frag.mjs.map\n","var source = \"struct GlobalFilterUniforms {\\n  uInputSize:vec4<f32>,\\n  uInputPixel:vec4<f32>,\\n  uInputClamp:vec4<f32>,\\n  uOutputFrame:vec4<f32>,\\n  uGlobalFrame:vec4<f32>,\\n  uOutputTexture:vec4<f32>,\\n};\\n\\nstruct ColorMatrixUniforms {\\n  uColorMatrix:array<vec4<f32>, 5>,\\n  uAlpha:f32,\\n};\\n\\n\\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\\n@group(0) @binding(2) var uSampler : sampler;\\n@group(1) @binding(0) var<uniform> colorMatrixUniforms : ColorMatrixUniforms;\\n\\n\\nstruct VSOutput {\\n    @builtin(position) position: vec4<f32>,\\n    @location(0) uv : vec2<f32>,\\n  };\\n  \\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\\n{\\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\\n\\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\\n\\n    return vec4(position, 0.0, 1.0);\\n}\\n\\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\\n{\\n  return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\\n}\\n\\n@vertex\\nfn mainVertex(\\n  @location(0) aPosition : vec2<f32>, \\n) -> VSOutput {\\n  return VSOutput(\\n   filterVertexPosition(aPosition),\\n   filterTextureCoord(aPosition),\\n  );\\n}\\n\\n\\n@fragment\\nfn mainFragment(\\n  @location(0) uv: vec2<f32>,\\n) -> @location(0) vec4<f32> {\\n\\n\\n  var c = textureSample(uTexture, uSampler, uv);\\n  \\n  if (colorMatrixUniforms.uAlpha == 0.0) {\\n    return c;\\n  }\\n\\n \\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\n    if (c.a > 0.0) {\\n      c.r /= c.a;\\n      c.g /= c.a;\\n      c.b /= c.a;\\n    }\\n\\n    var cm = colorMatrixUniforms.uColorMatrix;\\n\\n\\n    var result = vec4<f32>(0.);\\n\\n    result.r = (cm[0][0] * c.r);\\n    result.r += (cm[0][1] * c.g);\\n    result.r += (cm[0][2] * c.b);\\n    result.r += (cm[0][3] * c.a);\\n    result.r += cm[1][0];\\n\\n    result.g = (cm[1][1] * c.r);\\n    result.g += (cm[1][2] * c.g);\\n    result.g += (cm[1][3] * c.b);\\n    result.g += (cm[2][0] * c.a);\\n    result.g += cm[2][1];\\n\\n    result.b = (cm[2][2] * c.r);\\n    result.b += (cm[2][3] * c.g);\\n    result.b += (cm[3][0] * c.b);\\n    result.b += (cm[3][1] * c.a);\\n    result.b += cm[3][2];\\n\\n    result.a = (cm[3][3] * c.r);\\n    result.a += (cm[4][0] * c.g);\\n    result.a += (cm[4][1] * c.b);\\n    result.a += (cm[4][2] * c.a);\\n    result.a += cm[4][3];\\n\\n    var rgb = mix(c.rgb, result.rgb, colorMatrixUniforms.uAlpha);\\n\\n    rgb.r *= result.a;\\n    rgb.g *= result.a;\\n    rgb.b *= result.a;\\n\\n    return vec4(rgb, result.a);\\n}\";\n\nexport { source as default };\n//# sourceMappingURL=colorMatrixFilter.wgsl.mjs.map\n","import { Color } from '../../../color/Color.mjs';\nimport { GlProgram } from '../../../rendering/renderers/gl/shader/GlProgram.mjs';\nimport { GpuProgram } from '../../../rendering/renderers/gpu/shader/GpuProgram.mjs';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup.mjs';\nimport { Filter } from '../../Filter.mjs';\nimport vertex from '../defaultFilter.vert.mjs';\nimport fragment from './colorMatrixFilter.frag.mjs';\nimport source from './colorMatrixFilter.wgsl.mjs';\n\n\"use strict\";\nclass ColorMatrixFilter extends Filter {\n  constructor(options = {}) {\n    const colorMatrixUniforms = new UniformGroup({\n      uColorMatrix: {\n        value: [\n          1,\n          0,\n          0,\n          0,\n          0,\n          0,\n          1,\n          0,\n          0,\n          0,\n          0,\n          0,\n          1,\n          0,\n          0,\n          0,\n          0,\n          0,\n          1,\n          0\n        ],\n        type: \"f32\",\n        size: 20\n      },\n      uAlpha: {\n        value: 1,\n        type: \"f32\"\n      }\n    });\n    const gpuProgram = GpuProgram.from({\n      vertex: {\n        source,\n        entryPoint: \"mainVertex\"\n      },\n      fragment: {\n        source,\n        entryPoint: \"mainFragment\"\n      }\n    });\n    const glProgram = GlProgram.from({\n      vertex,\n      fragment,\n      name: \"color-matrix-filter\"\n    });\n    super({\n      ...options,\n      gpuProgram,\n      glProgram,\n      resources: {\n        colorMatrixUniforms\n      }\n    });\n    this.alpha = 1;\n  }\n  /**\n   * Transforms current matrix and set the new one\n   * @param {number[]} matrix - 5x4 matrix\n   * @param multiply - if true, current matrix and matrix are multiplied. If false,\n   *  just set the current matrix with matrix\n   */\n  _loadMatrix(matrix, multiply = false) {\n    let newMatrix = matrix;\n    if (multiply) {\n      this._multiply(newMatrix, this.matrix, matrix);\n      newMatrix = this._colorMatrix(newMatrix);\n    }\n    this.resources.colorMatrixUniforms.uniforms.uColorMatrix = newMatrix;\n    this.resources.colorMatrixUniforms.update();\n  }\n  /**\n   * Multiplies two mat5's\n   * @private\n   * @param out - 5x4 matrix the receiving matrix\n   * @param a - 5x4 matrix the first operand\n   * @param b - 5x4 matrix the second operand\n   * @returns {number[]} 5x4 matrix\n   */\n  _multiply(out, a, b) {\n    out[0] = a[0] * b[0] + a[1] * b[5] + a[2] * b[10] + a[3] * b[15];\n    out[1] = a[0] * b[1] + a[1] * b[6] + a[2] * b[11] + a[3] * b[16];\n    out[2] = a[0] * b[2] + a[1] * b[7] + a[2] * b[12] + a[3] * b[17];\n    out[3] = a[0] * b[3] + a[1] * b[8] + a[2] * b[13] + a[3] * b[18];\n    out[4] = a[0] * b[4] + a[1] * b[9] + a[2] * b[14] + a[3] * b[19] + a[4];\n    out[5] = a[5] * b[0] + a[6] * b[5] + a[7] * b[10] + a[8] * b[15];\n    out[6] = a[5] * b[1] + a[6] * b[6] + a[7] * b[11] + a[8] * b[16];\n    out[7] = a[5] * b[2] + a[6] * b[7] + a[7] * b[12] + a[8] * b[17];\n    out[8] = a[5] * b[3] + a[6] * b[8] + a[7] * b[13] + a[8] * b[18];\n    out[9] = a[5] * b[4] + a[6] * b[9] + a[7] * b[14] + a[8] * b[19] + a[9];\n    out[10] = a[10] * b[0] + a[11] * b[5] + a[12] * b[10] + a[13] * b[15];\n    out[11] = a[10] * b[1] + a[11] * b[6] + a[12] * b[11] + a[13] * b[16];\n    out[12] = a[10] * b[2] + a[11] * b[7] + a[12] * b[12] + a[13] * b[17];\n    out[13] = a[10] * b[3] + a[11] * b[8] + a[12] * b[13] + a[13] * b[18];\n    out[14] = a[10] * b[4] + a[11] * b[9] + a[12] * b[14] + a[13] * b[19] + a[14];\n    out[15] = a[15] * b[0] + a[16] * b[5] + a[17] * b[10] + a[18] * b[15];\n    out[16] = a[15] * b[1] + a[16] * b[6] + a[17] * b[11] + a[18] * b[16];\n    out[17] = a[15] * b[2] + a[16] * b[7] + a[17] * b[12] + a[18] * b[17];\n    out[18] = a[15] * b[3] + a[16] * b[8] + a[17] * b[13] + a[18] * b[18];\n    out[19] = a[15] * b[4] + a[16] * b[9] + a[17] * b[14] + a[18] * b[19] + a[19];\n    return out;\n  }\n  /**\n   * Create a Float32 Array and normalize the offset component to 0-1\n   * @param {number[]} matrix - 5x4 matrix\n   * @returns {number[]} 5x4 matrix with all values between 0-1\n   */\n  _colorMatrix(matrix) {\n    const m = new Float32Array(matrix);\n    m[4] /= 255;\n    m[9] /= 255;\n    m[14] /= 255;\n    m[19] /= 255;\n    return m;\n  }\n  /**\n   * Adjusts the brightness of a display object.\n   *\n   * The brightness adjustment works by multiplying the RGB channels by a scalar value while keeping\n   * the alpha channel unchanged. Values below 1 darken the image, while values above 1 brighten it.\n   * @param b - The brightness multiplier to apply. Values between 0-1 darken the image (0 being black),\n   *           while values > 1 brighten it (2.0 would make it twice as bright)\n   * @param multiply - When true, the new matrix is multiplied with the current one instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * // Create a new color matrix filter\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Darken the image to 50% brightness\n   * colorMatrix.brightness(0.5, false);\n   *\n   * // Chain with other effects by using multiply\n   * colorMatrix\n   *     .brightness(1.2, true)  // Brighten by 20%\n   *     .saturate(1.1, true);   // Increase saturation by 10%\n   * ```\n   */\n  brightness(b, multiply) {\n    const matrix = [\n      b,\n      0,\n      0,\n      0,\n      0,\n      0,\n      b,\n      0,\n      0,\n      0,\n      0,\n      0,\n      b,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Sets each channel on the diagonal of the color matrix to apply a color tint.\n   *\n   * This method provides a way to tint display objects using the color matrix filter, similar to\n   * the tint property available on Sprites and other display objects. The tint is applied by\n   * scaling the RGB channels of each pixel.\n   * @param color - The color to use for tinting, this can be any valid color source.\n   * @param multiply - When true, the new tint matrix is multiplied with the current matrix instead\n   *                  of replacing it. This allows for combining tints with other color effects.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Apply a red tint\n   * colorMatrix.tint(0xff0000);\n   *\n   * // Layer a green tint on top of existing effects\n   * colorMatrix.tint('green', true);\n   *\n   * // Chain with other color adjustments\n   * colorMatrix\n   *     .tint('blue')       // Blue tint\n   *     .brightness(1.2, true) // Increase brightness\n   * ```\n   */\n  tint(color, multiply) {\n    const [r, g, b] = Color.shared.setValue(color).toArray();\n    const matrix = [\n      r,\n      0,\n      0,\n      0,\n      0,\n      0,\n      g,\n      0,\n      0,\n      0,\n      0,\n      0,\n      b,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Converts the display object to greyscale by applying a weighted matrix transformation.\n   *\n   * The greyscale effect works by setting equal RGB values for each pixel based on the scale parameter,\n   * effectively removing color information while preserving luminance.\n   * @param scale - The intensity of the greyscale effect. Value between 0-1, where:\n   *               - 0 produces black\n   *               - 0.5 produces 50% grey\n   *               - 1 produces white\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Convert to 50% grey\n   * colorMatrix.greyscale(0.5, false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .greyscale(0.6, true)    // Add grey tint\n   *     .brightness(1.2, true);   // Brighten the result\n   * ```\n   */\n  greyscale(scale, multiply) {\n    const matrix = [\n      scale,\n      scale,\n      scale,\n      0,\n      0,\n      scale,\n      scale,\n      scale,\n      0,\n      0,\n      scale,\n      scale,\n      scale,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Converts the display object to grayscale by applying a weighted matrix transformation.\n   *\n   * The grayscale effect works by setting equal RGB values for each pixel based on the scale parameter,\n   * effectively removing color information while preserving luminance.\n   * @param scale - The intensity of the grayscale effect. Value between 0-1, where:\n   *               - 0 produces black\n   *               - 0.5 produces 50% grey\n   *               - 1 produces white\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Convert to 50% grey\n   * colorMatrix.grayscale(0.5, false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .grayscale(0.6, true)    // Add grey tint\n   *     .brightness(1.2, true);   // Brighten the result\n   * ```\n   */\n  grayscale(scale, multiply) {\n    this.greyscale(scale, multiply);\n  }\n  /**\n   * Converts the display object to pure black and white using a luminance-based threshold.\n   *\n   * This method applies a matrix transformation that removes all color information and reduces\n   * the image to just black and white values based on the luminance of each pixel. The transformation\n   * uses standard luminance weightings: 30% red, 60% green, and 10% blue.\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Convert to black and white\n   * colorMatrix.blackAndWhite(false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .blackAndWhite(true)     // Apply B&W effect\n   *     .brightness(1.2, true);   // Then increase brightness\n   * ```\n   */\n  blackAndWhite(multiply) {\n    const matrix = [\n      0.3,\n      0.6,\n      0.1,\n      0,\n      0,\n      0.3,\n      0.6,\n      0.1,\n      0,\n      0,\n      0.3,\n      0.6,\n      0.1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Adjusts the hue of the display object by rotating the color values around the color wheel.\n   *\n   * This method uses an optimized matrix transformation that accurately rotates the RGB color space\n   * around its luminance axis. The implementation is based on RGB cube rotation in 3D space, providing\n   * better results than traditional matrices with magic luminance constants.\n   * @param rotation - The angle of rotation in degrees around the color wheel:\n   *                  - 0 = no change\n   *                  - 90 = rotate colors 90 clockwise\n   *                  - 180 = invert all colors\n   *                  - 270 = rotate colors 90 counter-clockwise\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Rotate hue by 90 degrees\n   * colorMatrix.hue(90, false);\n   *\n   * // Chain multiple color adjustments\n   * colorMatrix\n   *     .hue(45, true)          // Rotate colors by 45\n   *     .saturate(1.2, true)    // Increase saturation\n   *     .brightness(1.1, true); // Slightly brighten\n   * ```\n   */\n  hue(rotation, multiply) {\n    rotation = (rotation || 0) / 180 * Math.PI;\n    const cosR = Math.cos(rotation);\n    const sinR = Math.sin(rotation);\n    const sqrt = Math.sqrt;\n    const w = 1 / 3;\n    const sqrW = sqrt(w);\n    const a00 = cosR + (1 - cosR) * w;\n    const a01 = w * (1 - cosR) - sqrW * sinR;\n    const a02 = w * (1 - cosR) + sqrW * sinR;\n    const a10 = w * (1 - cosR) + sqrW * sinR;\n    const a11 = cosR + w * (1 - cosR);\n    const a12 = w * (1 - cosR) - sqrW * sinR;\n    const a20 = w * (1 - cosR) - sqrW * sinR;\n    const a21 = w * (1 - cosR) + sqrW * sinR;\n    const a22 = cosR + w * (1 - cosR);\n    const matrix = [\n      a00,\n      a01,\n      a02,\n      0,\n      0,\n      a10,\n      a11,\n      a12,\n      0,\n      0,\n      a20,\n      a21,\n      a22,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Adjusts the contrast of the display object by modifying the separation between dark and bright values.\n   *\n   * This method applies a matrix transformation that affects the difference between dark and light areas\n   * in the image. Increasing contrast makes shadows darker and highlights brighter, while decreasing\n   * contrast brings shadows up and highlights down, reducing the overall dynamic range.\n   * @param amount - The contrast adjustment value. Range is 0 to 1, where:\n   *                - 0 represents minimum contrast (flat gray)\n   *                - 0.5 represents normal contrast\n   *                - 1 represents maximum contrast\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Increase contrast by 50%\n   * colorMatrix.contrast(0.75, false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .contrast(0.6, true)     // Boost contrast\n   *     .brightness(1.1, true)   // Slightly brighten\n   *     .saturate(1.2, true);    // Increase color intensity\n   * ```\n   */\n  contrast(amount, multiply) {\n    const v = (amount || 0) + 1;\n    const o = -0.5 * (v - 1);\n    const matrix = [\n      v,\n      0,\n      0,\n      0,\n      o,\n      0,\n      v,\n      0,\n      0,\n      o,\n      0,\n      0,\n      v,\n      0,\n      o,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Adjusts the saturation of the display object by modifying color separation.\n   *\n   * This method applies a matrix transformation that affects the intensity of colors.\n   * Increasing saturation makes colors more vivid and intense, while decreasing saturation\n   * moves colors toward grayscale.\n   * @param amount - The saturation adjustment value. Range is -1 to 1, where:\n   *                - -1 produces grayscale\n   *                - 0 represents no change\n   *                - 1 produces maximum saturation\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Double the saturation\n   * colorMatrix.saturate(1, false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .saturate(0.5, true)     // Increase saturation by 50%\n   *     .brightness(1.1, true)    // Slightly brighten\n   *     .contrast(0.8, true);     // Reduce contrast\n   * ```\n   */\n  saturate(amount = 0, multiply) {\n    const x = amount * 2 / 3 + 1;\n    const y = (x - 1) * -0.5;\n    const matrix = [\n      x,\n      y,\n      y,\n      0,\n      0,\n      y,\n      x,\n      y,\n      0,\n      0,\n      y,\n      y,\n      x,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Completely removes color information from the display object, creating a grayscale version.\n   *\n   * This is a convenience method that calls `saturate(-1)` internally. The transformation preserves\n   * the luminance of the original image while removing all color information.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Convert image to grayscale\n   * colorMatrix.desaturate();\n   *\n   * // Can be chained with other effects\n   * colorMatrix\n   *     .desaturate()         // Remove all color\n   *     .brightness(1.2);     // Then increase brightness\n   * ```\n   */\n  desaturate() {\n    this.saturate(-1);\n  }\n  /**\n   * Creates a negative effect by inverting all colors in the display object.\n   *\n   * This method applies a matrix transformation that inverts the RGB values of each pixel\n   * while preserving the alpha channel. The result is similar to a photographic negative.\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Create negative effect\n   * colorMatrix.negative(false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .negative(true)       // Apply negative effect\n   *     .brightness(1.2, true) // Increase brightness\n   *     .contrast(0.8, true);  // Reduce contrast\n   * ```\n   */\n  negative(multiply) {\n    const matrix = [\n      -1,\n      0,\n      0,\n      1,\n      0,\n      0,\n      -1,\n      0,\n      1,\n      0,\n      0,\n      0,\n      -1,\n      1,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Applies a sepia tone effect to the display object, creating a warm brown tint reminiscent of vintage photographs.\n   *\n   * This method applies a matrix transformation that converts colors to various shades of brown while\n   * preserving the original luminance values.\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Apply sepia effect\n   * colorMatrix.sepia(false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .sepia(true)           // Add sepia tone\n   *     .brightness(1.1, true)  // Slightly brighten\n   *     .contrast(0.9, true);   // Reduce contrast\n   * ```\n   */\n  sepia(multiply) {\n    const matrix = [\n      0.393,\n      0.7689999,\n      0.18899999,\n      0,\n      0,\n      0.349,\n      0.6859999,\n      0.16799999,\n      0,\n      0,\n      0.272,\n      0.5339999,\n      0.13099999,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Applies a Technicolor-style effect that simulates the early color motion picture process.\n   *\n   * This method applies a matrix transformation that recreates the distinctive look of the\n   * Technicolor process. The effect produces highly\n   * saturated colors with a particular emphasis on reds, greens, and blues.\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Apply Technicolor effect\n   * colorMatrix.technicolor(false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .technicolor(true)      // Add Technicolor effect\n   *     .contrast(1.1, true)    // Boost contrast\n   *     .brightness(0.9, true); // Slightly darken\n   * ```\n   */\n  technicolor(multiply) {\n    const matrix = [\n      1.9125277891456083,\n      -0.8545344976951645,\n      -0.09155508482755585,\n      0,\n      11.793603434377337,\n      -0.3087833385928097,\n      1.7658908555458428,\n      -0.10601743074722245,\n      0,\n      -70.35205161461398,\n      -0.231103377548616,\n      -0.7501899197440212,\n      1.847597816108189,\n      0,\n      30.950940869491138,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Applies a vintage Polaroid camera effect to the display object.\n   *\n   * This method applies a matrix transformation that simulates the distinctive look of\n   * Polaroid instant photographs, characterized by slightly enhanced contrast, subtle color shifts,\n   * and a warm overall tone.\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Apply Polaroid effect\n   * colorMatrix.polaroid(false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .polaroid(true)         // Add Polaroid effect\n   *     .brightness(1.1, true)  // Slightly brighten\n   *     .contrast(1.1, true);   // Boost contrast\n   * ```\n   */\n  polaroid(multiply) {\n    const matrix = [\n      1.438,\n      -0.062,\n      -0.062,\n      0,\n      0,\n      -0.122,\n      1.378,\n      -0.122,\n      0,\n      0,\n      -0.016,\n      -0.016,\n      1.483,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Swaps the red and blue color channels in the display object.\n   *\n   * This method applies a matrix transformation that exchanges the red and blue color values\n   * while keeping the green channel and alpha unchanged.\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Swap red and blue channels\n   * colorMatrix.toBGR(false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .toBGR(true)           // Swap R and B channels\n   *     .brightness(1.1, true)  // Slightly brighten\n   *     .contrast(0.9, true);   // Reduce contrast\n   * ```\n   */\n  toBGR(multiply) {\n    const matrix = [\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Applies a Kodachrome color effect that simulates the iconic film stock.\n   *\n   * This method applies a matrix transformation that recreates the distinctive look of Kodachrome film,\n   * known for its rich, vibrant colors and excellent image preservation qualities. The effect emphasizes\n   * reds and blues while producing deep, true blacks.\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Apply Kodachrome effect\n   * colorMatrix.kodachrome(false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .kodachrome(true)       // Add Kodachrome effect\n   *     .contrast(1.1, true)    // Boost contrast\n   *     .brightness(0.9, true); // Slightly darken\n   * ```\n   */\n  kodachrome(multiply) {\n    const matrix = [\n      1.1285582396593525,\n      -0.3967382283601348,\n      -0.03992559172921793,\n      0,\n      63.72958762196502,\n      -0.16404339962244616,\n      1.0835251566291304,\n      -0.05498805115633132,\n      0,\n      24.732407896706203,\n      -0.16786010706155763,\n      -0.5603416277695248,\n      1.6014850761964943,\n      0,\n      35.62982807460946,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Applies a stylized brown-tinted effect to the display object.\n   *\n   * This method applies a matrix transformation that creates a rich, warm brown tone\n   * with enhanced contrast and subtle color shifts.\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Apply browni effect\n   * colorMatrix.browni(false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .browni(true)          // Add brown tint\n   *     .brightness(1.1, true)  // Slightly brighten\n   *     .contrast(1.2, true);   // Boost contrast\n   * ```\n   */\n  browni(multiply) {\n    const matrix = [\n      0.5997023498159715,\n      0.34553243048391263,\n      -0.2708298674538042,\n      0,\n      47.43192855600873,\n      -0.037703249837783157,\n      0.8609577587992641,\n      0.15059552388459913,\n      0,\n      -36.96841498319127,\n      0.24113635128153335,\n      -0.07441037908422492,\n      0.44972182064877153,\n      0,\n      -7.562075277591283,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Applies a vintage photo effect that simulates old photography techniques.\n   *\n   * This method applies a matrix transformation that creates a nostalgic, aged look\n   * with muted colors, enhanced warmth, and subtle vignetting.\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Apply vintage effect\n   * colorMatrix.vintage(false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .vintage(true)          // Add vintage look\n   *     .brightness(0.9, true)  // Slightly darken\n   *     .contrast(1.1, true);   // Boost contrast\n   * ```\n   */\n  vintage(multiply) {\n    const matrix = [\n      0.6279345635605994,\n      0.3202183420819367,\n      -0.03965408211312453,\n      0,\n      9.651285835294123,\n      0.02578397704808868,\n      0.6441188644374771,\n      0.03259127616149294,\n      0,\n      7.462829176470591,\n      0.0466055556782719,\n      -0.0851232987247891,\n      0.5241648018700465,\n      0,\n      5.159190588235296,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * We don't know exactly what it does, kind of gradient map, but funny to play with!\n   * @param desaturation - Tone values.\n   * @param toned - Tone values.\n   * @param lightColor - Tone values, example: `0xFFE580`\n   * @param darkColor - Tone values, example: `0xFFE580`\n   * @param multiply - if true, current matrix and matrix are multiplied. If false,\n   *  just set the current matrix with matrix\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Create sepia-like effect with custom colors\n   * colorMatrix.colorTone(\n   *     0.3,        // Moderate desaturation\n   *     0.2,        // Moderate toning\n   *     0xFFE580,   // Warm highlight color\n   *     0x338000,   // Dark green shadows\n   *     false\n   * );\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .colorTone(0.2, 0.15, 0xFFE580, 0x338000, true)\n   *     .brightness(1.1, true);  // Slightly brighten\n   * ```\n   */\n  colorTone(desaturation, toned, lightColor, darkColor, multiply) {\n    desaturation || (desaturation = 0.2);\n    toned || (toned = 0.15);\n    lightColor || (lightColor = 16770432);\n    darkColor || (darkColor = 3375104);\n    const temp = Color.shared;\n    const [lR, lG, lB] = temp.setValue(lightColor).toArray();\n    const [dR, dG, dB] = temp.setValue(darkColor).toArray();\n    const matrix = [\n      0.3,\n      0.59,\n      0.11,\n      0,\n      0,\n      lR,\n      lG,\n      lB,\n      desaturation,\n      0,\n      dR,\n      dG,\n      dB,\n      toned,\n      0,\n      lR - dR,\n      lG - dG,\n      lB - dB,\n      0,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Applies a night vision effect to the display object.\n   *\n   * This method applies a matrix transformation that simulates night vision by enhancing\n   * certain color channels while suppressing others, creating a green-tinted effect\n   * similar to night vision goggles.\n   * @param intensity - The intensity of the night effect (0-1):\n   *                   - 0 produces no effect\n   *                   - 0.1 produces a subtle night vision effect (default)\n   *                   - 1 produces maximum night vision effect\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Apply night vision effect\n   * colorMatrix.night(0.3, false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .night(0.2, true)        // Add night vision\n   *     .brightness(1.1, true)    // Slightly brighten\n   *     .contrast(1.2, true);     // Boost contrast\n   * ```\n   */\n  night(intensity, multiply) {\n    intensity || (intensity = 0.1);\n    const matrix = [\n      intensity * -2,\n      -intensity,\n      0,\n      0,\n      0,\n      -intensity,\n      0,\n      intensity,\n      0,\n      0,\n      0,\n      intensity,\n      intensity * 2,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Predator effect\n   *\n   * Erase the current matrix by setting a new independent one\n   * @param amount - how much the predator feels his future victim\n   * @param multiply - if true, current matrix and matrix are multiplied. If false,\n   *  just set the current matrix with matrix\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Apply thermal vision effect\n   * colorMatrix.predator(0.5, false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .predator(0.3, true)      // Add thermal effect\n   *     .contrast(1.2, true)      // Boost contrast\n   *     .brightness(1.1, true);   // Slightly brighten\n   * ```\n   */\n  predator(amount, multiply) {\n    const matrix = [\n      // row 1\n      11.224130630493164 * amount,\n      -4.794486999511719 * amount,\n      -2.8746118545532227 * amount,\n      0 * amount,\n      0.40342438220977783 * amount,\n      // row 2\n      -3.6330697536468506 * amount,\n      9.193157196044922 * amount,\n      -2.951810836791992 * amount,\n      0 * amount,\n      -1.316135048866272 * amount,\n      // row 3\n      -3.2184197902679443 * amount,\n      -4.2375030517578125 * amount,\n      7.476448059082031 * amount,\n      0 * amount,\n      0.8044459223747253 * amount,\n      // row 4\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Applies a psychedelic color effect that creates dramatic color shifts.\n   *\n   * This method applies a matrix transformation that produces vibrant colors\n   * through channel mixing and amplification. Creates an effect reminiscent of\n   * color distortions in psychedelic art.\n   * @param multiply - When true, the new matrix is multiplied with the current matrix instead of replacing it.\n   *                  This allows for cumulative effects when calling multiple color adjustments.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Apply psychedelic effect\n   * colorMatrix.lsd(false);\n   *\n   * // Chain with other effects\n   * colorMatrix\n   *     .lsd(true)             // Add color distortion\n   *     .brightness(0.9, true)  // Slightly darken\n   *     .contrast(1.2, true);   // Boost contrast\n   * ```\n   */\n  lsd(multiply) {\n    const matrix = [\n      2,\n      -0.4,\n      0.5,\n      0,\n      0,\n      -0.5,\n      2,\n      -0.4,\n      0,\n      0,\n      -0.4,\n      -0.5,\n      3,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  /**\n   * Resets the color matrix filter to its default state.\n   *\n   * This method resets all color transformations by setting the matrix back to its identity state.\n   * The identity matrix leaves colors unchanged, effectively removing all previously applied effects.\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Apply some effects\n   * colorMatrix\n   *     .sepia(true)\n   *     .brightness(1.2, true);\n   *\n   * // Reset back to original colors\n   * colorMatrix.reset();\n   * ```\n   */\n  reset() {\n    const matrix = [\n      1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, false);\n  }\n  /**\n   * The current color transformation matrix of the filter.\n   *\n   * This 5x4 matrix transforms RGBA color and alpha values of each pixel. The matrix is stored\n   * as a 20-element array in row-major order.\n   * @type {ColorMatrix}\n   * @default [\n   *     1, 0, 0, 0, 0,  // Red channel\n   *     0, 1, 0, 0, 0,  // Green channel\n   *     0, 0, 1, 0, 0,  // Blue channel\n   *     0, 0, 0, 1, 0   // Alpha channel\n   * ]\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   * // Get the current color matrix\n   * const currentMatrix = colorMatrix.matrix;\n   * // Modify the matrix\n   * colorMatrix.matrix = [\n   *     1, 0, 0, 0, 0,\n   *     0, 1, 0, 0, 0,\n   *     0, 0, 1, 0, 0,\n   *     0, 0, 0, 1, 0\n   * ];\n   */\n  get matrix() {\n    return this.resources.colorMatrixUniforms.uniforms.uColorMatrix;\n  }\n  set matrix(value) {\n    this.resources.colorMatrixUniforms.uniforms.uColorMatrix = value;\n  }\n  /**\n   * The opacity value used to blend between the original and transformed colors.\n   *\n   * This value controls how much of the color transformation is applied:\n   * - 0 = Original color only (no effect)\n   * - 0.5 = 50% blend of original and transformed colors\n   * - 1 = Fully transformed color (default)\n   * @default 1\n   * @example\n   * ```ts\n   * const colorMatrix = new ColorMatrixFilter();\n   *\n   * // Apply sepia at 50% strength\n   * colorMatrix.sepia(false);\n   * colorMatrix.alpha = 0.5;\n   *\n   * // Fade between effects\n   * colorMatrix\n   *     .saturate(1.5)      // Increase saturation\n   *     .contrast(1.2);     // Boost contrast\n   * colorMatrix.alpha = 0.7; // Apply at 70% strength\n   * ```\n   */\n  get alpha() {\n    return this.resources.colorMatrixUniforms.uniforms.uAlpha;\n  }\n  set alpha(value) {\n    this.resources.colorMatrixUniforms.uniforms.uAlpha = value;\n  }\n}\n\nexport { ColorMatrixFilter };\n//# sourceMappingURL=ColorMatrixFilter.mjs.map\n","var fragment = \"\\nin vec2 vTextureCoord;\\nin vec2 vFilterUv;\\n\\nout vec4 finalColor;\\n\\nuniform sampler2D uTexture;\\nuniform sampler2D uMapTexture;\\n\\nuniform vec4 uInputClamp;\\nuniform highp vec4 uInputSize;\\nuniform mat2 uRotation;\\nuniform vec2 uScale;\\n\\nvoid main()\\n{\\n    vec4 map = texture(uMapTexture, vFilterUv);\\n    \\n    vec2 offset = uInputSize.zw * (uRotation * (map.xy - 0.5)) * uScale; \\n\\n    finalColor = texture(uTexture, clamp(vTextureCoord + offset, uInputClamp.xy, uInputClamp.zw));\\n}\\n\";\n\nexport { fragment as default };\n//# sourceMappingURL=displacement.frag.mjs.map\n","var vertex = \"in vec2 aPosition;\\nout vec2 vTextureCoord;\\nout vec2 vFilterUv;\\n\\n\\nuniform vec4 uInputSize;\\nuniform vec4 uOutputFrame;\\nuniform vec4 uOutputTexture;\\n\\nuniform mat3 uFilterMatrix;\\n\\nvec4 filterVertexPosition( void )\\n{\\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\\n    \\n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\\n\\n    return vec4(position, 0.0, 1.0);\\n}\\n\\nvec2 filterTextureCoord( void )\\n{\\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\\n}\\n\\nvec2 getFilterCoord( void )\\n{\\n  return ( uFilterMatrix * vec3( filterTextureCoord(), 1.0)  ).xy;\\n}\\n\\n\\nvoid main(void)\\n{\\n    gl_Position = filterVertexPosition();\\n    vTextureCoord = filterTextureCoord();\\n    vFilterUv = getFilterCoord();\\n}\\n\";\n\nexport { vertex as default };\n//# sourceMappingURL=displacement.vert.mjs.map\n","var source = \"\\nstruct GlobalFilterUniforms {\\n  uInputSize:vec4<f32>,\\n  uInputPixel:vec4<f32>,\\n  uInputClamp:vec4<f32>,\\n  uOutputFrame:vec4<f32>,\\n  uGlobalFrame:vec4<f32>,\\n  uOutputTexture:vec4<f32>,\\n};\\n\\nstruct DisplacementUniforms {\\n  uFilterMatrix:mat3x3<f32>,\\n  uScale:vec2<f32>,\\n  uRotation:mat2x2<f32>\\n};\\n\\n\\n\\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\\n@group(0) @binding(2) var uSampler : sampler;\\n\\n@group(1) @binding(0) var<uniform> filterUniforms : DisplacementUniforms;\\n@group(1) @binding(1) var uMapTexture: texture_2d<f32>;\\n@group(1) @binding(2) var uMapSampler : sampler;\\n\\nstruct VSOutput {\\n    @builtin(position) position: vec4<f32>,\\n    @location(0) uv : vec2<f32>,\\n    @location(1) filterUv : vec2<f32>,\\n  };\\n\\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\\n{\\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\\n\\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\\n\\n    return vec4(position, 0.0, 1.0);\\n}\\n\\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\\n{\\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\\n}\\n\\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\\n{\\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  \\n}\\n\\nfn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>\\n{\\n  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\\n}\\n\\nfn getSize() -> vec2<f32>\\n{\\n\\n  \\n  return gfu.uGlobalFrame.zw;\\n}\\n  \\n@vertex\\nfn mainVertex(\\n  @location(0) aPosition : vec2<f32>, \\n) -> VSOutput {\\n  return VSOutput(\\n   filterVertexPosition(aPosition),\\n   filterTextureCoord(aPosition),\\n   getFilterCoord(aPosition)\\n  );\\n}\\n\\n@fragment\\nfn mainFragment(\\n  @location(0) uv: vec2<f32>,\\n  @location(1) filterUv: vec2<f32>,\\n  @builtin(position) position: vec4<f32>\\n) -> @location(0) vec4<f32> {\\n\\n    var map = textureSample(uMapTexture, uMapSampler, filterUv);\\n\\n    var offset =  gfu.uInputSize.zw * (filterUniforms.uRotation * (map.xy - 0.5)) * filterUniforms.uScale; \\n   \\n    return textureSample(uTexture, uSampler, clamp(uv + offset, gfu.uInputClamp.xy, gfu.uInputClamp.zw));\\n}\";\n\nexport { source as default };\n//# sourceMappingURL=displacement.wgsl.mjs.map\n","import { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { Point } from '../../../maths/point/Point.mjs';\nimport { GlProgram } from '../../../rendering/renderers/gl/shader/GlProgram.mjs';\nimport { GpuProgram } from '../../../rendering/renderers/gpu/shader/GpuProgram.mjs';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup.mjs';\nimport { Sprite } from '../../../scene/sprite/Sprite.mjs';\nimport { deprecation, v8_0_0 } from '../../../utils/logging/deprecation.mjs';\nimport { Filter } from '../../Filter.mjs';\nimport fragment from './displacement.frag.mjs';\nimport vertex from './displacement.vert.mjs';\nimport source from './displacement.wgsl.mjs';\n\n\"use strict\";\nclass DisplacementFilter extends Filter {\n  constructor(...args) {\n    let options = args[0];\n    if (options instanceof Sprite) {\n      if (args[1]) {\n        deprecation(v8_0_0, \"DisplacementFilter now uses options object instead of params. {sprite, scale}\");\n      }\n      options = { sprite: options, scale: args[1] };\n    }\n    const { sprite, scale: scaleOption, ...rest } = options;\n    let scale = scaleOption ?? 20;\n    if (typeof scale === \"number\") {\n      scale = new Point(scale, scale);\n    }\n    const filterUniforms = new UniformGroup({\n      uFilterMatrix: { value: new Matrix(), type: \"mat3x3<f32>\" },\n      uScale: { value: scale, type: \"vec2<f32>\" },\n      uRotation: { value: new Float32Array([0, 0, 0, 0]), type: \"mat2x2<f32>\" }\n    });\n    const glProgram = GlProgram.from({\n      vertex,\n      fragment,\n      name: \"displacement-filter\"\n    });\n    const gpuProgram = GpuProgram.from({\n      vertex: {\n        source,\n        entryPoint: \"mainVertex\"\n      },\n      fragment: {\n        source,\n        entryPoint: \"mainFragment\"\n      }\n    });\n    const textureSource = sprite.texture.source;\n    super({\n      ...rest,\n      gpuProgram,\n      glProgram,\n      resources: {\n        filterUniforms,\n        uMapTexture: textureSource,\n        uMapSampler: textureSource.style\n      }\n    });\n    this._sprite = options.sprite;\n    this._sprite.renderable = false;\n  }\n  /**\n   * Applies the filter.\n   * @param filterManager - The manager.\n   * @param input - The input target.\n   * @param output - The output target.\n   * @param clearMode - clearMode.\n   * @advanced\n   */\n  apply(filterManager, input, output, clearMode) {\n    const uniforms = this.resources.filterUniforms.uniforms;\n    filterManager.calculateSpriteMatrix(\n      uniforms.uFilterMatrix,\n      this._sprite\n    );\n    const wt = this._sprite.worldTransform;\n    const lenX = Math.sqrt(wt.a * wt.a + wt.b * wt.b);\n    const lenY = Math.sqrt(wt.c * wt.c + wt.d * wt.d);\n    if (lenX !== 0 && lenY !== 0) {\n      uniforms.uRotation[0] = wt.a / lenX;\n      uniforms.uRotation[1] = wt.b / lenX;\n      uniforms.uRotation[2] = wt.c / lenY;\n      uniforms.uRotation[3] = wt.d / lenY;\n    }\n    this.resources.uMapTexture = this._sprite.texture.source;\n    filterManager.applyFilter(this, input, output, clearMode);\n  }\n  /**\n   * The scale of the displacement effect.\n   *\n   * Gets the current x and y scaling values used for the displacement mapping.\n   * - x: Horizontal displacement scale\n   * - y: Vertical displacement scale\n   * @returns {Point} The current scale as a Point object\n   * @example\n   * ```ts\n   * const filter = new DisplacementFilter({ sprite });\n   *\n   * // Get current scale\n   * console.log(filter.scale.x, filter.scale.y);\n   *\n   * // Update scale\n   * filter.scale.x = 100;\n   * filter.scale.y = 50;\n   * ```\n   */\n  get scale() {\n    return this.resources.filterUniforms.uniforms.uScale;\n  }\n}\n\nexport { DisplacementFilter };\n//# sourceMappingURL=DisplacementFilter.mjs.map\n","var fragment = \"\\nin vec2 vTextureCoord;\\nin vec4 vColor;\\n\\nout vec4 finalColor;\\n\\nuniform float uNoise;\\nuniform float uSeed;\\nuniform sampler2D uTexture;\\n\\nfloat rand(vec2 co)\\n{\\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\n}\\n\\nvoid main()\\n{\\n    vec4 color = texture(uTexture, vTextureCoord);\\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\\n    float diff = (randomValue - 0.5) *  uNoise;\\n\\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\n    if (color.a > 0.0) {\\n        color.rgb /= color.a;\\n    }\\n\\n    color.r += diff;\\n    color.g += diff;\\n    color.b += diff;\\n\\n    // Premultiply alpha again.\\n    color.rgb *= color.a;\\n\\n    finalColor = color;\\n}\\n\";\n\nexport { fragment as default };\n//# sourceMappingURL=noise.frag.mjs.map\n","var source = \"\\n\\nstruct GlobalFilterUniforms {\\n  uInputSize:vec4<f32>,\\n  uInputPixel:vec4<f32>,\\n  uInputClamp:vec4<f32>,\\n  uOutputFrame:vec4<f32>,\\n  uGlobalFrame:vec4<f32>,\\n  uOutputTexture:vec4<f32>,\\n};\\n\\nstruct NoiseUniforms {\\n  uNoise:f32,\\n  uSeed:f32,\\n};\\n\\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\\n@group(0) @binding(2) var uSampler : sampler;\\n\\n@group(1) @binding(0) var<uniform> noiseUniforms : NoiseUniforms;\\n\\nstruct VSOutput {\\n    @builtin(position) position: vec4<f32>,\\n    @location(0) uv : vec2<f32>\\n  };\\n\\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\\n{\\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\\n\\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\\n\\n    return vec4(position, 0.0, 1.0);\\n}\\n\\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\\n{\\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\\n}\\n\\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\\n{\\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  \\n}\\n\\nfn getSize() -> vec2<f32>\\n{\\n  return gfu.uGlobalFrame.zw;\\n}\\n  \\n@vertex\\nfn mainVertex(\\n  @location(0) aPosition : vec2<f32>, \\n) -> VSOutput {\\n  return VSOutput(\\n   filterVertexPosition(aPosition),\\n   filterTextureCoord(aPosition)\\n  );\\n}\\n\\nfn rand(co:vec2<f32>) -> f32\\n{\\n  return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\n}\\n\\n\\n\\n@fragment\\nfn mainFragment(\\n  @location(0) uv: vec2<f32>,\\n  @builtin(position) position: vec4<f32>\\n) -> @location(0) vec4<f32> {\\n\\n    var pixelPosition =  globalTextureCoord(position.xy);// / (getSize());//-  gfu.uOutputFrame.xy);\\n  \\n    \\n    var sample = textureSample(uTexture, uSampler, uv);\\n    var randomValue =  rand(pixelPosition.xy * noiseUniforms.uSeed);\\n    var diff = (randomValue - 0.5) * noiseUniforms.uNoise;\\n  \\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\n    if (sample.a > 0.0) {\\n      sample.r /= sample.a;\\n      sample.g /= sample.a;\\n      sample.b /= sample.a;\\n    }\\n\\n    sample.r += diff;\\n    sample.g += diff;\\n    sample.b += diff;\\n\\n    // Premultiply alpha again.\\n    sample.r *= sample.a;\\n    sample.g *= sample.a;\\n    sample.b *= sample.a;\\n    \\n    return sample;\\n}\";\n\nexport { source as default };\n//# sourceMappingURL=noise.wgsl.mjs.map\n","import { GlProgram } from '../../../rendering/renderers/gl/shader/GlProgram.mjs';\nimport { GpuProgram } from '../../../rendering/renderers/gpu/shader/GpuProgram.mjs';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup.mjs';\nimport { Filter } from '../../Filter.mjs';\nimport vertex from '../defaultFilter.vert.mjs';\nimport fragment from './noise.frag.mjs';\nimport source from './noise.wgsl.mjs';\n\n\"use strict\";\nconst _NoiseFilter = class _NoiseFilter extends Filter {\n  /**\n   * @param options - The options of the noise filter.\n   */\n  constructor(options = {}) {\n    options = { ..._NoiseFilter.defaultOptions, ...options };\n    const gpuProgram = GpuProgram.from({\n      vertex: {\n        source,\n        entryPoint: \"mainVertex\"\n      },\n      fragment: {\n        source,\n        entryPoint: \"mainFragment\"\n      }\n    });\n    const glProgram = GlProgram.from({\n      vertex,\n      fragment,\n      name: \"noise-filter\"\n    });\n    const { noise, seed, ...rest } = options;\n    super({\n      ...rest,\n      gpuProgram,\n      glProgram,\n      resources: {\n        noiseUniforms: new UniformGroup({\n          uNoise: { value: 1, type: \"f32\" },\n          uSeed: { value: 1, type: \"f32\" }\n        })\n      }\n    });\n    this.noise = noise;\n    this.seed = seed ?? Math.random();\n  }\n  /**\n   * The amount of noise to apply to the filtered content.\n   *\n   * This value controls the intensity of the random noise effect:\n   * - Values close to 0 produce subtle noise\n   * - Values around 0.5 produce moderate noise\n   * - Values close to 1 produce strong noise\n   * @default 0.5\n   * @example\n   * ```ts\n   * const noiseFilter = new NoiseFilter();\n   *\n   * // Set to subtle noise\n   * noiseFilter.noise = 0.2;\n   *\n   * // Set to maximum noise\n   * noiseFilter.noise = 1.0;\n   * ```\n   */\n  get noise() {\n    return this.resources.noiseUniforms.uniforms.uNoise;\n  }\n  set noise(value) {\n    this.resources.noiseUniforms.uniforms.uNoise = value;\n  }\n  /**\n   * The seed value used for random noise generation.\n   *\n   * This value determines the noise pattern:\n   * - Using the same seed will generate identical noise patterns\n   * - Different seeds produce different but consistent patterns\n   * - `Math.random()` can be used for random patterns\n   * @default Math.random()\n   * @example\n   * ```ts\n   * const noiseFilter = new NoiseFilter();\n   *\n   * // Use a fixed seed for consistent noise\n   * noiseFilter.seed = 12345;\n   *\n   * // Generate new random pattern\n   * noiseFilter.seed = Math.random();\n   * ```\n   */\n  get seed() {\n    return this.resources.noiseUniforms.uniforms.uSeed;\n  }\n  set seed(value) {\n    this.resources.noiseUniforms.uniforms.uSeed = value;\n  }\n};\n/**\n * The default configuration options for the NoiseFilter.\n *\n * These values will be used when no specific options are provided to the constructor.\n * You can override any of these values by passing your own options object.\n * @example\n * ```ts\n * NoiseFilter.defaultOptions.noise = 0.7; // Change default noise to 0.7\n * const filter = new NoiseFilter(); // Will use noise 0.7 by default\n * ```\n */\n_NoiseFilter.defaultOptions = {\n  noise: 0.5\n};\nlet NoiseFilter = _NoiseFilter;\n\nexport { NoiseFilter };\n//# sourceMappingURL=NoiseFilter.mjs.map\n","\"use strict\";\nfunction pointInTriangle(px, py, x1, y1, x2, y2, x3, y3) {\n  const v2x = x3 - x1;\n  const v2y = y3 - y1;\n  const v1x = x2 - x1;\n  const v1y = y2 - y1;\n  const v0x = px - x1;\n  const v0y = py - y1;\n  const dot00 = v2x * v2x + v2y * v2y;\n  const dot01 = v2x * v1x + v2y * v1y;\n  const dot02 = v2x * v0x + v2y * v0y;\n  const dot11 = v1x * v1x + v1y * v1y;\n  const dot12 = v1x * v0x + v1y * v0y;\n  const invDenom = 1 / (dot00 * dot11 - dot01 * dot01);\n  const u = (dot11 * dot02 - dot01 * dot12) * invDenom;\n  const v = (dot00 * dot12 - dot01 * dot02) * invDenom;\n  return u >= 0 && v >= 0 && u + v < 1;\n}\n\nexport { pointInTriangle };\n//# sourceMappingURL=pointInTriangle.mjs.map\n","import { squaredDistanceToLineSegment } from '../misc/squaredDistanceToLineSegment.mjs';\nimport { Rectangle } from './Rectangle.mjs';\n\n\"use strict\";\nclass Triangle {\n  /**\n   * @param x - The X coord of the first point.\n   * @param y - The Y coord of the first point.\n   * @param x2 - The X coord of the second point.\n   * @param y2 - The Y coord of the second point.\n   * @param x3 - The X coord of the third point.\n   * @param y3 - The Y coord of the third point.\n   */\n  constructor(x = 0, y = 0, x2 = 0, y2 = 0, x3 = 0, y3 = 0) {\n    /**\n     * The type of the object, mainly used to avoid `instanceof` checks\n     * @example\n     * ```ts\n     * // Check shape type\n     * const shape = new Triangle(0, 0, 100, 0, 50, 100);\n     * console.log(shape.type); // 'triangle'\n     *\n     * // Use in type guards\n     * if (shape.type === 'triangle') {\n     *     console.log(shape.x2, shape.y2);\n     * }\n     * ```\n     * @readonly\n     * @default 'triangle'\n     * @see {@link SHAPE_PRIMITIVE} For all shape types\n     */\n    this.type = \"triangle\";\n    this.x = x;\n    this.y = y;\n    this.x2 = x2;\n    this.y2 = y2;\n    this.x3 = x3;\n    this.y3 = y3;\n  }\n  /**\n   * Checks whether the x and y coordinates given are contained within this triangle\n   * @example\n   * ```ts\n   * // Basic containment check\n   * const triangle = new Triangle(0, 0, 100, 0, 50, 100);\n   * const isInside = triangle.contains(25, 25); // true\n   * ```\n   * @remarks\n   * - Uses barycentric coordinate system\n   * - Works with any triangle shape\n   * @param x - The X coordinate of the point to test\n   * @param y - The Y coordinate of the point to test\n   * @returns Whether the x/y coordinates are within this Triangle\n   * @see {@link Triangle.strokeContains} For checking stroke intersection\n   * @see {@link Triangle.getBounds} For getting containing rectangle\n   */\n  contains(x, y) {\n    const s = (this.x - this.x3) * (y - this.y3) - (this.y - this.y3) * (x - this.x3);\n    const t = (this.x2 - this.x) * (y - this.y) - (this.y2 - this.y) * (x - this.x);\n    if (s < 0 !== t < 0 && s !== 0 && t !== 0) {\n      return false;\n    }\n    const d = (this.x3 - this.x2) * (y - this.y2) - (this.y3 - this.y2) * (x - this.x2);\n    return d === 0 || d < 0 === s + t <= 0;\n  }\n  /**\n   * Checks whether the x and y coordinates given are contained within this triangle including the stroke.\n   * @example\n   * ```ts\n   * // Basic stroke check\n   * const triangle = new Triangle(0, 0, 100, 0, 50, 100);\n   * const isOnStroke = triangle.strokeContains(25, 25, 4); // 4px line width\n   *\n   * // Check with different alignments\n   * const innerStroke = triangle.strokeContains(25, 25, 4, 1);   // Inside\n   * const centerStroke = triangle.strokeContains(25, 25, 4, 0.5); // Centered\n   * const outerStroke = triangle.strokeContains(25, 25, 4, 0);   // Outside\n   * ```\n   * @param pointX - The X coordinate of the point to test\n   * @param pointY - The Y coordinate of the point to test\n   * @param strokeWidth - The width of the line to check\n   * @param _alignment - The alignment of the stroke (1 = inner, 0.5 = centered, 0 = outer)\n   * @returns Whether the x/y coordinates are within this triangle's stroke\n   * @see {@link Triangle.contains} For checking fill containment\n   * @see {@link Triangle.getBounds} For getting stroke bounds\n   */\n  strokeContains(pointX, pointY, strokeWidth, _alignment = 0.5) {\n    const halfStrokeWidth = strokeWidth / 2;\n    const halfStrokeWidthSquared = halfStrokeWidth * halfStrokeWidth;\n    const { x, x2, x3, y, y2, y3 } = this;\n    if (squaredDistanceToLineSegment(pointX, pointY, x, y, x2, y3) <= halfStrokeWidthSquared || squaredDistanceToLineSegment(pointX, pointY, x2, y2, x3, y3) <= halfStrokeWidthSquared || squaredDistanceToLineSegment(pointX, pointY, x3, y3, x, y) <= halfStrokeWidthSquared) {\n      return true;\n    }\n    return false;\n  }\n  /**\n   * Creates a clone of this Triangle\n   * @example\n   * ```ts\n   * // Basic cloning\n   * const original = new Triangle(0, 0, 100, 0, 50, 100);\n   * const copy = original.clone();\n   *\n   * // Clone and modify\n   * const modified = original.clone();\n   * modified.x3 = 75;\n   * modified.y3 = 150;\n   *\n   * // Verify independence\n   * console.log(original.y3);  // 100\n   * console.log(modified.y3);  // 150\n   * ```\n   * @returns A copy of the triangle\n   * @see {@link Triangle.copyFrom} For copying into existing triangle\n   * @see {@link Triangle.copyTo} For copying to another triangle\n   */\n  clone() {\n    const triangle = new Triangle(\n      this.x,\n      this.y,\n      this.x2,\n      this.y2,\n      this.x3,\n      this.y3\n    );\n    return triangle;\n  }\n  /**\n   * Copies another triangle to this one.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new Triangle(0, 0, 100, 0, 50, 100);\n   * const target = new Triangle();\n   * target.copyFrom(source);\n   *\n   * // Chain with other operations\n   * const triangle = new Triangle()\n   *     .copyFrom(source)\n   *     .getBounds(rect);\n   * ```\n   * @param triangle - The triangle to copy from\n   * @returns Returns itself\n   * @see {@link Triangle.copyTo} For copying to another triangle\n   * @see {@link Triangle.clone} For creating new triangle copy\n   */\n  copyFrom(triangle) {\n    this.x = triangle.x;\n    this.y = triangle.y;\n    this.x2 = triangle.x2;\n    this.y2 = triangle.y2;\n    this.x3 = triangle.x3;\n    this.y3 = triangle.y3;\n    return this;\n  }\n  /**\n   * Copies this triangle to another one.\n   * @example\n   * ```ts\n   * // Basic copying\n   * const source = new Triangle(0, 0, 100, 0, 50, 100);\n   * const target = new Triangle();\n   * source.copyTo(target);\n   *\n   * // Chain with other operations\n   * const result = source\n   *     .copyTo(new Triangle())\n   *     .getBounds();\n   * ```\n   * @remarks\n   * - Updates target triangle values\n   * - Copies all point coordinates\n   * - Returns target for chaining\n   * - More efficient than clone()\n   * @param triangle - The triangle to copy to\n   * @returns Returns given parameter\n   * @see {@link Triangle.copyFrom} For copying from another triangle\n   * @see {@link Triangle.clone} For creating new triangle copy\n   */\n  copyTo(triangle) {\n    triangle.copyFrom(this);\n    return triangle;\n  }\n  /**\n   * Returns the framing rectangle of the triangle as a Rectangle object\n   * @example\n   * ```ts\n   * // Basic bounds calculation\n   * const triangle = new Triangle(0, 0, 100, 0, 50, 100);\n   * const bounds = triangle.getBounds();\n   * // bounds: x=0, y=0, width=100, height=100\n   *\n   * // Reuse existing rectangle\n   * const rect = new Rectangle();\n   * triangle.getBounds(rect);\n   * ```\n   * @param out - Optional rectangle to store the result\n   * @returns The framing rectangle\n   * @see {@link Rectangle} For rectangle properties\n   * @see {@link Triangle.contains} For checking if a point is inside\n   */\n  getBounds(out) {\n    out || (out = new Rectangle());\n    const minX = Math.min(this.x, this.x2, this.x3);\n    const maxX = Math.max(this.x, this.x2, this.x3);\n    const minY = Math.min(this.y, this.y2, this.y3);\n    const maxY = Math.max(this.y, this.y2, this.y3);\n    out.x = minX;\n    out.y = minY;\n    out.width = maxX - minX;\n    out.height = maxY - minY;\n    return out;\n  }\n}\n\nexport { Triangle };\n//# sourceMappingURL=Triangle.mjs.map\n","var hsl = \"fn getLuminosity(c: vec3<f32>) -> f32 {\\n  return 0.3 * c.r + 0.59 * c.g + 0.11 * c.b;\\n}\\n\\nfn setLuminosity(c: vec3<f32>, lum: f32) -> vec3<f32> {\\n  let d: f32 = lum - getLuminosity(c);\\n  let newColor: vec3<f32> = c.rgb + vec3<f32>(d, d, d);\\n\\n  // clip back into legal range\\n  let newLum: f32 = getLuminosity(newColor);\\n  let cMin: f32 = min(newColor.r, min(newColor.g, newColor.b));\\n  let cMax: f32 = max(newColor.r, max(newColor.g, newColor.b));\\n\\n  let t1: f32 = newLum / (newLum - cMin);\\n  let t2: f32 = (1.0 - newLum) / (cMax - newLum);\\n\\n  let finalColor = mix(vec3<f32>(newLum, newLum, newLum), newColor, select(select(1.0, t2, cMax > 1.0), t1, cMin < 0.0));\\n\\n  return finalColor;\\n}\\n\\nfn getSaturation(c: vec3<f32>) -> f32 {\\n  return max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));\\n}\\n\\n// Set saturation if color components are sorted in ascending order.\\nfn setSaturationMinMidMax(cSorted: vec3<f32>, s: f32) -> vec3<f32> {\\n  var result: vec3<f32>;\\n  if (cSorted.z > cSorted.x) {\\n    let newY = (((cSorted.y - cSorted.x) * s) / (cSorted.z - cSorted.x));\\n    result = vec3<f32>(0.0, newY, s);\\n  } else {\\n    result = vec3<f32>(0.0, 0.0, 0.0);\\n  }\\n  return vec3<f32>(result.x, result.y, result.z);\\n}\\n\\nfn setSaturation(c: vec3<f32>, s: f32) -> vec3<f32> {\\n    var result: vec3<f32> = c;\\n\\n    if (c.r <= c.g && c.r <= c.b) {\\n        if (c.g <= c.b) {\\n            result = setSaturationMinMidMax(result, s);\\n        } else {\\n            var temp: vec3<f32> = vec3<f32>(result.r, result.b, result.g);\\n            temp = setSaturationMinMidMax(temp, s);\\n            result = vec3<f32>(temp.r, temp.b, temp.g);\\n        }\\n    } else if (c.g <= c.r && c.g <= c.b) {\\n        if (c.r <= c.b) {\\n            var temp: vec3<f32> = vec3<f32>(result.g, result.r, result.b);\\n            temp = setSaturationMinMidMax(temp, s);\\n            result = vec3<f32>(temp.g, temp.r, temp.b);\\n        } else {\\n            var temp: vec3<f32> = vec3<f32>(result.g, result.b, result.r);\\n            temp = setSaturationMinMidMax(temp, s);\\n            result = vec3<f32>(temp.g, temp.b, temp.r);\\n        }\\n    } else {\\n        if (c.r <= c.g) {\\n            var temp: vec3<f32> = vec3<f32>(result.b, result.r, result.g);\\n            temp = setSaturationMinMidMax(temp, s);\\n            result = vec3<f32>(temp.b, temp.r, temp.g);\\n        } else {\\n            var temp: vec3<f32> = vec3<f32>(result.b, result.g, result.r);\\n            temp = setSaturationMinMidMax(temp, s);\\n            result = vec3<f32>(temp.b, temp.g, temp.r);\\n        }\\n    }\\n\\n    return result;\\n}\";\n\nexport { hsl as default };\n//# sourceMappingURL=hsl.wgsl.mjs.map\n","import { Container } from '../scene/container/Container.mjs';\nimport { UPDATE_PRIORITY } from '../ticker/const.mjs';\nimport { Ticker } from '../ticker/Ticker.mjs';\n\n\"use strict\";\nconst _PrepareBase = class _PrepareBase {\n  /**\n   * @param {Renderer} renderer - A reference to the current renderer\n   */\n  constructor(renderer) {\n    /** called per frame by the ticker, defer processing to next tick */\n    this._tick = () => {\n      if (this._destroyed)\n        return;\n      this.timeout = setTimeout(this._processQueue, 0);\n    };\n    /** process the queue up to max item limit per frame */\n    this._processQueue = () => {\n      if (this._destroyed)\n        return;\n      const { queue } = this;\n      let itemsProcessed = 0;\n      while (queue.length && itemsProcessed < _PrepareBase.uploadsPerFrame) {\n        const queueItem = queue.shift();\n        this.uploadQueueItem(queueItem);\n        itemsProcessed++;\n      }\n      if (queue.length) {\n        Ticker.system.addOnce(this._tick, this, UPDATE_PRIORITY.UTILITY);\n      } else {\n        this._resolve();\n      }\n    };\n    this.renderer = renderer;\n    this.queue = [];\n    this.resolves = [];\n  }\n  /**\n   * Return a copy of the queue\n   * @returns {PrepareQueueItem[]} The queue\n   */\n  getQueue() {\n    return [...this.queue];\n  }\n  /**\n   * Add a textures or graphics resource to the queue\n   * @param {PrepareSourceItem | PrepareSourceItem[]} resource\n   */\n  add(resource) {\n    const resourceArray = Array.isArray(resource) ? resource : [resource];\n    for (const resourceItem of resourceArray) {\n      if (resourceItem instanceof Container) {\n        this._addContainer(resourceItem);\n      } else {\n        this.resolveQueueItem(resourceItem, this.queue);\n      }\n    }\n    return this;\n  }\n  /**\n   * Recursively add a container and its children to the queue\n   * @param {Container} container - The container to add to the queue\n   */\n  _addContainer(container) {\n    this.resolveQueueItem(container, this.queue);\n    for (const child of container.children) {\n      this._addContainer(child);\n    }\n  }\n  /**\n   * Upload all the textures and graphics to the GPU (optionally add more resources to the queue first)\n   * @param {PrepareSourceItem | PrepareSourceItem[] | undefined} resource\n   */\n  upload(resource) {\n    if (resource) {\n      this.add(resource);\n    }\n    return new Promise((resolve) => {\n      if (this.queue.length) {\n        this.resolves.push(resolve);\n        this.dedupeQueue();\n        Ticker.system.addOnce(this._tick, this, UPDATE_PRIORITY.UTILITY);\n      } else {\n        resolve();\n      }\n    });\n  }\n  /** eliminate duplicates before processing */\n  dedupeQueue() {\n    const hash = /* @__PURE__ */ Object.create(null);\n    let nextUnique = 0;\n    for (let i = 0; i < this.queue.length; i++) {\n      const current = this.queue[i];\n      if (!hash[current.uid]) {\n        hash[current.uid] = true;\n        this.queue[nextUnique++] = current;\n      }\n    }\n    this.queue.length = nextUnique;\n  }\n  destroy() {\n    this._destroyed = true;\n    clearTimeout(this.timeout);\n  }\n  /** Call all the resolve callbacks */\n  _resolve() {\n    const { resolves } = this;\n    const array = resolves.slice(0);\n    resolves.length = 0;\n    for (const resolve of array) {\n      resolve();\n    }\n  }\n};\n/** The number of uploads to process per frame */\n_PrepareBase.uploadsPerFrame = 4;\nlet PrepareBase = _PrepareBase;\n\nexport { PrepareBase };\n//# sourceMappingURL=PrepareBase.mjs.map\n","import { pointInTriangle } from '../../../maths/point/pointInTriangle.mjs';\nimport { Geometry } from '../../../rendering/renderers/shared/geometry/Geometry.mjs';\nimport { State } from '../../../rendering/renderers/shared/state/State.mjs';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture.mjs';\nimport { deprecation, v8_0_0 } from '../../../utils/logging/deprecation.mjs';\nimport { ViewContainer } from '../../view/ViewContainer.mjs';\nimport { MeshGeometry } from './MeshGeometry.mjs';\n\n\"use strict\";\nclass Mesh extends ViewContainer {\n  constructor(...args) {\n    let options = args[0];\n    if (options instanceof Geometry) {\n      deprecation(v8_0_0, \"Mesh: use new Mesh({ geometry, shader }) instead\");\n      options = {\n        geometry: options,\n        shader: args[1]\n      };\n      if (args[3]) {\n        deprecation(v8_0_0, \"Mesh: drawMode argument has been removed, use geometry.topology instead\");\n        options.geometry.topology = args[3];\n      }\n    }\n    const { geometry, shader, texture, roundPixels, state, ...rest } = options;\n    super({\n      label: \"Mesh\",\n      ...rest\n    });\n    /** @internal */\n    this.renderPipeId = \"mesh\";\n    /** @internal */\n    this._shader = null;\n    this.allowChildren = false;\n    this.shader = shader ?? null;\n    this.texture = texture ?? shader?.texture ?? Texture.WHITE;\n    this.state = state ?? State.for2d();\n    this._geometry = geometry;\n    this._geometry.on(\"update\", this.onViewUpdate, this);\n    this.roundPixels = roundPixels ?? false;\n  }\n  /** Alias for {@link Mesh#shader}. */\n  get material() {\n    deprecation(v8_0_0, \"mesh.material property has been removed, use mesh.shader instead\");\n    return this._shader;\n  }\n  /**\n   * Represents the vertex and fragment shaders that processes the geometry and runs on the GPU.\n   * Can be shared between multiple Mesh objects.\n   */\n  set shader(value) {\n    if (this._shader === value)\n      return;\n    this._shader = value;\n    this.onViewUpdate();\n  }\n  get shader() {\n    return this._shader;\n  }\n  /**\n   * Includes vertex positions, face indices, colors, UVs, and\n   * custom attributes within buffers, reducing the cost of passing all\n   * this data to the GPU. Can be shared between multiple Mesh objects.\n   */\n  set geometry(value) {\n    if (this._geometry === value)\n      return;\n    this._geometry?.off(\"update\", this.onViewUpdate, this);\n    value.on(\"update\", this.onViewUpdate, this);\n    this._geometry = value;\n    this.onViewUpdate();\n  }\n  get geometry() {\n    return this._geometry;\n  }\n  /** The texture that the Mesh uses. Null for non-MeshMaterial shaders */\n  set texture(value) {\n    value || (value = Texture.EMPTY);\n    const currentTexture = this._texture;\n    if (currentTexture === value)\n      return;\n    if (currentTexture && currentTexture.dynamic)\n      currentTexture.off(\"update\", this.onViewUpdate, this);\n    if (value.dynamic)\n      value.on(\"update\", this.onViewUpdate, this);\n    if (this.shader) {\n      this.shader.texture = value;\n    }\n    this._texture = value;\n    this.onViewUpdate();\n  }\n  get texture() {\n    return this._texture;\n  }\n  get batched() {\n    if (this._shader)\n      return false;\n    if ((this.state.data & 12) !== 0)\n      return false;\n    if (this._geometry instanceof MeshGeometry) {\n      if (this._geometry.batchMode === \"auto\") {\n        return this._geometry.positions.length / 2 <= 100;\n      }\n      return this._geometry.batchMode === \"batch\";\n    }\n    return false;\n  }\n  /**\n   * The local bounds of the mesh.\n   * @type {Bounds}\n   */\n  get bounds() {\n    return this._geometry.bounds;\n  }\n  /**\n   * Update local bounds of the mesh.\n   * @private\n   */\n  updateBounds() {\n    this._bounds = this._geometry.bounds;\n  }\n  /**\n   * Checks if the object contains the given point.\n   * @param point - The point to check\n   */\n  containsPoint(point) {\n    const { x, y } = point;\n    if (!this.bounds.containsPoint(x, y))\n      return false;\n    const vertices = this.geometry.getBuffer(\"aPosition\").data;\n    const step = this.geometry.topology === \"triangle-strip\" ? 3 : 1;\n    if (this.geometry.getIndex()) {\n      const indices = this.geometry.getIndex().data;\n      const len = indices.length;\n      for (let i = 0; i + 2 < len; i += step) {\n        const ind0 = indices[i] * 2;\n        const ind1 = indices[i + 1] * 2;\n        const ind2 = indices[i + 2] * 2;\n        if (pointInTriangle(\n          x,\n          y,\n          vertices[ind0],\n          vertices[ind0 + 1],\n          vertices[ind1],\n          vertices[ind1 + 1],\n          vertices[ind2],\n          vertices[ind2 + 1]\n        )) {\n          return true;\n        }\n      }\n    } else {\n      const len = vertices.length / 2;\n      for (let i = 0; i + 2 < len; i += step) {\n        const ind0 = i * 2;\n        const ind1 = (i + 1) * 2;\n        const ind2 = (i + 2) * 2;\n        if (pointInTriangle(\n          x,\n          y,\n          vertices[ind0],\n          vertices[ind0 + 1],\n          vertices[ind1],\n          vertices[ind1 + 1],\n          vertices[ind2],\n          vertices[ind2 + 1]\n        )) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  /**\n   * Destroys this sprite renderable and optionally its texture.\n   * @param options - Options parameter. A boolean will act as if all options\n   *  have been set to that value\n   * @example\n   * mesh.destroy();\n   * mesh.destroy(true);\n   * mesh.destroy({ texture: true, textureSource: true });\n   */\n  destroy(options) {\n    super.destroy(options);\n    const destroyTexture = typeof options === \"boolean\" ? options : options?.texture;\n    if (destroyTexture) {\n      const destroyTextureSource = typeof options === \"boolean\" ? options : options?.textureSource;\n      this._texture.destroy(destroyTextureSource);\n    }\n    this._geometry?.off(\"update\", this.onViewUpdate, this);\n    this._texture = null;\n    this._geometry = null;\n    this._shader = null;\n    this._gpuData = null;\n  }\n}\n\nexport { Mesh };\n//# sourceMappingURL=Mesh.mjs.map\n","import { Texture } from '../../rendering/renderers/shared/texture/Texture.mjs';\nimport { UPDATE_PRIORITY } from '../../ticker/const.mjs';\nimport { Ticker } from '../../ticker/Ticker.mjs';\nimport { Sprite } from '../sprite/Sprite.mjs';\n\n\"use strict\";\nclass AnimatedSprite extends Sprite {\n  constructor(...args) {\n    let options = args[0];\n    if (Array.isArray(args[0])) {\n      options = {\n        textures: args[0],\n        autoUpdate: args[1]\n      };\n    }\n    const {\n      animationSpeed = 1,\n      autoPlay = false,\n      autoUpdate = true,\n      loop = true,\n      onComplete = null,\n      onFrameChange = null,\n      onLoop = null,\n      textures,\n      updateAnchor = false,\n      ...rest\n    } = options;\n    const [firstFrame] = textures;\n    super({\n      ...rest,\n      texture: firstFrame instanceof Texture ? firstFrame : firstFrame.texture\n    });\n    this._textures = null;\n    this._durations = null;\n    this._autoUpdate = autoUpdate;\n    this._isConnectedToTicker = false;\n    this.animationSpeed = animationSpeed;\n    this.loop = loop;\n    this.updateAnchor = updateAnchor;\n    this.onComplete = onComplete;\n    this.onFrameChange = onFrameChange;\n    this.onLoop = onLoop;\n    this._currentTime = 0;\n    this._playing = false;\n    this._previousFrame = null;\n    this.textures = textures;\n    if (autoPlay) {\n      this.play();\n    }\n  }\n  /**\n   * Stops the animation playback and freezes the current frame.\n   * Does not reset the current frame or animation progress.\n   * @example\n   * ```ts\n   * // Create an animated sprite\n   * const sprite = new AnimatedSprite({\n   *     textures: [\n   *         Texture.from('walk1.png'),\n   *         Texture.from('walk2.png'),\n   *         Texture.from('walk3.png')\n   *     ],\n   *     autoPlay: true\n   * });\n   *\n   * // Stop at current frame\n   * sprite.stop();\n   *\n   * // Stop at specific frame\n   * sprite.gotoAndStop(1); // Stops at second frame\n   *\n   * // Stop and reset\n   * sprite.stop();\n   * sprite.currentFrame = 0;\n   *\n   * // Stop with completion check\n   * if (sprite.playing) {\n   *     sprite.stop();\n   *     sprite.onComplete?.();\n   * }\n   * ```\n   * @see {@link AnimatedSprite#play} For starting playback\n   * @see {@link AnimatedSprite#gotoAndStop} For stopping at a specific frame\n   * @see {@link AnimatedSprite#playing} For checking play state\n   */\n  stop() {\n    if (!this._playing) {\n      return;\n    }\n    this._playing = false;\n    if (this._autoUpdate && this._isConnectedToTicker) {\n      Ticker.shared.remove(this.update, this);\n      this._isConnectedToTicker = false;\n    }\n  }\n  /**\n   * Starts or resumes the animation playback.\n   * If the animation was previously stopped, it will continue from where it left off.\n   * @example\n   * ```ts\n   * // Basic playback\n   * const sprite = new AnimatedSprite({\n   *     textures: [\n   *         Texture.from('walk1.png'),\n   *         Texture.from('walk2.png'),\n   *     ],\n   *     autoPlay: false\n   * });\n   * sprite.play();\n   *\n   * // Play after stopping\n   * sprite.stop();\n   * sprite.currentFrame = 0; // Reset to start\n   * sprite.play(); // Play from beginning\n   *\n   * // Play with auto-update disabled\n   * sprite.autoUpdate = false;\n   * sprite.play();\n   * app.ticker.add(() => {\n   *     sprite.update(app.ticker); // Manual updates\n   * });\n   * ```\n   * @see {@link AnimatedSprite#stop} For stopping playback\n   * @see {@link AnimatedSprite#gotoAndPlay} For playing from a specific frame\n   * @see {@link AnimatedSprite#playing} For checking play state\n   */\n  play() {\n    if (this._playing) {\n      return;\n    }\n    this._playing = true;\n    if (this._autoUpdate && !this._isConnectedToTicker) {\n      Ticker.shared.add(this.update, this, UPDATE_PRIORITY.HIGH);\n      this._isConnectedToTicker = true;\n    }\n  }\n  /**\n   * Stops the AnimatedSprite and sets it to a specific frame.\n   * @example\n   * ```ts\n   * // Create an animated sprite\n   * const sprite = new AnimatedSprite({\n   *     textures: [\n   *         Texture.from('walk1.png'),\n   *         Texture.from('walk2.png'),\n   *         Texture.from('walk3.png'),\n   *     ]\n   * });\n   *\n   * // Go to specific frames\n   * sprite.gotoAndStop(0);  // First frame\n   * sprite.gotoAndStop(2);  // Third frame\n   *\n   * // Jump to last frame\n   * sprite.gotoAndStop(sprite.totalFrames - 1);\n   * ```\n   * @param frameNumber - Frame index to stop at (0-based)\n   * @throws {Error} If frameNumber is out of bounds\n   * @see {@link AnimatedSprite#gotoAndPlay} For going to a frame and playing\n   * @see {@link AnimatedSprite#currentFrame} For getting/setting current frame\n   * @see {@link AnimatedSprite#totalFrames} For total number of frames\n   */\n  gotoAndStop(frameNumber) {\n    this.stop();\n    this.currentFrame = frameNumber;\n  }\n  /**\n   * Goes to a specific frame and begins playing the AnimatedSprite from that point.\n   * Combines frame navigation and playback start in one operation.\n   * @example\n   * ```ts\n   * // Start from specific frame\n   * sprite.gotoAndPlay(1); // Starts playing from second frame\n   * ```\n   * @param frameNumber - Frame index to start playing from (0-based)\n   * @throws {Error} If frameNumber is out of bounds\n   * @see {@link AnimatedSprite#gotoAndStop} For going to a frame without playing\n   * @see {@link AnimatedSprite#play} For playing from current frame\n   * @see {@link AnimatedSprite#currentFrame} For getting/setting current frame\n   */\n  gotoAndPlay(frameNumber) {\n    this.currentFrame = frameNumber;\n    this.play();\n  }\n  /**\n   * Updates the object transform for rendering. This method handles animation timing, frame updates,\n   * and manages looping behavior.\n   * @example\n   * ```ts\n   * // Create an animated sprite with manual updates\n   * const sprite = new AnimatedSprite({\n   *     textures: [\n   *         Texture.from('frame1.png'),\n   *         Texture.from('frame2.png'),\n   *         Texture.from('frame3.png')\n   *     ],\n   *     autoUpdate: false // Disable automatic updates\n   * });\n   *\n   * // Manual update with app ticker\n   * app.ticker.add((ticker) => {\n   *     sprite.update(ticker);\n   * });\n   * ```\n   * @param ticker - The ticker to use for updating the animation timing\n   * @see {@link AnimatedSprite#autoUpdate} For controlling automatic updates\n   * @see {@link AnimatedSprite#animationSpeed} For controlling animation speed\n   * @see {@link Ticker} For timing system details\n   */\n  update(ticker) {\n    if (!this._playing) {\n      return;\n    }\n    const deltaTime = ticker.deltaTime;\n    const elapsed = this.animationSpeed * deltaTime;\n    const previousFrame = this.currentFrame;\n    if (this._durations !== null) {\n      let lag = this._currentTime % 1 * this._durations[this.currentFrame];\n      lag += elapsed / 60 * 1e3;\n      while (lag < 0) {\n        this._currentTime--;\n        lag += this._durations[this.currentFrame];\n      }\n      const sign = Math.sign(this.animationSpeed * deltaTime);\n      this._currentTime = Math.floor(this._currentTime);\n      while (lag >= this._durations[this.currentFrame]) {\n        lag -= this._durations[this.currentFrame] * sign;\n        this._currentTime += sign;\n      }\n      this._currentTime += lag / this._durations[this.currentFrame];\n    } else {\n      this._currentTime += elapsed;\n    }\n    if (this._currentTime < 0 && !this.loop) {\n      this.gotoAndStop(0);\n      if (this.onComplete) {\n        this.onComplete();\n      }\n    } else if (this._currentTime >= this._textures.length && !this.loop) {\n      this.gotoAndStop(this._textures.length - 1);\n      if (this.onComplete) {\n        this.onComplete();\n      }\n    } else if (previousFrame !== this.currentFrame) {\n      if (this.loop && this.onLoop) {\n        if (this.animationSpeed > 0 && this.currentFrame < previousFrame || this.animationSpeed < 0 && this.currentFrame > previousFrame) {\n          this.onLoop();\n        }\n      }\n      this._updateTexture();\n    }\n  }\n  /** Updates the displayed texture to match the current frame index. */\n  _updateTexture() {\n    const currentFrame = this.currentFrame;\n    if (this._previousFrame === currentFrame) {\n      return;\n    }\n    this._previousFrame = currentFrame;\n    this.texture = this._textures[currentFrame];\n    if (this.updateAnchor && this.texture.defaultAnchor) {\n      this.anchor.copyFrom(this.texture.defaultAnchor);\n    }\n    if (this.onFrameChange) {\n      this.onFrameChange(this.currentFrame);\n    }\n  }\n  /**\n   * Stops the AnimatedSprite and destroys it.\n   * This method stops the animation playback, removes it from the ticker,\n   * and cleans up any resources associated with the sprite.\n   * @param options - Options for destroying the sprite, such as whether to remove from parent\n   * @example\n   * ```ts\n   * // Destroy the sprite when done\n   * sprite.destroy();\n   * // Or with options\n   * sprite.destroy({ children: true, texture: true, textureSource: true });\n   * ```\n   */\n  destroy(options = false) {\n    const destroyTexture = typeof options === \"boolean\" ? options : options?.texture;\n    if (destroyTexture) {\n      const destroyTextureSource = typeof options === \"boolean\" ? options : options?.textureSource;\n      this._textures.forEach((texture) => {\n        if (this.texture !== texture) {\n          texture.destroy(destroyTextureSource);\n        }\n      });\n    }\n    this._textures = [];\n    this._durations = null;\n    this.stop();\n    super.destroy(options);\n    this.onComplete = null;\n    this.onFrameChange = null;\n    this.onLoop = null;\n  }\n  /**\n   * A short hand way of creating an AnimatedSprite from an array of frame ids.\n   * Uses texture frames from the cache to create an animation sequence.\n   * @example\n   * ```ts\n   * // Create from frame IDs\n   * const frameIds = [\n   *     'walk_001.png',\n   *     'walk_002.png',\n   *     'walk_003.png'\n   * ];\n   *\n   * const walkingAnimation = AnimatedSprite.fromFrames(frameIds);\n   * walkingAnimation.play();\n   * ```\n   * @param frames - The array of frame ids to use for the animation\n   * @returns A new animated sprite using the frames\n   * @see {@link Texture.from} For texture creation from frames\n   * @see {@link Spritesheet} For loading spritesheets\n   */\n  static fromFrames(frames) {\n    const textures = [];\n    for (let i = 0; i < frames.length; ++i) {\n      textures.push(Texture.from(frames[i]));\n    }\n    return new AnimatedSprite(textures);\n  }\n  /**\n   * A short hand way of creating an AnimatedSprite from an array of image urls.\n   * Each image will be used as a frame in the animation.\n   * @example\n   * ```ts\n   * // Create from image URLs\n   * const images = [\n   *     'assets/walk1.png',\n   *     'assets/walk2.png',\n   *     'assets/walk3.png'\n   * ];\n   *\n   * const walkingSprite = AnimatedSprite.fromImages(images);\n   * walkingSprite.play();\n   * ```\n   * @param images - The array of image urls to use as frames\n   * @returns A new animated sprite using the images as frames\n   * @see {@link Assets} For asset loading and management\n   * @see {@link Texture.from} For texture creation from images\n   */\n  static fromImages(images) {\n    const textures = [];\n    for (let i = 0; i < images.length; ++i) {\n      textures.push(Texture.from(images[i]));\n    }\n    return new AnimatedSprite(textures);\n  }\n  /**\n   * The total number of frames in the AnimatedSprite. This is the same as number of textures\n   * assigned to the AnimatedSprite.\n   * @example\n   * ```ts\n   * // Create an animated sprite\n   * const sprite = new AnimatedSprite({\n   *     textures: [\n   *         Texture.from('frame1.png'),\n   *         Texture.from('frame2.png'),\n   *         Texture.from('frame3.png')\n   *     ]\n   * });\n   *\n   * // Get total frames\n   * console.log(sprite.totalFrames); // Outputs: 3\n   *\n   * // Use with frame navigation\n   * sprite.gotoAndStop(sprite.totalFrames - 1); // Go to last frame\n   * ```\n   * @readonly\n   * @see {@link AnimatedSprite#currentFrame} For the current frame index\n   * @see {@link AnimatedSprite#textures} For the array of textures\n   * @returns {number} The total number of frames\n   */\n  get totalFrames() {\n    return this._textures.length;\n  }\n  /**\n   * The array of textures or frame objects used for the animation sequence.\n   * Can be set to either an array of Textures or an array of FrameObjects with custom timing.\n   * @example\n   * ```ts\n   * // Update textures at runtime\n   * sprite.textures = [\n   *     Texture.from('run1.png'),\n   *     Texture.from('run2.png')\n   * ];\n   *\n   * // Use custom frame timing\n   * sprite.textures = [\n   *     { texture: Texture.from('explosion1.png'), time: 100 },\n   *     { texture: Texture.from('explosion2.png'), time: 200 },\n   *     { texture: Texture.from('explosion3.png'), time: 300 }\n   * ];\n   *\n   * // Use with spritesheet\n   * const sheet = await Assets.load('animations.json');\n   * sprite.textures = sheet.animations['walk'];\n   * ```\n   * @type {AnimatedSpriteFrames}\n   * @see {@link FrameObject} For frame timing options\n   * @see {@link Spritesheet} For loading from spritesheets\n   */\n  get textures() {\n    return this._textures;\n  }\n  set textures(value) {\n    if (value[0] instanceof Texture) {\n      this._textures = value;\n      this._durations = null;\n    } else {\n      this._textures = [];\n      this._durations = [];\n      for (let i = 0; i < value.length; i++) {\n        this._textures.push(value[i].texture);\n        this._durations.push(value[i].time);\n      }\n    }\n    this._previousFrame = null;\n    this.gotoAndStop(0);\n    this._updateTexture();\n  }\n  /**\n   * Gets or sets the current frame index of the animation.\n   * When setting, the value will be clamped between 0 and totalFrames - 1.\n   * @example\n   * ```ts\n   * // Create an animated sprite\n   * const sprite = new AnimatedSprite({\n   *     textures: [\n   *         Texture.from('walk1.png'),\n   *         Texture.from('walk2.png'),\n   *         Texture.from('walk3.png')\n   *     ]\n   * });\n   *\n   * // Get current frame\n   * console.log(sprite.currentFrame); // 0\n   *\n   * // Set specific frame\n   * sprite.currentFrame = 1; // Show second frame\n   *\n   * // Use with frame callbacks\n   * sprite.onFrameChange = (frame) => {\n   *     console.log(`Now showing frame: ${frame}`);\n   * };\n   * sprite.currentFrame = 2;\n   * ```\n   * @throws {Error} If attempting to set a frame index out of bounds\n   * @see {@link AnimatedSprite#totalFrames} For the total number of frames\n   * @see {@link AnimatedSprite#gotoAndPlay} For playing from a specific frame\n   * @see {@link AnimatedSprite#gotoAndStop} For stopping at a specific frame\n   */\n  get currentFrame() {\n    let currentFrame = Math.floor(this._currentTime) % this._textures.length;\n    if (currentFrame < 0) {\n      currentFrame += this._textures.length;\n    }\n    return currentFrame;\n  }\n  set currentFrame(value) {\n    if (value < 0 || value > this.totalFrames - 1) {\n      throw new Error(`[AnimatedSprite]: Invalid frame index value ${value}, expected to be between 0 and totalFrames ${this.totalFrames}.`);\n    }\n    const previousFrame = this.currentFrame;\n    this._currentTime = value;\n    if (previousFrame !== this.currentFrame) {\n      this._updateTexture();\n    }\n  }\n  /**\n   * Indicates if the AnimatedSprite is currently playing.\n   * This is a read-only property that reflects the current playback state.\n   * @example\n   * ```ts\n   * // Check if animation is playing\n   * console.log('Playing:', sprite.playing); // true\n   *\n   * // Use with play control\n   * if (!sprite.playing) {\n   *     sprite.play();\n   * }\n   * ```\n   * @readonly\n   * @returns {boolean} True if the animation is currently playing\n   * @see {@link AnimatedSprite#play} For starting playback\n   * @see {@link AnimatedSprite#stop} For stopping playback\n   * @see {@link AnimatedSprite#loop} For controlling looping behavior\n   */\n  get playing() {\n    return this._playing;\n  }\n  /**\n   * Controls whether the animation automatically updates using the shared ticker.\n   * When enabled, the animation will update on each frame. When disabled, you must\n   * manually call update() to advance the animation.\n   * @example\n   * ```ts\n   * // Create sprite with auto-update disabled\n   * const sprite = new AnimatedSprite({\n   *     textures: [],\n   *     autoUpdate: false\n   * });\n   *\n   * // Manual update with app ticker\n   * app.ticker.add((ticker) => {\n   *     sprite.update(ticker);\n   * });\n   *\n   * // Enable auto-update later\n   * sprite.autoUpdate = true;\n   * ```\n   * @default true\n   * @see {@link AnimatedSprite#update} For manual animation updates\n   * @see {@link Ticker} For the timing system\n   */\n  get autoUpdate() {\n    return this._autoUpdate;\n  }\n  set autoUpdate(value) {\n    if (value !== this._autoUpdate) {\n      this._autoUpdate = value;\n      if (!this._autoUpdate && this._isConnectedToTicker) {\n        Ticker.shared.remove(this.update, this);\n        this._isConnectedToTicker = false;\n      } else if (this._autoUpdate && !this._isConnectedToTicker && this._playing) {\n        Ticker.shared.add(this.update, this);\n        this._isConnectedToTicker = true;\n      }\n    }\n  }\n}\n\nexport { AnimatedSprite };\n//# sourceMappingURL=AnimatedSprite.mjs.map\n","import { Matrix } from '../../maths/matrix/Matrix.mjs';\nimport { ObservablePoint } from '../../maths/point/ObservablePoint.mjs';\n\n\"use strict\";\nclass Transform {\n  /**\n   * @param options - Options for the transform.\n   * @param options.matrix - The matrix to use.\n   * @param options.observer - The observer to use.\n   */\n  constructor({ matrix, observer } = {}) {\n    this.dirty = true;\n    this._matrix = matrix ?? new Matrix();\n    this.observer = observer;\n    this.position = new ObservablePoint(this, 0, 0);\n    this.scale = new ObservablePoint(this, 1, 1);\n    this.pivot = new ObservablePoint(this, 0, 0);\n    this.skew = new ObservablePoint(this, 0, 0);\n    this._rotation = 0;\n    this._cx = 1;\n    this._sx = 0;\n    this._cy = 0;\n    this._sy = 1;\n  }\n  /**\n   * The transformation matrix computed from the transform's properties.\n   * Combines position, scale, rotation, skew, and pivot into a single matrix.\n   * @example\n   * ```ts\n   * // Get current matrix\n   * const matrix = transform.matrix;\n   * console.log(matrix.toString());\n   * ```\n   * @readonly\n   * @see {@link Matrix} For matrix operations\n   * @see {@link Transform.setFromMatrix} For setting transform from matrix\n   */\n  get matrix() {\n    const lt = this._matrix;\n    if (!this.dirty)\n      return lt;\n    lt.a = this._cx * this.scale.x;\n    lt.b = this._sx * this.scale.x;\n    lt.c = this._cy * this.scale.y;\n    lt.d = this._sy * this.scale.y;\n    lt.tx = this.position.x - (this.pivot.x * lt.a + this.pivot.y * lt.c);\n    lt.ty = this.position.y - (this.pivot.x * lt.b + this.pivot.y * lt.d);\n    this.dirty = false;\n    return lt;\n  }\n  /**\n   * Called when a value changes.\n   * @param point\n   * @internal\n   */\n  _onUpdate(point) {\n    this.dirty = true;\n    if (point === this.skew) {\n      this.updateSkew();\n    }\n    this.observer?._onUpdate(this);\n  }\n  /** Called when the skew or the rotation changes. */\n  updateSkew() {\n    this._cx = Math.cos(this._rotation + this.skew.y);\n    this._sx = Math.sin(this._rotation + this.skew.y);\n    this._cy = -Math.sin(this._rotation - this.skew.x);\n    this._sy = Math.cos(this._rotation - this.skew.x);\n    this.dirty = true;\n  }\n  toString() {\n    return `[pixi.js/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`;\n  }\n  /**\n   * Decomposes a matrix and sets the transforms properties based on it.\n   * @example\n   * ```ts\n   * // Basic matrix decomposition\n   * const transform = new Transform();\n   * const matrix = new Matrix()\n   *     .translate(100, 100)\n   *     .rotate(Math.PI / 4)\n   *     .scale(2, 2);\n   *\n   * transform.setFromMatrix(matrix);\n   * console.log(transform.position.x); // 100\n   * console.log(transform.rotation); // ~0.785 (/4)\n   * ```\n   * @param matrix - The matrix to decompose\n   * @see {@link Matrix#decompose} For the decomposition logic\n   * @see {@link Transform#matrix} For getting the current matrix\n   */\n  setFromMatrix(matrix) {\n    matrix.decompose(this);\n    this.dirty = true;\n  }\n  /**\n   * The rotation of the object in radians.\n   * @example\n   * ```ts\n   * // Basic rotation\n   * transform.rotation = Math.PI / 4; // 45 degrees\n   *\n   * // Rotate around pivot point\n   * transform.pivot.set(50, 50);\n   * transform.rotation = Math.PI; // 180 degrees around pivot\n   *\n   * // Animate rotation\n   * app.ticker.add(() => {\n   *     transform.rotation += 0.1;\n   * });\n   * ```\n   * @see {@link Transform#pivot} For rotation point\n   * @see {@link Transform#skew} For skew effects\n   */\n  get rotation() {\n    return this._rotation;\n  }\n  set rotation(value) {\n    if (this._rotation !== value) {\n      this._rotation = value;\n      this._onUpdate(this.skew);\n    }\n  }\n}\n\nexport { Transform };\n//# sourceMappingURL=Transform.mjs.map\n","import { Cache } from '../../assets/cache/Cache.mjs';\nimport { ObservablePoint } from '../../maths/point/ObservablePoint.mjs';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture.mjs';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation.mjs';\nimport { Transform } from '../../utils/misc/Transform.mjs';\nimport { ViewContainer } from '../view/ViewContainer.mjs';\n\n\"use strict\";\nconst _TilingSprite = class _TilingSprite extends ViewContainer {\n  constructor(...args) {\n    let options = args[0] || {};\n    if (options instanceof Texture) {\n      options = { texture: options };\n    }\n    if (args.length > 1) {\n      deprecation(v8_0_0, \"use new TilingSprite({ texture, width:100, height:100 }) instead\");\n      options.width = args[1];\n      options.height = args[2];\n    }\n    options = { ..._TilingSprite.defaultOptions, ...options };\n    const {\n      texture,\n      anchor,\n      tilePosition,\n      tileScale,\n      tileRotation,\n      width,\n      height,\n      applyAnchorToTexture,\n      roundPixels,\n      ...rest\n    } = options ?? {};\n    super({\n      label: \"TilingSprite\",\n      ...rest\n    });\n    /** @internal */\n    this.renderPipeId = \"tilingSprite\";\n    /** @advanced */\n    this.batched = true;\n    this.allowChildren = false;\n    this._anchor = new ObservablePoint(\n      {\n        _onUpdate: () => {\n          this.onViewUpdate();\n        }\n      }\n    );\n    this.applyAnchorToTexture = applyAnchorToTexture;\n    this.texture = texture;\n    this._width = width ?? texture.width;\n    this._height = height ?? texture.height;\n    this._tileTransform = new Transform({\n      observer: {\n        _onUpdate: () => this.onViewUpdate()\n      }\n    });\n    if (anchor)\n      this.anchor = anchor;\n    this.tilePosition = tilePosition;\n    this.tileScale = tileScale;\n    this.tileRotation = tileRotation;\n    this.roundPixels = roundPixels ?? false;\n  }\n  /**\n   * Creates a new tiling sprite based on a source texture or image path.\n   * This is a convenience method that automatically creates and manages textures.\n   * @example\n   * ```ts\n   * // Create a new tiling sprite from an image path\n   * const pattern = TilingSprite.from('pattern.png');\n   * pattern.width = 300; // Set the width of the tiling area\n   * pattern.height = 200; // Set the height of the tiling area\n   *\n   * // Create from options\n   * const texture = Texture.from('pattern.png');\n   * const pattern = TilingSprite.from(texture, {\n   *     width: 300,\n   *     height: 200,\n   *     tileScale: { x: 0.5, y: 0.5 }\n   * });\n   * ```\n   * @param source - The source to create the sprite from. Can be a path to an image or a texture\n   * @param options - Additional options for the tiling sprite\n   * @returns A new tiling sprite based on the source\n   * @see {@link Texture.from} For texture creation details\n   * @see {@link Assets} For asset loading and management\n   */\n  static from(source, options = {}) {\n    if (typeof source === \"string\") {\n      return new _TilingSprite({\n        texture: Cache.get(source),\n        ...options\n      });\n    }\n    return new _TilingSprite({\n      texture: source,\n      ...options\n    });\n  }\n  /**\n   * @see {@link TilingSpriteOptions.applyAnchorToTexture}\n   * @deprecated since 8.0.0\n   * @advanced\n   */\n  get uvRespectAnchor() {\n    deprecation(v8_0_0, \"uvRespectAnchor is deprecated, please use applyAnchorToTexture instead\");\n    return this.applyAnchorToTexture;\n  }\n  /** @advanced */\n  set uvRespectAnchor(value) {\n    deprecation(v8_0_0, \"uvRespectAnchor is deprecated, please use applyAnchorToTexture instead\");\n    this.applyAnchorToTexture = value;\n  }\n  /**\n   * Changes frame clamping in corresponding textureMatrix\n   * Change to -0.5 to add a pixel to the edge, recommended for transparent trimmed textures in atlas\n   * @default 0.5\n   * @type {number}\n   * @advanced\n   */\n  get clampMargin() {\n    return this._texture.textureMatrix.clampMargin;\n  }\n  /** @advanced */\n  set clampMargin(value) {\n    this._texture.textureMatrix.clampMargin = value;\n  }\n  /**\n   * The anchor sets the origin point of the sprite. The default value is taken from the {@link Texture}\n   * and passed to the constructor.\n   *\n   * - The default is `(0,0)`, this means the sprite's origin is the top left.\n   * - Setting the anchor to `(0.5,0.5)` means the sprite's origin is centered.\n   * - Setting the anchor to `(1,1)` would mean the sprite's origin point will be the bottom right corner.\n   *\n   * If you pass only single parameter, it will set both x and y to the same value as shown in the example below.\n   * @example\n   * ```ts\n   * // Center the anchor point\n   * sprite.anchor = 0.5; // Sets both x and y to 0.5\n   * sprite.position.set(400, 300); // Sprite will be centered at this position\n   *\n   * // Set specific x/y anchor points\n   * sprite.anchor = {\n   *     x: 1, // Right edge\n   *     y: 0  // Top edge\n   * };\n   *\n   * // Using individual coordinates\n   * sprite.anchor.set(0.5, 1); // Center-bottom\n   *\n   * // For rotation around center\n   * sprite.anchor.set(0.5);\n   * sprite.rotation = Math.PI / 4; // 45 degrees around center\n   *\n   * // For scaling from center\n   * sprite.anchor.set(0.5);\n   * sprite.scale.set(2); // Scales from center point\n   * ```\n   */\n  get anchor() {\n    return this._anchor;\n  }\n  set anchor(value) {\n    typeof value === \"number\" ? this._anchor.set(value) : this._anchor.copyFrom(value);\n  }\n  /**\n   * The offset of the tiling texture.\n   * Used to scroll or position the repeated pattern.\n   * @example\n   * ```ts\n   * // Offset the tiling pattern by 100 pixels in both x and y directions\n   * tilingSprite.tilePosition = { x: 100, y: 100 };\n   * ```\n   * @default {x: 0, y: 0}\n   */\n  get tilePosition() {\n    return this._tileTransform.position;\n  }\n  set tilePosition(value) {\n    this._tileTransform.position.copyFrom(value);\n  }\n  /**\n   * Scale of the tiling texture.\n   * Affects the size of each repeated instance of the texture.\n   * @example\n   * ```ts\n   * // Scale the texture by 1.5 in both x and y directions\n   * tilingSprite.tileScale = { x: 1.5, y: 1.5 };\n   * ```\n   * @default {x: 1, y: 1}\n   */\n  get tileScale() {\n    return this._tileTransform.scale;\n  }\n  set tileScale(value) {\n    typeof value === \"number\" ? this._tileTransform.scale.set(value) : this._tileTransform.scale.copyFrom(value);\n  }\n  set tileRotation(value) {\n    this._tileTransform.rotation = value;\n  }\n  /**\n   * Rotation of the tiling texture in radians.\n   * This controls the rotation applied to the texture before tiling.\n   * @example\n   * ```ts\n   * // Rotate the texture by 45 degrees (in radians)\n   * tilingSprite.tileRotation = Math.PI / 4; // 45 degrees\n   * ```\n   * @default 0\n   */\n  get tileRotation() {\n    return this._tileTransform.rotation;\n  }\n  /**\n   * The transform object that controls the tiling texture's position, scale, and rotation.\n   * This transform is independent of the sprite's own transform properties.\n   * @example\n   * ```ts\n   * // Access transform properties directly\n   * sprite.tileTransform.position.set(100, 50);\n   * sprite.tileTransform.scale.set(2);\n   * sprite.tileTransform.rotation = Math.PI / 4;\n   *\n   * // Create smooth scrolling animation\n   * app.ticker.add(() => {\n   *     sprite.tileTransform.position.x += 1;\n   *     sprite.tileTransform.rotation += 0.01;\n   * });\n   *\n   * // Reset transform\n   * sprite.tileTransform.position.set(0);\n   * sprite.tileTransform.scale.set(1);\n   * sprite.tileTransform.rotation = 0;\n   * ```\n   * @returns {Transform} The transform object for the tiling texture\n   * @see {@link Transform} For transform operations\n   * @see {@link TilingSprite#tilePosition} For position control\n   * @see {@link TilingSprite#tileScale} For scale control\n   * @see {@link TilingSprite#tileRotation} For rotation control\n   * @advanced\n   */\n  get tileTransform() {\n    return this._tileTransform;\n  }\n  set texture(value) {\n    value || (value = Texture.EMPTY);\n    const currentTexture = this._texture;\n    if (currentTexture === value)\n      return;\n    if (currentTexture && currentTexture.dynamic)\n      currentTexture.off(\"update\", this.onViewUpdate, this);\n    if (value.dynamic)\n      value.on(\"update\", this.onViewUpdate, this);\n    this._texture = value;\n    this.onViewUpdate();\n  }\n  /**\n   * The texture to use for tiling.\n   * This is the image that will be repeated across the sprite.\n   * @example\n   * ```ts\n   * // Use a texture from the asset cache\n   * tilingSprite.texture = Texture.from('assets/pattern.png');\n   * ```\n   * @default Texture.WHITE\n   */\n  get texture() {\n    return this._texture;\n  }\n  /**\n   * The width of the tiling area. This defines how wide the area is that the texture will be tiled across.\n   * @example\n   * ```ts\n   * // Create a tiling sprite\n   * const sprite = new TilingSprite({\n   *     texture: Texture.from('pattern.png'),\n   *     width: 500,\n   *     height: 300\n   * });\n   *\n   * // Adjust width dynamically\n   * sprite.width = 800; // Expands tiling area\n   *\n   * // Update on resize\n   * window.addEventListener('resize', () => {\n   *     sprite.width = app.screen.width;\n   * });\n   * ```\n   * @see {@link TilingSprite#setSize} For setting both width and height efficiently\n   * @see {@link TilingSprite#height} For setting height\n   */\n  set width(value) {\n    this._width = value;\n    this.onViewUpdate();\n  }\n  get width() {\n    return this._width;\n  }\n  set height(value) {\n    this._height = value;\n    this.onViewUpdate();\n  }\n  /**\n   * The height of the tiling area. This defines how tall the area is that the texture will be tiled across.\n   * @example\n   * ```ts\n   * // Create a tiling sprite\n   * const sprite = new TilingSprite({\n   *     texture: Texture.from('pattern.png'),\n   *     width: 500,\n   *     height: 300\n   * });\n   *\n   * // Adjust width dynamically\n   * sprite.height = 800; // Expands tiling area\n   *\n   * // Update on resize\n   * window.addEventListener('resize', () => {\n   *     sprite.height = app.screen.height;\n   * });\n   * ```\n   * @see {@link TilingSprite#setSize} For setting both width and height efficiently\n   * @see {@link TilingSprite#width} For setting width\n   */\n  get height() {\n    return this._height;\n  }\n  /**\n   * Sets the size of the TilingSprite to the specified width and height.\n   * This is faster than setting width and height separately as it only triggers one update.\n   * @example\n   * ```ts\n   * // Set specific dimensions\n   * sprite.setSize(300, 200); // Width: 300, Height: 200\n   *\n   * // Set uniform size (square)\n   * sprite.setSize(400); // Width: 400, Height: 400\n   *\n   * // Set size using object\n   * sprite.setSize({\n   *     width: 500,\n   *     height: 300\n   * });\n   * ```\n   * @param value - This can be either a number for uniform sizing or a Size object with width/height properties\n   * @param height - The height to set. Defaults to the value of `width` if not provided\n   * @see {@link TilingSprite#width} For setting width only\n   * @see {@link TilingSprite#height} For setting height only\n   */\n  setSize(value, height) {\n    if (typeof value === \"object\") {\n      height = value.height ?? value.width;\n      value = value.width;\n    }\n    this._width = value;\n    this._height = height ?? value;\n    this.onViewUpdate();\n  }\n  /**\n   * Retrieves the size of the TilingSprite as a {@link Size} object.\n   * This method is more efficient than getting width and height separately as it only allocates one object.\n   * @example\n   * ```ts\n   * // Get basic size\n   * const size = sprite.getSize();\n   * console.log(`Size: ${size.width}x${size.height}`);\n   *\n   * // Reuse existing size object\n   * const reuseSize = { width: 0, height: 0 };\n   * sprite.getSize(reuseSize);\n   * ```\n   * @param out - Optional object to store the size in, to avoid allocating a new object\n   * @returns The size of the TilingSprite\n   * @see {@link TilingSprite#width} For getting just the width\n   * @see {@link TilingSprite#height} For getting just the height\n   * @see {@link TilingSprite#setSize} For setting both width and height efficiently\n   */\n  getSize(out) {\n    out || (out = {});\n    out.width = this._width;\n    out.height = this._height;\n    return out;\n  }\n  /** @private */\n  updateBounds() {\n    const bounds = this._bounds;\n    const anchor = this._anchor;\n    const width = this._width;\n    const height = this._height;\n    bounds.minX = -anchor._x * width;\n    bounds.maxX = bounds.minX + width;\n    bounds.minY = -anchor._y * height;\n    bounds.maxY = bounds.minY + height;\n  }\n  /**\n   * Checks if the object contains the given point in local coordinates.\n   * Takes into account the anchor offset when determining boundaries.\n   * @example\n   * ```ts\n   * // Create a tiling sprite\n   * const sprite = new TilingSprite({\n   *     texture: Texture.from('pattern.png'),\n   *     width: 200,\n   *     height: 100,\n   *     anchor: 0.5 // Center anchor\n   * });\n   *\n   * // Basic point check\n   * const contains = sprite.containsPoint({ x: 50, y: 25 });\n   * console.log('Point is inside:', contains);\n   *\n   * // Check with different anchors\n   * sprite.anchor.set(0); // Top-left anchor\n   * console.log('Contains point:', sprite.containsPoint({ x: 150, y: 75 }));\n   * ```\n   * @param point - The point to check in local coordinates\n   * @returns True if the point is within the sprite's bounds\n   * @see {@link TilingSprite#toLocal} For converting global coordinates to local\n   * @see {@link TilingSprite#anchor} For understanding boundary calculations\n   */\n  containsPoint(point) {\n    const width = this._width;\n    const height = this._height;\n    const x1 = -width * this._anchor._x;\n    let y1 = 0;\n    if (point.x >= x1 && point.x <= x1 + width) {\n      y1 = -height * this._anchor._y;\n      if (point.y >= y1 && point.y <= y1 + height)\n        return true;\n    }\n    return false;\n  }\n  /**\n   * Destroys this sprite renderable and optionally its texture.\n   * @param options - Options parameter. A boolean will act as if all options\n   *  have been set to that value\n   * @example\n   * tilingSprite.destroy();\n   * tilingSprite.destroy(true);\n   * tilingSprite.destroy({ texture: true, textureSource: true });\n   */\n  destroy(options = false) {\n    super.destroy(options);\n    this._anchor = null;\n    this._tileTransform = null;\n    this._bounds = null;\n    const destroyTexture = typeof options === \"boolean\" ? options : options?.texture;\n    if (destroyTexture) {\n      const destroyTextureSource = typeof options === \"boolean\" ? options : options?.textureSource;\n      this._texture.destroy(destroyTextureSource);\n    }\n    this._texture = null;\n  }\n};\n/**\n * Default options used when creating a TilingSprite instance.\n * These values are used as fallbacks when specific options are not provided.\n * @example\n * ```ts\n * // Override default options globally\n * TilingSprite.defaultOptions.texture = Texture.from('defaultPattern.png');\n * TilingSprite.defaultOptions.tileScale = { x: 2, y: 2 };\n *\n * // Create sprite using default options\n * const sprite = new TilingSprite();\n * // Will use defaultPattern.png and scale 2x\n * ```\n * @type {TilingSpriteOptions}\n * @see {@link TilingSpriteOptions} For all available options\n * @see {@link TilingSprite.from} For creating sprites with custom options\n * @see {@link Texture.EMPTY} For the default empty texture\n */\n_TilingSprite.defaultOptions = {\n  /** The texture to use for the sprite. */\n  texture: Texture.EMPTY,\n  /** The anchor point of the sprite */\n  anchor: { x: 0, y: 0 },\n  /** The offset of the image that is being tiled. */\n  tilePosition: { x: 0, y: 0 },\n  /** Scaling of the image that is being tiled. */\n  tileScale: { x: 1, y: 1 },\n  /** The rotation of the image that is being tiled. */\n  tileRotation: 0,\n  /**\n   * Flags whether the tiling pattern should originate from the origin instead of the top-left corner in\n   * local space.\n   *\n   * This will make the texture coordinates assigned to each vertex dependent on the value of the anchor. Without\n   * this, the top-left corner always gets the (0, 0) texture coordinate.\n   * @default false\n   */\n  applyAnchorToTexture: false\n};\nlet TilingSprite = _TilingSprite;\n\nexport { TilingSprite };\n//# sourceMappingURL=TilingSprite.mjs.map\n","import { ObservablePoint } from '../../maths/point/ObservablePoint.mjs';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation.mjs';\nimport { ViewContainer } from '../view/ViewContainer.mjs';\n\n\"use strict\";\nclass AbstractText extends ViewContainer {\n  constructor(options, styleClass) {\n    const { text, resolution, style, anchor, width, height, roundPixels, ...rest } = options;\n    super({\n      ...rest\n    });\n    /** @internal */\n    this.batched = true;\n    /** @internal */\n    this._resolution = null;\n    /** @internal */\n    this._autoResolution = true;\n    /** @internal */\n    this._didTextUpdate = true;\n    this._styleClass = styleClass;\n    this.text = text ?? \"\";\n    this.style = style;\n    this.resolution = resolution ?? null;\n    this.allowChildren = false;\n    this._anchor = new ObservablePoint(\n      {\n        _onUpdate: () => {\n          this.onViewUpdate();\n        }\n      }\n    );\n    if (anchor)\n      this.anchor = anchor;\n    this.roundPixels = roundPixels ?? false;\n    if (width !== void 0)\n      this.width = width;\n    if (height !== void 0)\n      this.height = height;\n  }\n  /**\n   * The anchor point of the text that controls the origin point for positioning and rotation.\n   * Can be a number (same value for x/y) or a PointData object.\n   * - (0,0) is top-left\n   * - (0.5,0.5) is center\n   * - (1,1) is bottom-right\n   * ```ts\n   * // Set anchor to center\n   * const text = new Text({\n   *     text: 'Hello Pixi!',\n   *     anchor: 0.5 // Same as { x: 0.5, y: 0.5 }\n   * });\n   * // Set anchor to top-left\n   * const text2 = new Text({\n   *     text: 'Hello Pixi!',\n   *     anchor: { x: 0, y: 0 } // Top-left corner\n   * });\n   * // Set anchor to bottom-right\n   * const text3 = new Text({\n   *     text: 'Hello Pixi!',\n   *     anchor: { x: 1, y: 1 } // Bottom-right corner\n   * });\n   * ```\n   * @default { x: 0, y: 0 }\n   */\n  get anchor() {\n    return this._anchor;\n  }\n  set anchor(value) {\n    typeof value === \"number\" ? this._anchor.set(value) : this._anchor.copyFrom(value);\n  }\n  /**\n   * The text content to display. Use '\\n' for line breaks.\n   * Accepts strings, numbers, or objects with toString() method.\n   * @example\n   * ```ts\n   * const text = new Text({\n   *     text: 'Hello Pixi!',\n   * });\n   * const multilineText = new Text({\n   *     text: 'Line 1\\nLine 2\\nLine 3',\n   * });\n   * const numberText = new Text({\n   *     text: 12345, // Will be converted to '12345'\n   * });\n   * const objectText = new Text({\n   *     text: { toString: () => 'Object Text' }, // Custom toString\n   * });\n   *\n   * // Update text dynamically\n   * text.text = 'Updated Text'; // Re-renders with new text\n   * text.text = 67890; // Updates to '67890'\n   * text.text = { toString: () => 'Dynamic Text' }; // Uses custom toString method\n   * // Clear text\n   * text.text = ''; // Clears the text\n   * ```\n   * @default ''\n   */\n  set text(value) {\n    value = value.toString();\n    if (this._text === value)\n      return;\n    this._text = value;\n    this.onViewUpdate();\n  }\n  get text() {\n    return this._text;\n  }\n  /**\n   * The resolution/device pixel ratio for rendering.\n   * Higher values result in sharper text at the cost of performance.\n   * Set to null for auto-resolution based on device.\n   * @example\n   * ```ts\n   * const text = new Text({\n   *     text: 'Hello Pixi!',\n   *     resolution: 2 // High DPI for sharper text\n   * });\n   * const autoResText = new Text({\n   *     text: 'Auto Resolution',\n   *     resolution: null // Use device's pixel ratio\n   * });\n   * ```\n   * @default null\n   */\n  set resolution(value) {\n    this._autoResolution = value === null;\n    this._resolution = value;\n    this.onViewUpdate();\n  }\n  get resolution() {\n    return this._resolution;\n  }\n  get style() {\n    return this._style;\n  }\n  /**\n   * The style configuration for the text.\n   * Can be a TextStyle instance or a configuration object.\n   * Supports canvas text styles, HTML text styles, and bitmap text styles.\n   * @example\n   * ```ts\n   * const text = new Text({\n   *     text: 'Styled Text',\n   *     style: {\n   *         fontSize: 24,\n   *         fill: 0xff1010, // Red color\n   *         fontFamily: 'Arial',\n   *         align: 'center', // Center alignment\n   *         stroke: { color: '#4a1850', width: 5 }, // Purple stroke\n   *         dropShadow: {\n   *             color: '#000000', // Black shadow\n   *             blur: 4, // Shadow blur\n   *             distance: 6 // Shadow distance\n   *         }\n   *     }\n   * });\n   * const htmlText = new HTMLText({\n   *     text: 'HTML Styled Text',\n   *     style: {\n   *         fontSize: '20px',\n   *         fill: 'blue',\n   *         fontFamily: 'Verdana',\n   *     }\n   * });\n   * const bitmapText = new BitmapText({\n   *     text: 'Bitmap Styled Text',\n   *     style: {\n   *         fontName: 'Arial',\n   *         fontSize: 32,\n   *     }\n   * })\n   *\n   * // Update style dynamically\n   * text.style = {\n   *     fontSize: 30, // Change font size\n   *     fill: 0x00ff00, // Change color to green\n   *     align: 'right', // Change alignment to right\n   *     stroke: { color: '#000000', width: 2 }, // Add black stroke\n   * }\n   */\n  set style(style) {\n    style || (style = {});\n    this._style?.off(\"update\", this.onViewUpdate, this);\n    if (style instanceof this._styleClass) {\n      this._style = style;\n    } else {\n      this._style = new this._styleClass(style);\n    }\n    this._style.on(\"update\", this.onViewUpdate, this);\n    this.onViewUpdate();\n  }\n  /**\n   * The width of the sprite, setting this will actually modify the scale to achieve the value set.\n   * @example\n   * ```ts\n   * // Set width directly\n   * texture.width = 200;\n   * console.log(texture.scale.x); // Scale adjusted to match width\n   *\n   * // For better performance when setting both width and height\n   * texture.setSize(300, 400); // Avoids recalculating bounds twice\n   * ```\n   */\n  get width() {\n    return Math.abs(this.scale.x) * this.bounds.width;\n  }\n  set width(value) {\n    this._setWidth(value, this.bounds.width);\n  }\n  /**\n   * The height of the sprite, setting this will actually modify the scale to achieve the value set.\n   * @example\n   * ```ts\n   * // Set height directly\n   * texture.height = 200;\n   * console.log(texture.scale.y); // Scale adjusted to match height\n   *\n   * // For better performance when setting both width and height\n   * texture.setSize(300, 400); // Avoids recalculating bounds twice\n   * ```\n   */\n  get height() {\n    return Math.abs(this.scale.y) * this.bounds.height;\n  }\n  set height(value) {\n    this._setHeight(value, this.bounds.height);\n  }\n  /**\n   * Retrieves the size of the Text as a [Size]{@link Size} object based on the texture dimensions and scale.\n   * This is faster than getting width and height separately as it only calculates the bounds once.\n   * @example\n   * ```ts\n   * // Basic size retrieval\n   * const text = new Text({\n   *     text: 'Hello Pixi!',\n   *     style: { fontSize: 24 }\n   * });\n   * const size = text.getSize();\n   * console.log(`Size: ${size.width}x${size.height}`);\n   *\n   * // Reuse existing size object\n   * const reuseSize = { width: 0, height: 0 };\n   * text.getSize(reuseSize);\n   * ```\n   * @param out - Optional object to store the size in, to avoid allocating a new object\n   * @returns The size of the Sprite\n   * @see {@link Text#width} For getting just the width\n   * @see {@link Text#height} For getting just the height\n   * @see {@link Text#setSize} For setting both width and height\n   */\n  getSize(out) {\n    out || (out = {});\n    out.width = Math.abs(this.scale.x) * this.bounds.width;\n    out.height = Math.abs(this.scale.y) * this.bounds.height;\n    return out;\n  }\n  /**\n   * Sets the size of the Text to the specified width and height.\n   * This is faster than setting width and height separately as it only recalculates bounds once.\n   * @example\n   * ```ts\n   * // Basic size setting\n   * const text = new Text({\n   *    text: 'Hello Pixi!',\n   *    style: { fontSize: 24 }\n   * });\n   * text.setSize(100, 200); // Width: 100, Height: 200\n   *\n   * // Set uniform size\n   * text.setSize(100); // Sets both width and height to 100\n   *\n   * // Set size with object\n   * text.setSize({\n   *     width: 200,\n   *     height: 300\n   * });\n   * ```\n   * @param value - This can be either a number or a {@link Size} object\n   * @param height - The height to set. Defaults to the value of `width` if not provided\n   * @see {@link Text#width} For setting width only\n   * @see {@link Text#height} For setting height only\n   */\n  setSize(value, height) {\n    if (typeof value === \"object\") {\n      height = value.height ?? value.width;\n      value = value.width;\n    } else {\n      height ?? (height = value);\n    }\n    value !== void 0 && this._setWidth(value, this.bounds.width);\n    height !== void 0 && this._setHeight(height, this.bounds.height);\n  }\n  /**\n   * Checks if the object contains the given point in local coordinates.\n   * Uses the text's bounds for hit testing.\n   * @example\n   * ```ts\n   * // Basic point check\n   * const localPoint = { x: 50, y: 25 };\n   * const contains = text.containsPoint(localPoint);\n   * console.log('Point is inside:', contains);\n   * ```\n   * @param point - The point to check in local coordinates\n   * @returns True if the point is within the text's bounds\n   * @see {@link Container#toLocal} For converting global coordinates to local\n   */\n  containsPoint(point) {\n    const width = this.bounds.width;\n    const height = this.bounds.height;\n    const x1 = -width * this.anchor.x;\n    let y1 = 0;\n    if (point.x >= x1 && point.x <= x1 + width) {\n      y1 = -height * this.anchor.y;\n      if (point.y >= y1 && point.y <= y1 + height)\n        return true;\n    }\n    return false;\n  }\n  /** @internal */\n  onViewUpdate() {\n    if (!this.didViewUpdate)\n      this._didTextUpdate = true;\n    super.onViewUpdate();\n  }\n  /**\n   * Destroys this text renderable and optionally its style texture.\n   * @param options - Options parameter. A boolean will act as if all options\n   *  have been set to that value\n   * @example\n   * // Destroys the text and its style\n   * text.destroy({ style: true, texture: true, textureSource: true });\n   * text.destroy(true);\n   * text.destroy() // Destroys the text, but not its style\n   */\n  destroy(options = false) {\n    super.destroy(options);\n    this.owner = null;\n    this._bounds = null;\n    this._anchor = null;\n    if (typeof options === \"boolean\" ? options : options?.style) {\n      this._style.destroy(options);\n    }\n    this._style = null;\n    this._text = null;\n  }\n  /**\n   * Returns a unique key for this instance.\n   * This key is used for caching.\n   * @returns {string} Unique key for the instance\n   */\n  get styleKey() {\n    return `${this._text}:${this._style.styleKey}:${this._resolution}`;\n  }\n}\nfunction ensureTextOptions(args, name) {\n  let options = args[0] ?? {};\n  if (typeof options === \"string\" || args[1]) {\n    deprecation(v8_0_0, `use new ${name}({ text: \"hi!\", style }) instead`);\n    options = {\n      text: options,\n      style: args[1]\n    };\n  }\n  return options;\n}\n\nexport { AbstractText, ensureTextOptions };\n//# sourceMappingURL=AbstractText.mjs.map\n","import { TextureStyle } from '../../rendering/renderers/shared/texture/TextureStyle.mjs';\nimport { AbstractText, ensureTextOptions } from './AbstractText.mjs';\nimport { CanvasTextGenerator } from './canvas/CanvasTextGenerator.mjs';\nimport { CanvasTextMetrics } from './canvas/CanvasTextMetrics.mjs';\nimport { TextStyle } from './TextStyle.mjs';\n\n\"use strict\";\nclass Text extends AbstractText {\n  constructor(...args) {\n    const options = ensureTextOptions(args, \"Text\");\n    super(options, TextStyle);\n    /** @internal */\n    this.renderPipeId = \"text\";\n    if (options.textureStyle) {\n      this.textureStyle = options.textureStyle instanceof TextureStyle ? options.textureStyle : new TextureStyle(options.textureStyle);\n    }\n  }\n  /** @private */\n  updateBounds() {\n    const bounds = this._bounds;\n    const anchor = this._anchor;\n    let width = 0;\n    let height = 0;\n    if (this._style.trim) {\n      const { frame, canvasAndContext } = CanvasTextGenerator.getCanvasAndContext({\n        text: this.text,\n        style: this._style,\n        resolution: 1\n      });\n      CanvasTextGenerator.returnCanvasAndContext(canvasAndContext);\n      width = frame.width;\n      height = frame.height;\n    } else {\n      const canvasMeasurement = CanvasTextMetrics.measureText(\n        this._text,\n        this._style\n      );\n      width = canvasMeasurement.width;\n      height = canvasMeasurement.height;\n    }\n    bounds.minX = -anchor._x * width;\n    bounds.maxX = bounds.minX + width;\n    bounds.minY = -anchor._y * height;\n    bounds.maxY = bounds.minY + height;\n  }\n}\n\nexport { Text };\n//# sourceMappingURL=Text.mjs.map\n","import { TextureSource } from '../rendering/renderers/shared/texture/sources/TextureSource.mjs';\nimport { Texture } from '../rendering/renderers/shared/texture/Texture.mjs';\nimport { Container } from '../scene/container/Container.mjs';\nimport { Graphics } from '../scene/graphics/shared/Graphics.mjs';\nimport { GraphicsContext } from '../scene/graphics/shared/GraphicsContext.mjs';\nimport { Mesh } from '../scene/mesh/shared/Mesh.mjs';\nimport { Sprite } from '../scene/sprite/Sprite.mjs';\nimport { AnimatedSprite } from '../scene/sprite-animated/AnimatedSprite.mjs';\nimport { TilingSprite } from '../scene/sprite-tiling/TilingSprite.mjs';\nimport { Text } from '../scene/text/Text.mjs';\nimport { PrepareBase } from './PrepareBase.mjs';\n\n\"use strict\";\nclass PrepareQueue extends PrepareBase {\n  /**\n   * Resolve the given resource type and return an item for the queue\n   * @param source\n   * @param queue\n   */\n  resolveQueueItem(source, queue) {\n    if (source instanceof Container) {\n      this.resolveContainerQueueItem(source, queue);\n    } else if (source instanceof TextureSource || source instanceof Texture) {\n      queue.push(source.source);\n    } else if (source instanceof GraphicsContext) {\n      queue.push(source);\n    }\n    return null;\n  }\n  /**\n   * Resolve the given container and return an item for the queue\n   * @param container\n   * @param queue\n   */\n  resolveContainerQueueItem(container, queue) {\n    if (container instanceof Sprite || container instanceof TilingSprite || container instanceof Mesh) {\n      queue.push(container.texture.source);\n    } else if (container instanceof Text) {\n      queue.push(container);\n    } else if (container instanceof Graphics) {\n      queue.push(container.context);\n    } else if (container instanceof AnimatedSprite) {\n      container.textures.forEach((textureOrFrame) => {\n        if (textureOrFrame.source) {\n          queue.push(textureOrFrame.source);\n        } else {\n          queue.push(textureOrFrame.texture.source);\n        }\n      });\n    }\n  }\n  /**\n   * Resolve the given graphics context and return an item for the queue\n   * @param graphicsContext\n   */\n  resolveGraphicsContextQueueItem(graphicsContext) {\n    this.renderer.graphicsContext.getGpuContext(graphicsContext);\n    const { instructions } = graphicsContext;\n    for (const instruction of instructions) {\n      if (instruction.action === \"texture\") {\n        const { image } = instruction.data;\n        return image.source;\n      } else if (instruction.action === \"fill\") {\n        const { texture } = instruction.data.style;\n        return texture.source;\n      }\n    }\n    return null;\n  }\n}\n\nexport { PrepareQueue };\n//# sourceMappingURL=PrepareQueue.mjs.map\n","import { warn } from '../../utils/logging/warn.mjs';\nimport { AbstractText, ensureTextOptions } from '../text/AbstractText.mjs';\nimport { TextStyle } from '../text/TextStyle.mjs';\nimport { BitmapFontManager } from './BitmapFontManager.mjs';\n\n\"use strict\";\nclass BitmapText extends AbstractText {\n  constructor(...args) {\n    var _a;\n    const options = ensureTextOptions(args, \"BitmapText\");\n    options.style ?? (options.style = options.style || {});\n    (_a = options.style).fill ?? (_a.fill = 16777215);\n    super(options, TextStyle);\n    /** @internal */\n    this.renderPipeId = \"bitmapText\";\n  }\n  /** @private */\n  updateBounds() {\n    const bounds = this._bounds;\n    const anchor = this._anchor;\n    const bitmapMeasurement = BitmapFontManager.measureText(this.text, this._style);\n    const scale = bitmapMeasurement.scale;\n    const offset = bitmapMeasurement.offsetY * scale;\n    let width = bitmapMeasurement.width * scale;\n    let height = bitmapMeasurement.height * scale;\n    const stroke = this._style._stroke;\n    if (stroke) {\n      width += stroke.width;\n      height += stroke.width;\n    }\n    bounds.minX = -anchor._x * width;\n    bounds.maxX = bounds.minX + width;\n    bounds.minY = -anchor._y * (height + offset);\n    bounds.maxY = bounds.minY + height;\n  }\n  /**\n   * The resolution / device pixel ratio for text rendering.\n   * Unlike other text types, BitmapText resolution is managed by the BitmapFont.\n   * Individual resolution changes are not supported.\n   * @example\n   * ```ts\n   * //  Incorrect: Setting resolution directly (will trigger warning)\n   * const text = new BitmapText({\n   *     text: 'Hello',\n   *     resolution: 2 // This will be ignored\n   * });\n   *\n   * //  Correct: Set resolution when installing the font\n   * BitmapFont.install({\n   *     name: 'MyFont',\n   *     style: {\n   *         fontFamily: 'Arial',\n   *     },\n   *     resolution: 2 // Resolution is set here\n   * });\n   *\n   * const text = new BitmapText({\n   *     text: 'Hello',\n   *     style: {\n   *         fontFamily: 'MyFont' // Uses font's resolution\n   *     }\n   * });\n   * ```\n   * @default 1\n   * @see {@link BitmapFont.install} For setting font resolution\n   * @throws {Warning} When attempting to change resolution directly\n   * @readonly\n   */\n  set resolution(value) {\n    if (value !== null) {\n      warn(\n        // eslint-disable-next-line max-len\n        \"[BitmapText] dynamically updating the resolution is not supported. Resolution should be managed by the BitmapFont.\"\n      );\n    }\n  }\n  get resolution() {\n    return this._resolution;\n  }\n}\n\nexport { BitmapText };\n//# sourceMappingURL=BitmapText.mjs.map\n","import { Color } from '../../../color/Color.mjs';\n\n\"use strict\";\nfunction textStyleToCSS(style) {\n  const stroke = style._stroke;\n  const fill = style._fill;\n  const cssStyleString = [\n    `color: ${Color.shared.setValue(fill.color).toHex()}`,\n    `font-size: ${style.fontSize}px`,\n    `font-family: ${style.fontFamily}`,\n    `font-weight: ${style.fontWeight}`,\n    `font-style: ${style.fontStyle}`,\n    `font-variant: ${style.fontVariant}`,\n    `letter-spacing: ${style.letterSpacing}px`,\n    `text-align: ${style.align}`,\n    `padding: ${style.padding}px`,\n    `white-space: ${style.whiteSpace === \"pre\" && style.wordWrap ? \"pre-wrap\" : style.whiteSpace}`,\n    ...style.lineHeight ? [`line-height: ${style.lineHeight}px`] : [],\n    ...style.wordWrap ? [\n      `word-wrap: ${style.breakWords ? \"break-all\" : \"break-word\"}`,\n      `max-width: ${style.wordWrapWidth}px`\n    ] : [],\n    ...stroke ? [strokeToCSS(stroke)] : [],\n    ...style.dropShadow ? [dropShadowToCSS(style.dropShadow)] : [],\n    ...style.cssOverrides\n  ].join(\";\");\n  const cssStyles = [`div { ${cssStyleString} }`];\n  tagStyleToCSS(style.tagStyles, cssStyles);\n  return cssStyles.join(\" \");\n}\nfunction dropShadowToCSS(dropShadowStyle) {\n  const color = Color.shared.setValue(dropShadowStyle.color).setAlpha(dropShadowStyle.alpha).toHexa();\n  const x = Math.round(Math.cos(dropShadowStyle.angle) * dropShadowStyle.distance);\n  const y = Math.round(Math.sin(dropShadowStyle.angle) * dropShadowStyle.distance);\n  const position = `${x}px ${y}px`;\n  if (dropShadowStyle.blur > 0) {\n    return `text-shadow: ${position} ${dropShadowStyle.blur}px ${color}`;\n  }\n  return `text-shadow: ${position} ${color}`;\n}\nfunction strokeToCSS(stroke) {\n  return [\n    `-webkit-text-stroke-width: ${stroke.width}px`,\n    `-webkit-text-stroke-color: ${Color.shared.setValue(stroke.color).toHex()}`,\n    `text-stroke-width: ${stroke.width}px`,\n    `text-stroke-color: ${Color.shared.setValue(stroke.color).toHex()}`,\n    \"paint-order: stroke\"\n  ].join(\";\");\n}\nconst templates = {\n  fontSize: `font-size: {{VALUE}}px`,\n  fontFamily: `font-family: {{VALUE}}`,\n  fontWeight: `font-weight: {{VALUE}}`,\n  fontStyle: `font-style: {{VALUE}}`,\n  fontVariant: `font-variant: {{VALUE}}`,\n  letterSpacing: `letter-spacing: {{VALUE}}px`,\n  align: `text-align: {{VALUE}}`,\n  padding: `padding: {{VALUE}}px`,\n  whiteSpace: `white-space: {{VALUE}}`,\n  lineHeight: `line-height: {{VALUE}}px`,\n  wordWrapWidth: `max-width: {{VALUE}}px`\n};\nconst transform = {\n  fill: (value) => `color: ${Color.shared.setValue(value).toHex()}`,\n  breakWords: (value) => `word-wrap: ${value ? \"break-all\" : \"break-word\"}`,\n  stroke: strokeToCSS,\n  dropShadow: dropShadowToCSS\n};\nfunction tagStyleToCSS(tagStyles, out) {\n  for (const i in tagStyles) {\n    const tagStyle = tagStyles[i];\n    const cssTagStyle = [];\n    for (const j in tagStyle) {\n      if (transform[j]) {\n        cssTagStyle.push(transform[j](tagStyle[j]));\n      } else if (templates[j]) {\n        cssTagStyle.push(templates[j].replace(\"{{VALUE}}\", tagStyle[j]));\n      }\n    }\n    out.push(`${i} { ${cssTagStyle.join(\";\")} }`);\n  }\n}\n\nexport { textStyleToCSS };\n//# sourceMappingURL=textStyleToCSS.mjs.map\n","import { warn } from '../../utils/logging/warn.mjs';\nimport { TextStyle } from '../text/TextStyle.mjs';\nimport { textStyleToCSS } from './utils/textStyleToCSS.mjs';\n\n\"use strict\";\nclass HTMLTextStyle extends TextStyle {\n  constructor(options = {}) {\n    super(options);\n    this._cssOverrides = [];\n    this.cssOverrides = options.cssOverrides ?? [];\n    this.tagStyles = options.tagStyles ?? {};\n  }\n  /**\n   * List of CSS style overrides to apply to the HTML text.\n   * These styles are added after the built-in styles and can override any default styling.\n   * @advanced\n   */\n  set cssOverrides(value) {\n    this._cssOverrides = value instanceof Array ? value : [value];\n    this.update();\n  }\n  /** @advanced */\n  get cssOverrides() {\n    return this._cssOverrides;\n  }\n  /**\n   * Updates the text style and triggers a refresh of the CSS style cache.\n   * This method is called automatically when style properties are changed.\n   * @example\n   * ```ts\n   * // Update after multiple changes\n   * const text = new HTMLText({\n   *     text: 'Hello World',\n   *     style\n   * });\n   *\n   * style.fontSize = 32;\n   * style.fill = '#00ff00';\n   * style.fontFamily = 'Arial';\n   * style.update(); // Apply all changes at once\n   * ```\n   * @advanced\n   * @see {@link HTMLTextStyle#cssStyle} For accessing the generated CSS\n   * @see {@link HTMLTextStyle#cssOverrides} For managing CSS overrides\n   */\n  update() {\n    this._cssStyle = null;\n    super.update();\n  }\n  /**\n   * Creates a new HTMLTextStyle object with the same values as this one.\n   * This creates a deep copy of all style properties, including dropShadow and tag styles.\n   * @example\n   * ```ts\n   * // Create original style\n   * const originalStyle = new HTMLTextStyle({\n   *     fontSize: 24,\n   *     fill: '#ff0000',\n   *     tagStyles: {\n   *         header: { fontSize: 32, fill: '#00ff00' }\n   *     }\n   * });\n   *\n   * // Clone the style\n   * const clonedStyle = originalStyle.clone();\n   *\n   * // Modify cloned style independently\n   * clonedStyle.fontSize = 36;\n   * clonedStyle.fill = '#0000ff';\n   *\n   * // Original style remains unchanged\n   * console.log(originalStyle.fontSize); // Still 24\n   * console.log(originalStyle.fill); // Still '#ff0000'\n   * ```\n   *\n   * Properties that are cloned:\n   * - Basic text properties (fontSize, fontFamily, etc.)\n   * - Fill and stroke styles\n   * - Drop shadow configuration\n   * - CSS overrides\n   * - Tag styles (deep copied)\n   * - Word wrap settings\n   * - Alignment and spacing\n   * @returns {HTMLTextStyle} A new HTMLTextStyle instance with the same properties\n   * @see {@link HTMLTextStyle} For available style properties\n   * @see {@link HTMLTextStyle#cssOverrides} For CSS override handling\n   * @see {@link HTMLTextStyle#tagStyles} For tag style configuration\n   * @standard\n   */\n  clone() {\n    return new HTMLTextStyle({\n      align: this.align,\n      breakWords: this.breakWords,\n      dropShadow: this.dropShadow ? { ...this.dropShadow } : null,\n      fill: this._fill,\n      fontFamily: this.fontFamily,\n      fontSize: this.fontSize,\n      fontStyle: this.fontStyle,\n      fontVariant: this.fontVariant,\n      fontWeight: this.fontWeight,\n      letterSpacing: this.letterSpacing,\n      lineHeight: this.lineHeight,\n      padding: this.padding,\n      stroke: this._stroke,\n      whiteSpace: this.whiteSpace,\n      wordWrap: this.wordWrap,\n      wordWrapWidth: this.wordWrapWidth,\n      cssOverrides: this.cssOverrides,\n      tagStyles: { ...this.tagStyles }\n    });\n  }\n  /**\n   * The CSS style string that will be applied to the HTML text.\n   * @advanced\n   */\n  get cssStyle() {\n    if (!this._cssStyle) {\n      this._cssStyle = textStyleToCSS(this);\n    }\n    return this._cssStyle;\n  }\n  /**\n   * Add a style override, this can be any CSS property\n   * it will override any built-in style. This is the\n   * property and the value as a string (e.g., `color: red`).\n   * This will override any other internal style.\n   * @param {string} value - CSS style(s) to add.\n   * @example\n   * style.addOverride('background-color: red');\n   * @advanced\n   */\n  addOverride(...value) {\n    const toAdd = value.filter((v) => !this.cssOverrides.includes(v));\n    if (toAdd.length > 0) {\n      this.cssOverrides.push(...toAdd);\n      this.update();\n    }\n  }\n  /**\n   * Remove any overrides that match the value.\n   * @param {string} value - CSS style to remove.\n   * @example\n   * style.removeOverride('background-color: red');\n   * @advanced\n   */\n  removeOverride(...value) {\n    const toRemove = value.filter((v) => this.cssOverrides.includes(v));\n    if (toRemove.length > 0) {\n      this.cssOverrides = this.cssOverrides.filter((v) => !toRemove.includes(v));\n      this.update();\n    }\n  }\n  /**\n   * Sets the fill style for the text. HTML text only supports color fills (string or number values).\n   * Texture fills are not supported and will trigger a warning in debug mode.\n   * @example\n   * ```ts\n   * // Using hex colors\n   * const text = new HTMLText({\n   *     text: 'Colored Text',\n   *     style: {\n   *         fill: 0xff0000 // Red color\n   *     }\n   * });\n   *\n   * // Using CSS color strings\n   * text.style.fill = '#00ff00';     // Hex string (Green)\n   * text.style.fill = 'blue';        // Named color\n   * text.style.fill = 'rgb(255,0,0)' // RGB\n   * text.style.fill = '#f0f';        // Short hex\n   *\n   * // Invalid usage (will trigger warning in debug)\n   * text.style.fill = {\n   *     type: 'pattern',\n   *     texture: Texture.from('pattern.png')\n   * }; // Not supported, falls back to default\n   * ```\n   * @param value - The fill color to use. Must be a string or number.\n   * @throws {Warning} In debug mode when attempting to use unsupported fill types\n   * @see {@link TextStyle#fill} For full fill options in canvas text\n   * @standard\n   */\n  set fill(value) {\n    if (typeof value !== \"string\" && typeof value !== \"number\") {\n      warn(\"[HTMLTextStyle] only color fill is not supported by HTMLText\");\n    }\n    super.fill = value;\n  }\n  /**\n   * Sets the stroke style for the text. HTML text only supports color strokes (string or number values).\n   * Texture strokes are not supported and will trigger a warning in debug mode.\n   * @example\n   * ```ts\n   * // Using hex colors\n   * const text = new HTMLText({\n   *     text: 'Outlined Text',\n   *     style: {\n   *         stroke: 0xff0000 // Red outline\n   *     }\n   * });\n   *\n   * // Using CSS color strings\n   * text.style.stroke = '#00ff00';     // Hex string (Green)\n   * text.style.stroke = 'blue';        // Named color\n   * text.style.stroke = 'rgb(255,0,0)' // RGB\n   * text.style.stroke = '#f0f';        // Short hex\n   *\n   * // Using stroke width\n   * text.style = {\n   *     stroke: {\n   *         color: '#ff0000',\n   *         width: 2\n   *     }\n   * };\n   *\n   * // Remove stroke\n   * text.style.stroke = null;\n   *\n   * // Invalid usage (will trigger warning in debug)\n   * text.style.stroke = {\n   *     type: 'pattern',\n   *     texture: Texture.from('pattern.png')\n   * }; // Not supported, falls back to default\n   * ```\n   * @param value - The stroke style to use. Must be a string, number, or stroke configuration object\n   * @throws {Warning} In debug mode when attempting to use unsupported stroke types\n   * @see {@link TextStyle#stroke} For full stroke options in canvas text\n   * @standard\n   */\n  set stroke(value) {\n    if (value && typeof value !== \"string\" && typeof value !== \"number\") {\n      warn(\"[HTMLTextStyle] only color stroke is not supported by HTMLText\");\n    }\n    super.stroke = value;\n  }\n}\n\nexport { HTMLTextStyle };\n//# sourceMappingURL=HTMLTextStyle.mjs.map\n","import { TextureStyle } from '../../rendering/renderers/shared/texture/TextureStyle.mjs';\nimport { AbstractText, ensureTextOptions } from '../text/AbstractText.mjs';\nimport { HTMLTextStyle } from './HTMLTextStyle.mjs';\nimport { measureHtmlText } from './utils/measureHtmlText.mjs';\n\n\"use strict\";\nclass HTMLText extends AbstractText {\n  constructor(...args) {\n    const options = ensureTextOptions(args, \"HtmlText\");\n    super(options, HTMLTextStyle);\n    /** @internal */\n    this.renderPipeId = \"htmlText\";\n    if (options.textureStyle) {\n      this.textureStyle = options.textureStyle instanceof TextureStyle ? options.textureStyle : new TextureStyle(options.textureStyle);\n    }\n  }\n  /** @private */\n  updateBounds() {\n    const bounds = this._bounds;\n    const anchor = this._anchor;\n    const htmlMeasurement = measureHtmlText(this.text, this._style);\n    const { width, height } = htmlMeasurement;\n    bounds.minX = -anchor._x * width;\n    bounds.maxX = bounds.minX + width;\n    bounds.minY = -anchor._y * height;\n    bounds.maxY = bounds.minY + height;\n  }\n  get text() {\n    return this._text;\n  }\n  /**\n   * The text content to display. Use '\\n' for line breaks.\n   * Accepts strings, numbers, or objects with toString() method.\n   * @example\n   * ```ts\n   * const text = new HTMLText({\n   *     text: 'Hello Pixi!',\n   * });\n   * const multilineText = new HTMLText({\n   *     text: 'Line 1\\nLine 2\\nLine 3',\n   * });\n   * const numberText = new HTMLText({\n   *     text: 12345, // Will be converted to '12345'\n   * });\n   * const objectText = new HTMLText({\n   *     text: { toString: () => 'Object Text' }, // Custom toString\n   * });\n   *\n   * // Update text dynamically\n   * text.text = 'Updated Text'; // Re-renders with new text\n   * text.text = 67890; // Updates to '67890'\n   * text.text = { toString: () => 'Dynamic Text' }; // Uses custom toString method\n   * // Clear text\n   * text.text = ''; // Clears the text\n   * ```\n   * @default ''\n   */\n  set text(text) {\n    const sanitisedText = this._sanitiseText(text.toString());\n    super.text = sanitisedText;\n  }\n  /**\n   * Sanitise text - replace `<br>` with `<br/>`, `&nbsp;` with `&#160;`\n   * @param text\n   * @see https://www.sitepoint.com/community/t/xhtml-1-0-transitional-xml-parsing-error-entity-nbsp-not-defined/3392/3\n   */\n  _sanitiseText(text) {\n    return this._removeInvalidHtmlTags(text.replace(/<br>/gi, \"<br/>\").replace(/<hr>/gi, \"<hr/>\").replace(/&nbsp;/gi, \"&#160;\"));\n  }\n  _removeInvalidHtmlTags(input) {\n    const brokenTagPattern = /<[^>]*?(?=<|$)/g;\n    return input.replace(brokenTagPattern, \"\");\n  }\n}\n\nexport { HTMLText };\n//# sourceMappingURL=HTMLText.mjs.map\n","import { TextureSource } from '../rendering/renderers/shared/texture/sources/TextureSource.mjs';\nimport { GraphicsContext } from '../scene/graphics/shared/GraphicsContext.mjs';\nimport { Text } from '../scene/text/Text.mjs';\nimport { BitmapText } from '../scene/text-bitmap/BitmapText.mjs';\nimport { HTMLText } from '../scene/text-html/HTMLText.mjs';\nimport { PrepareQueue } from './PrepareQueue.mjs';\n\n\"use strict\";\nclass PrepareUpload extends PrepareQueue {\n  /**\n   * Upload the given queue item\n   * @param item\n   */\n  uploadQueueItem(item) {\n    if (item instanceof TextureSource) {\n      this.uploadTextureSource(item);\n    } else if (item instanceof Text) {\n      this.uploadText(item);\n    } else if (item instanceof HTMLText) {\n      this.uploadHTMLText(item);\n    } else if (item instanceof BitmapText) {\n      this.uploadBitmapText(item);\n    } else if (item instanceof GraphicsContext) {\n      this.uploadGraphicsContext(item);\n    }\n  }\n  uploadTextureSource(textureSource) {\n    this.renderer.texture.initSource(textureSource);\n  }\n  uploadText(_text) {\n    this.renderer.renderPipes.text.initGpuText(_text);\n  }\n  uploadBitmapText(_text) {\n    this.renderer.renderPipes.bitmapText.initGpuText(_text);\n  }\n  uploadHTMLText(_text) {\n    this.renderer.renderPipes.htmlText.initGpuText(_text);\n  }\n  /**\n   * Resolve the given graphics context and return an item for the queue\n   * @param graphicsContext\n   */\n  uploadGraphicsContext(graphicsContext) {\n    this.renderer.graphicsContext.getGpuContext(graphicsContext);\n    const { instructions } = graphicsContext;\n    for (const instruction of instructions) {\n      if (instruction.action === \"texture\") {\n        const { image } = instruction.data;\n        this.uploadTextureSource(image.source);\n      } else if (instruction.action === \"fill\") {\n        const { texture } = instruction.data.style;\n        this.uploadTextureSource(texture.source);\n      }\n    }\n    return null;\n  }\n}\n\nexport { PrepareUpload };\n//# sourceMappingURL=PrepareUpload.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { PrepareUpload } from './PrepareUpload.mjs';\n\n\"use strict\";\nclass PrepareSystem extends PrepareUpload {\n  /** Destroys the plugin, don't use after this. */\n  destroy() {\n    super.destroy();\n    clearTimeout(this.timeout);\n    this.renderer = null;\n    this.queue = null;\n    this.resolves = null;\n  }\n}\n/** @ignore */\nPrepareSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"prepare\"\n};\n\nexport { PrepareSystem };\n//# sourceMappingURL=PrepareSystem.mjs.map\n","\"use strict\";\nfunction generateGPULayout(maxTextures) {\n  const gpuLayout = [];\n  let bindIndex = 0;\n  for (let i = 0; i < maxTextures; i++) {\n    gpuLayout[bindIndex] = {\n      texture: {\n        sampleType: \"float\",\n        viewDimension: \"2d\",\n        multisampled: false\n      },\n      binding: bindIndex,\n      visibility: GPUShaderStage.FRAGMENT\n    };\n    bindIndex++;\n    gpuLayout[bindIndex] = {\n      sampler: {\n        type: \"filtering\"\n      },\n      binding: bindIndex,\n      visibility: GPUShaderStage.FRAGMENT\n    };\n    bindIndex++;\n  }\n  return gpuLayout;\n}\n\nexport { generateGPULayout };\n//# sourceMappingURL=generateGPULayout.mjs.map\n","\"use strict\";\nfunction generateLayout(maxTextures) {\n  const layout = {};\n  let bindIndex = 0;\n  for (let i = 0; i < maxTextures; i++) {\n    layout[`textureSource${i + 1}`] = bindIndex++;\n    layout[`textureSampler${i + 1}`] = bindIndex++;\n  }\n  return layout;\n}\n\nexport { generateLayout };\n//# sourceMappingURL=generateLayout.mjs.map\n","\"use strict\";\nfunction formatShader(shader) {\n  const spl = shader.split(/([\\n{}])/g).map((a) => a.trim()).filter((a) => a.length);\n  let indent = \"\";\n  const formatted = spl.map((a) => {\n    let indentedLine = indent + a;\n    if (a === \"{\") {\n      indent += \"    \";\n    } else if (a === \"}\") {\n      indent = indent.substr(0, indent.length - 4);\n      indentedLine = indent + a;\n    }\n    return indentedLine;\n  }).join(\"\\n\");\n  return formatted;\n}\n\nexport { formatShader };\n//# sourceMappingURL=formatShader.mjs.map\n","import { addMaskBounds } from '../utils/addMaskBounds.mjs';\nimport { addMaskLocalBounds } from '../utils/addMaskLocalBounds.mjs';\n\n\"use strict\";\nclass ScissorMask {\n  constructor(mask) {\n    this.priority = 0;\n    this.pipe = \"scissorMask\";\n    this.mask = mask;\n    this.mask.renderable = false;\n    this.mask.measurable = false;\n  }\n  addBounds(bounds, skipUpdateTransform) {\n    addMaskBounds(this.mask, bounds, skipUpdateTransform);\n  }\n  addLocalBounds(bounds, localRoot) {\n    addMaskLocalBounds(this.mask, bounds, localRoot);\n  }\n  containsPoint(point, hitTestFn) {\n    const mask = this.mask;\n    return hitTestFn(mask, point);\n  }\n  reset() {\n    this.mask.measurable = true;\n    this.mask = null;\n  }\n  destroy() {\n    this.reset();\n  }\n}\n\nexport { ScissorMask };\n//# sourceMappingURL=ScissorMask.mjs.map\n","\"use strict\";\nfunction migrateFragmentFromV7toV8(fragmentShader) {\n  fragmentShader = fragmentShader.replaceAll(\"texture2D\", \"texture\").replaceAll(\"gl_FragColor\", \"finalColor\").replaceAll(\"varying\", \"in\");\n  fragmentShader = `\n        out vec4 finalColor;\n    ${fragmentShader}\n    `;\n  return fragmentShader;\n}\n\nexport { migrateFragmentFromV7toV8 };\n//# sourceMappingURL=migrateFragmentFromV7toV8.mjs.map\n","\"use strict\";\nconst GLSL_TO_SIZE = {\n  float: 1,\n  vec2: 2,\n  vec3: 3,\n  vec4: 4,\n  int: 1,\n  ivec2: 2,\n  ivec3: 3,\n  ivec4: 4,\n  uint: 1,\n  uvec2: 2,\n  uvec3: 3,\n  uvec4: 4,\n  bool: 1,\n  bvec2: 2,\n  bvec3: 3,\n  bvec4: 4,\n  mat2: 4,\n  mat3: 9,\n  mat4: 16,\n  sampler2D: 1\n};\nfunction mapSize(type) {\n  return GLSL_TO_SIZE[type];\n}\n\nexport { mapSize };\n//# sourceMappingURL=mapSize.mjs.map\n","import { deprecation, v8_0_0 } from '../../../../utils/logging/deprecation.mjs';\n\n\"use strict\";\nconst DEPRECATED_DRAW_MODES = {\n  POINTS: \"point-list\",\n  LINES: \"line-list\",\n  LINE_STRIP: \"line-strip\",\n  TRIANGLES: \"triangle-list\",\n  TRIANGLE_STRIP: \"triangle-strip\"\n};\nconst DRAW_MODES = new Proxy(DEPRECATED_DRAW_MODES, {\n  get(target, prop) {\n    deprecation(v8_0_0, `DRAW_MODES.${prop} is deprecated, use '${DEPRECATED_DRAW_MODES[prop]}' instead`);\n    return target[prop];\n  }\n});\n\nexport { DRAW_MODES };\n//# sourceMappingURL=const.mjs.map\n","import { deprecation, v8_0_0 } from '../../../../utils/logging/deprecation.mjs';\n\n\"use strict\";\nvar DEPRECATED_WRAP_MODES = /* @__PURE__ */ ((DEPRECATED_WRAP_MODES2) => {\n  DEPRECATED_WRAP_MODES2[\"CLAMP\"] = \"clamp-to-edge\";\n  DEPRECATED_WRAP_MODES2[\"REPEAT\"] = \"repeat\";\n  DEPRECATED_WRAP_MODES2[\"MIRRORED_REPEAT\"] = \"mirror-repeat\";\n  return DEPRECATED_WRAP_MODES2;\n})(DEPRECATED_WRAP_MODES || {});\nconst WRAP_MODES = new Proxy(DEPRECATED_WRAP_MODES, {\n  get(target, prop) {\n    deprecation(v8_0_0, `DRAW_MODES.${prop} is deprecated, use '${DEPRECATED_WRAP_MODES[prop]}' instead`);\n    return target[prop];\n  }\n});\nvar DEPRECATED_SCALE_MODES = /* @__PURE__ */ ((DEPRECATED_SCALE_MODES2) => {\n  DEPRECATED_SCALE_MODES2[\"NEAREST\"] = \"nearest\";\n  DEPRECATED_SCALE_MODES2[\"LINEAR\"] = \"linear\";\n  return DEPRECATED_SCALE_MODES2;\n})(DEPRECATED_SCALE_MODES || {});\nconst SCALE_MODES = new Proxy(DEPRECATED_SCALE_MODES, {\n  get(target, prop) {\n    deprecation(v8_0_0, `DRAW_MODES.${prop} is deprecated, use '${DEPRECATED_SCALE_MODES[prop]}' instead`);\n    return target[prop];\n  }\n});\n\nexport { DEPRECATED_SCALE_MODES, DEPRECATED_WRAP_MODES, SCALE_MODES, WRAP_MODES };\n//# sourceMappingURL=const.mjs.map\n","import { groupD8 } from '../../../../maths/matrix/groupD8.mjs';\n\n\"use strict\";\nclass TextureUvs {\n  constructor() {\n    this.x0 = 0;\n    this.y0 = 0;\n    this.x1 = 1;\n    this.y1 = 0;\n    this.x2 = 1;\n    this.y2 = 1;\n    this.x3 = 0;\n    this.y3 = 1;\n    this.uvsFloat32 = new Float32Array(8);\n  }\n  /**\n   * Sets the texture Uvs based on the given frame information.\n   * @protected\n   * @param frame - The frame of the texture\n   * @param baseFrame - The base frame of the texture\n   * @param rotate - Rotation of frame, see {@link groupD8}\n   */\n  set(frame, baseFrame, rotate) {\n    const tw = baseFrame.width;\n    const th = baseFrame.height;\n    if (rotate) {\n      const w2 = frame.width / 2 / tw;\n      const h2 = frame.height / 2 / th;\n      const cX = frame.x / tw + w2;\n      const cY = frame.y / th + h2;\n      rotate = groupD8.add(rotate, groupD8.NW);\n      this.x0 = cX + w2 * groupD8.uX(rotate);\n      this.y0 = cY + h2 * groupD8.uY(rotate);\n      rotate = groupD8.add(rotate, 2);\n      this.x1 = cX + w2 * groupD8.uX(rotate);\n      this.y1 = cY + h2 * groupD8.uY(rotate);\n      rotate = groupD8.add(rotate, 2);\n      this.x2 = cX + w2 * groupD8.uX(rotate);\n      this.y2 = cY + h2 * groupD8.uY(rotate);\n      rotate = groupD8.add(rotate, 2);\n      this.x3 = cX + w2 * groupD8.uX(rotate);\n      this.y3 = cY + h2 * groupD8.uY(rotate);\n    } else {\n      this.x0 = frame.x / tw;\n      this.y0 = frame.y / th;\n      this.x1 = (frame.x + frame.width) / tw;\n      this.y1 = frame.y / th;\n      this.x2 = (frame.x + frame.width) / tw;\n      this.y2 = (frame.y + frame.height) / th;\n      this.x3 = frame.x / tw;\n      this.y3 = (frame.y + frame.height) / th;\n    }\n    this.uvsFloat32[0] = this.x0;\n    this.uvsFloat32[1] = this.y0;\n    this.uvsFloat32[2] = this.x1;\n    this.uvsFloat32[3] = this.y1;\n    this.uvsFloat32[4] = this.x2;\n    this.uvsFloat32[5] = this.y2;\n    this.uvsFloat32[6] = this.x3;\n    this.uvsFloat32[7] = this.y3;\n  }\n  toString() {\n    return `[pixi.js/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`;\n  }\n}\n\nexport { TextureUvs };\n//# sourceMappingURL=TextureUvs.mjs.map\n","\"use strict\";\nfunction parseFunctionBody(fn) {\n  const fnStr = fn.toString();\n  const bodyStart = fnStr.indexOf(\"{\");\n  const bodyEnd = fnStr.lastIndexOf(\"}\");\n  if (bodyStart === -1 || bodyEnd === -1) {\n    throw new Error(\"getFunctionBody: No body found in function definition\");\n  }\n  return fnStr.slice(bodyStart + 1, bodyEnd).trim();\n}\n\nexport { parseFunctionBody };\n//# sourceMappingURL=parseFunctionBody.mjs.map\n","import { deprecation } from '../../../utils/logging/deprecation.mjs';\n\n\"use strict\";\nfunction getFastGlobalBounds(target, bounds) {\n  deprecation(\"8.7.0\", \"Use container.getFastGlobalBounds() instead\");\n  return target.getFastGlobalBounds(true, bounds);\n}\n\nexport { getFastGlobalBounds };\n//# sourceMappingURL=getFastGlobalBounds.mjs.map\n","import { ViewContainer } from '../view/ViewContainer.mjs';\n\n\"use strict\";\nclass RenderContainer extends ViewContainer {\n  /**\n   * @param options - The options for the container.\n   */\n  constructor(options) {\n    if (typeof options === \"function\") {\n      options = { render: options };\n    }\n    const { render, ...rest } = options;\n    super({\n      label: \"RenderContainer\",\n      ...rest\n    });\n    /** @internal */\n    this.renderPipeId = \"customRender\";\n    /** @internal */\n    this.batched = false;\n    if (render)\n      this.render = render;\n    this.containsPoint = options.containsPoint ?? (() => false);\n    this.addBounds = options.addBounds ?? (() => false);\n  }\n  /** @private */\n  updateBounds() {\n    this._bounds.clear();\n    this.addBounds(this._bounds);\n  }\n  /**\n   * An overridable function that can be used to render the object using the current renderer.\n   * @param _renderer - The current renderer\n   */\n  render(_renderer) {\n  }\n}\n\nexport { RenderContainer };\n//# sourceMappingURL=RenderContainer.mjs.map\n","import { deprecation } from '../../../utils/logging/deprecation.mjs';\n\n\"use strict\";\nfunction collectAllRenderables(container, instructionSet, rendererOrPipes) {\n  deprecation(\"8.7.0\", \"Please use container.collectRenderables instead.\");\n  const renderer = rendererOrPipes.renderPipes ? rendererOrPipes : rendererOrPipes.batch.renderer;\n  return container.collectRenderables(instructionSet, renderer, null);\n}\n\nexport { collectAllRenderables };\n//# sourceMappingURL=collectAllRenderables.mjs.map\n","\"use strict\";\nfunction updateLocalTransform(lt, container) {\n  const scale = container._scale;\n  const pivot = container._pivot;\n  const position = container._position;\n  const sx = scale._x;\n  const sy = scale._y;\n  const px = pivot._x;\n  const py = pivot._y;\n  lt.a = container._cx * sx;\n  lt.b = container._sx * sx;\n  lt.c = container._cy * sy;\n  lt.d = container._sy * sy;\n  lt.tx = position._x - (px * lt.a + py * lt.c);\n  lt.ty = position._y - (px * lt.b + py * lt.d);\n}\n\nexport { updateLocalTransform };\n//# sourceMappingURL=updateLocalTransform.mjs.map\n","\"use strict\";\nfunction updateWorldTransform(local, parent, world) {\n  const lta = local.a;\n  const ltb = local.b;\n  const ltc = local.c;\n  const ltd = local.d;\n  const lttx = local.tx;\n  const ltty = local.ty;\n  const pta = parent.a;\n  const ptb = parent.b;\n  const ptc = parent.c;\n  const ptd = parent.d;\n  world.a = lta * pta + ltb * ptc;\n  world.b = lta * ptb + ltb * ptd;\n  world.c = ltc * pta + ltd * ptc;\n  world.d = ltc * ptb + ltd * ptd;\n  world.tx = lttx * pta + ltty * ptc + parent.tx;\n  world.ty = lttx * ptb + ltty * ptd + parent.ty;\n}\n\nexport { updateWorldTransform };\n//# sourceMappingURL=updateWorldTransform.mjs.map\n","import { buildUvs, buildSimpleUvs } from '../../../../rendering/renderers/shared/geometry/utils/buildUvs.mjs';\nimport { transformVertices } from '../../../../rendering/renderers/shared/geometry/utils/transformVertices.mjs';\nimport { MeshGeometry } from '../../../mesh/shared/MeshGeometry.mjs';\nimport { GraphicsPath } from '../path/GraphicsPath.mjs';\nimport { shapeBuilders } from './buildContextBatches.mjs';\n\n\"use strict\";\nfunction buildGeometryFromPath(options) {\n  if (options instanceof GraphicsPath) {\n    options = {\n      path: options,\n      textureMatrix: null,\n      out: null\n    };\n  }\n  const vertices = [];\n  const uvs = [];\n  const indices = [];\n  const shapePath = options.path.shapePath;\n  const textureMatrix = options.textureMatrix;\n  shapePath.shapePrimitives.forEach(({ shape, transform: matrix }) => {\n    const indexOffset = indices.length;\n    const vertOffset = vertices.length / 2;\n    const points = [];\n    const build = shapeBuilders[shape.type];\n    build.build(shape, points);\n    if (matrix) {\n      transformVertices(points, matrix);\n    }\n    build.triangulate(points, vertices, 2, vertOffset, indices, indexOffset);\n    const uvsOffset = uvs.length / 2;\n    if (textureMatrix) {\n      if (matrix) {\n        textureMatrix.append(matrix.clone().invert());\n      }\n      buildUvs(vertices, 2, vertOffset, uvs, uvsOffset, 2, vertices.length / 2 - vertOffset, textureMatrix);\n    } else {\n      buildSimpleUvs(uvs, uvsOffset, 2, vertices.length / 2 - vertOffset);\n    }\n  });\n  const out = options.out;\n  if (out) {\n    out.positions = new Float32Array(vertices);\n    out.uvs = new Float32Array(uvs);\n    out.indices = new Uint32Array(indices);\n    return out;\n  }\n  const geometry = new MeshGeometry({\n    positions: new Float32Array(vertices),\n    uvs: new Float32Array(uvs),\n    indices: new Uint32Array(indices)\n  });\n  return geometry;\n}\n\nexport { buildGeometryFromPath };\n//# sourceMappingURL=buildGeometryFromPath.mjs.map\n","import { warn } from '../../utils/logging/warn.mjs';\nimport { Container } from '../container/Container.mjs';\n\n\"use strict\";\nconst _RenderLayer = class _RenderLayer extends Container {\n  /**\n   * Creates a new RenderLayer instance\n   * @param options - Configuration options for the RenderLayer\n   * @param {boolean} [options.sortableChildren=false] - If true, layer children will be automatically sorted each render\n   * @param {Function} [options.sortFunction] - Custom function to sort layer children. Default sorts by zIndex\n   */\n  constructor(options = {}) {\n    options = { ..._RenderLayer.defaultOptions, ...options };\n    super();\n    /**\n     * The list of objects that this layer is responsible for rendering. Objects in this list maintain\n     * their original parent in the scene graph but are rendered as part of this layer.\n     * @example\n     * ```ts\n     * const layer = new RenderLayer();\n     * const sprite = new Sprite(texture);\n     *\n     * // Add sprite to scene graph for transforms\n     * container.addChild(sprite);\n     *\n     * // Add to layer for render order control\n     * layer.attach(sprite);\n     * console.log(layer.renderLayerChildren.length); // 1\n     *\n     * // Access objects in the layer\n     * layer.renderLayerChildren.forEach(child => {\n     *     console.log('Layer child:', child);\n     * });\n     *\n     * // Check if object is in layer\n     * const isInLayer = layer.renderLayerChildren.includes(sprite);\n     *\n     * // Clear all objects from layer\n     * layer.detachAll();\n     * console.log(layer.renderLayerChildren.length); // 0\n     * ```\n     * @readonly\n     * @see {@link RenderLayer#attach} For adding objects to the layer\n     * @see {@link RenderLayer#detach} For removing objects from the layer\n     * @see {@link RenderLayer#detachAll} For removing all objects from the layer\n     */\n    this.renderLayerChildren = [];\n    this.sortableChildren = options.sortableChildren;\n    this.sortFunction = options.sortFunction;\n  }\n  /**\n   * Adds one or more Containers to this render layer. The Containers will be rendered as part of this layer\n   * while maintaining their original parent in the scene graph.\n   *\n   * If the Container already belongs to a layer, it will be removed from the old layer before being added to this one.\n   * @example\n   * ```ts\n   * const layer = new RenderLayer();\n   * const container = new Container();\n   * const sprite1 = new Sprite(texture1);\n   * const sprite2 = new Sprite(texture2);\n   *\n   * // Add sprites to scene graph for transforms\n   * container.addChild(sprite1, sprite2);\n   *\n   * // Add sprites to layer for render order control\n   * layer.attach(sprite1, sprite2);\n   *\n   * // Add single sprite with type checking\n   * const typedSprite = layer.attach<Sprite>(new Sprite(texture3));\n   * typedSprite.tint = 'red';\n   *\n   * // Automatically removes from previous layer if needed\n   * const otherLayer = new RenderLayer();\n   * otherLayer.attach(sprite1); // Removes from previous layer\n   * ```\n   * @param children - The Container(s) to add to this layer. Can be any Container or array of Containers.\n   * @returns The first child that was added, for method chaining\n   * @see {@link RenderLayer#detach} For removing objects from the layer\n   * @see {@link RenderLayer#detachAll} For removing all objects from the layer\n   * @see {@link Container#addChild} For adding to scene graph hierarchy\n   */\n  attach(...children) {\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      if (child.parentRenderLayer) {\n        if (child.parentRenderLayer === this)\n          continue;\n        child.parentRenderLayer.detach(child);\n      }\n      this.renderLayerChildren.push(child);\n      child.parentRenderLayer = this;\n      const renderGroup = this.renderGroup || this.parentRenderGroup;\n      if (renderGroup) {\n        renderGroup.structureDidChange = true;\n      }\n    }\n    return children[0];\n  }\n  /**\n   * Removes one or more Containers from this render layer. The Containers will maintain their\n   * original parent in the scene graph but will no longer be rendered as part of this layer.\n   * @example\n   * ```ts\n   * const layer = new RenderLayer();\n   * const container = new Container();\n   * const sprite1 = new Sprite(texture1);\n   * const sprite2 = new Sprite(texture2);\n   *\n   * // Add sprites to scene graph and layer\n   * container.addChild(sprite1, sprite2);\n   * layer.attach(sprite1, sprite2);\n   *\n   * // Remove single sprite from layer\n   * layer.detach(sprite1);\n   * // sprite1 is still child of container but not rendered in layer\n   *\n   * // Remove multiple sprites at once\n   * const otherLayer = new RenderLayer();\n   * otherLayer.attach(sprite3, sprite4);\n   * otherLayer.detach(sprite3, sprite4);\n   *\n   * // Type-safe detachment\n   * const typedSprite = layer.detach<Sprite>(spriteInLayer);\n   * typedSprite.texture = newTexture; // TypeScript knows this is a Sprite\n   * ```\n   * @param children - The Container(s) to remove from this layer\n   * @returns The first child that was removed, for method chaining\n   * @see {@link RenderLayer#attach} For adding objects to the layer\n   * @see {@link RenderLayer#detachAll} For removing all objects from the layer\n   * @see {@link Container#removeChild} For removing from scene graph hierarchy\n   */\n  detach(...children) {\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      const index = this.renderLayerChildren.indexOf(child);\n      if (index !== -1) {\n        this.renderLayerChildren.splice(index, 1);\n      }\n      child.parentRenderLayer = null;\n      const renderGroup = this.renderGroup || this.parentRenderGroup;\n      if (renderGroup) {\n        renderGroup.structureDidChange = true;\n      }\n    }\n    return children[0];\n  }\n  /**\n   * Removes all objects from this render layer. Objects will maintain their\n   * original parent in the scene graph but will no longer be rendered as part of this layer.\n   * @example\n   * ```ts\n   * const layer = new RenderLayer();\n   * const container = new Container();\n   *\n   * // Add multiple sprites to scene graph and layer\n   * const sprites = [\n   *     new Sprite(texture1),\n   *     new Sprite(texture2),\n   *     new Sprite(texture3)\n   * ];\n   *\n   * container.addChild(...sprites);  // Add to scene graph\n   * layer.attach(...sprites);       // Add to render layer\n   *\n   * // Later, remove all sprites from layer at once\n   * layer.detachAll();\n   * console.log(layer.renderLayerChildren.length); // 0\n   * console.log(container.children.length);        // 3 (still in scene graph)\n   * ```\n   * @returns The RenderLayer instance for method chaining\n   * @see {@link RenderLayer#attach} For adding objects to the layer\n   * @see {@link RenderLayer#detach} For removing individual objects\n   * @see {@link Container#removeChildren} For removing from scene graph\n   */\n  detachAll() {\n    const layerChildren = this.renderLayerChildren;\n    for (let i = 0; i < layerChildren.length; i++) {\n      layerChildren[i].parentRenderLayer = null;\n    }\n    this.renderLayerChildren.length = 0;\n  }\n  /**\n   * Collects renderables for this layer and its children.\n   * This method is called by the renderer to gather all objects that should be rendered in this layer.\n   * @param instructionSet - The set of instructions to collect renderables into.\n   * @param renderer - The renderer that is collecting renderables.\n   * @param _currentLayer - The current render layer being processed.\n   * @internal\n   */\n  collectRenderables(instructionSet, renderer, _currentLayer) {\n    const layerChildren = this.renderLayerChildren;\n    const length = layerChildren.length;\n    if (this.sortableChildren) {\n      this.sortRenderLayerChildren();\n    }\n    for (let i = 0; i < length; i++) {\n      if (!layerChildren[i].parent) {\n        warn(\n          \"Container must be added to both layer and scene graph. Layers only handle render order - the scene graph is required for transforms (addChild)\",\n          layerChildren[i]\n        );\n      }\n      layerChildren[i].collectRenderables(instructionSet, renderer, this);\n    }\n  }\n  /**\n   * Sort the layer's children using the defined sort function. This method allows manual sorting\n   * of layer children and is automatically called during rendering if sortableChildren is true.\n   * @example\n   * ```ts\n   * const layer = new RenderLayer();\n   *\n   * // Add multiple sprites at different depths\n   * const sprite1 = new Sprite(texture);\n   * const sprite2 = new Sprite(texture);\n   * const sprite3 = new Sprite(texture);\n   *\n   * sprite1.zIndex = 3;\n   * sprite2.zIndex = 1;\n   * sprite3.zIndex = 2;\n   *\n   * layer.attach(sprite1, sprite2, sprite3);\n   *\n   * // Manual sorting with default zIndex sort\n   * layer.sortRenderLayerChildren();\n   * // Order is now: sprite2 (1), sprite3 (2), sprite1 (3)\n   *\n   * // Custom sort by y position\n   * layer.sortFunction = (a, b) => a.y - b.y;\n   * layer.sortRenderLayerChildren();\n   *\n   * // Automatic sorting\n   * layer.sortableChildren = true; // Will sort each render\n   * ```\n   * @returns The RenderLayer instance for method chaining\n   * @see {@link RenderLayer#sortableChildren} For enabling automatic sorting\n   * @see {@link RenderLayer#sortFunction} For customizing the sort logic\n   */\n  sortRenderLayerChildren() {\n    this.renderLayerChildren.sort(this.sortFunction);\n  }\n  /**\n   * Recursively calculates the global bounds of this RenderLayer and its children.\n   * @param factorRenderLayers\n   * @param bounds\n   * @param _currentLayer\n   * @internal\n   */\n  _getGlobalBoundsRecursive(factorRenderLayers, bounds, _currentLayer) {\n    if (!factorRenderLayers)\n      return;\n    const children = this.renderLayerChildren;\n    for (let i = 0; i < children.length; i++) {\n      children[i]._getGlobalBoundsRecursive(true, bounds, this);\n    }\n  }\n  /**\n   * @inheritdoc\n   * @internal\n   */\n  getFastGlobalBounds(factorRenderLayers, bounds) {\n    return super.getFastGlobalBounds(factorRenderLayers, bounds);\n  }\n  /**\n   * This method is not available in RenderLayer.\n   *\n   * Calling this method will throw an error. Please use `RenderLayer.attach()` instead.\n   * @param {...any} _children\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  addChild(..._children) {\n    throw new Error(\n      \"RenderLayer.addChild() is not available. Please use RenderLayer.attach()\"\n    );\n  }\n  /**\n   * This method is not available in RenderLayer.\n   * Calling this method will throw an error. Please use `RenderLayer.detach()` instead.\n   * @param {...any} _children\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  removeChild(..._children) {\n    throw new Error(\n      \"RenderLayer.removeChild() is not available. Please use RenderLayer.detach()\"\n    );\n  }\n  /**\n   * This method is not available in RenderLayer.\n   *\n   * Calling this method will throw an error. Please use `RenderLayer.detach()` instead.\n   * @param {number} [_beginIndex]\n   * @param {number} [_endIndex]\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  removeChildren(_beginIndex, _endIndex) {\n    throw new Error(\n      \"RenderLayer.removeChildren() is not available. Please use RenderLayer.detach()\"\n    );\n  }\n  /**\n   * This method is not available in RenderLayer.\n   *\n   * Calling this method will throw an error.\n   * @param {number} _index\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  removeChildAt(_index) {\n    throw new Error(\n      \"RenderLayer.removeChildAt() is not available\"\n    );\n  }\n  /**\n   * This method is not available in RenderLayer.\n   *\n   * Calling this method will throw an error.\n   * @param {number} _index\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  getChildAt(_index) {\n    throw new Error(\n      \"RenderLayer.getChildAt() is not available\"\n    );\n  }\n  /**\n   * This method is not available in RenderLayer.\n   *\n   * Calling this method will throw an error.\n   * @param {Container} _child\n   * @param {number} _index\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  setChildIndex(_child, _index) {\n    throw new Error(\n      \"RenderLayer.setChildIndex() is not available\"\n    );\n  }\n  /**\n   * This method is not available in RenderLayer.\n   *\n   * Calling this method will throw an error.\n   * @param {Container} _child\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  getChildIndex(_child) {\n    throw new Error(\n      \"RenderLayer.getChildIndex() is not available\"\n    );\n  }\n  /**\n   * This method is not available in RenderLayer.\n   *\n   * Calling this method will throw an error.\n   * @param {Container} _child\n   * @param {number} _index\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  addChildAt(_child, _index) {\n    throw new Error(\n      \"RenderLayer.addChildAt() is not available\"\n    );\n  }\n  /**\n   * This method is not available in RenderLayer.\n   *\n   * Calling this method will throw an error.\n   * @param {Container} _child\n   * @param {Container} _child2\n   * @ignore\n   */\n  swapChildren(_child, _child2) {\n    throw new Error(\n      \"RenderLayer.swapChildren() is not available\"\n    );\n  }\n  /**\n   * This method is not available in RenderLayer.\n   *\n   * Calling this method will throw an error.\n   * @param _child - The child to reparent\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  reparentChild(..._child) {\n    throw new Error(\"RenderLayer.reparentChild() is not available with the render layer\");\n  }\n  /**\n   * This method is not available in RenderLayer.\n   *\n   * Calling this method will throw an error.\n   * @param _child - The child to reparent\n   * @param _index - The index to reparent the child to\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  reparentChildAt(_child, _index) {\n    throw new Error(\"RenderLayer.reparentChildAt() is not available with the render layer\");\n  }\n};\n/**\n * Default options for RenderLayer instances. These options control the sorting behavior\n * of objects within the render layer.\n * @example\n * ```ts\n * // Create a custom render layer with modified default options\n * RenderLayer.defaultOptions = {\n *     sortableChildren: true,\n *     sortFunction: (a, b) => a.y - b.y // Sort by vertical position\n * };\n *\n * // All new render layers will use these defaults\n * const layer1 = new RenderLayer();\n * // layer1 will have sortableChildren = true\n * ```\n * @property {boolean} sortableChildren -\n * @property {Function} sortFunction -\n * @see {@link RenderLayer} For the main render layer class\n * @see {@link Container#zIndex} For the default sort property\n * @see {@link RenderLayer#sortRenderLayerChildren} For manual sorting\n */\n_RenderLayer.defaultOptions = {\n  /** If true, layer children will be automatically sorted each render. Default is false. */\n  sortableChildren: false,\n  /**\n   * Function used to sort layer children.\n   * Default sorts by zIndex. Accepts two Container objects and returns\n   * a number indicating their relative order.\n   * @param a - First container to compare\n   * @param b - Second container to compare\n   * @returns Negative if a should render before b, positive if b should render before a\n   */\n  sortFunction: (a, b) => a.zIndex - b.zIndex\n};\nlet RenderLayer = _RenderLayer;\n\nexport { RenderLayer };\n//# sourceMappingURL=RenderLayer.mjs.map\n","\"use strict\";\nfunction applyProjectiveTransformationToPlane(width, height, geometry, transformationMatrix) {\n  const buffer = geometry.buffers[0];\n  const vertices = buffer.data;\n  const { verticesX, verticesY } = geometry;\n  const sizeX = width / (verticesX - 1);\n  const sizeY = height / (verticesY - 1);\n  let index = 0;\n  const a00 = transformationMatrix[0];\n  const a01 = transformationMatrix[1];\n  const a02 = transformationMatrix[2];\n  const a10 = transformationMatrix[3];\n  const a11 = transformationMatrix[4];\n  const a12 = transformationMatrix[5];\n  const a20 = transformationMatrix[6];\n  const a21 = transformationMatrix[7];\n  const a22 = transformationMatrix[8];\n  for (let i = 0; i < vertices.length; i += 2) {\n    const x = index % verticesX * sizeX;\n    const y = (index / verticesX | 0) * sizeY;\n    const newX = a00 * x + a01 * y + a02;\n    const newY = a10 * x + a11 * y + a12;\n    const w = a20 * x + a21 * y + a22;\n    vertices[i] = newX / w;\n    vertices[i + 1] = newY / w;\n    index++;\n  }\n  buffer.update();\n}\n\nexport { applyProjectiveTransformationToPlane };\n//# sourceMappingURL=applyProjectiveTransformationToPlane.mjs.map\n","\"use strict\";\nfunction computeAdjugate(out, matrix) {\n  const a00 = matrix[0];\n  const a01 = matrix[1];\n  const a02 = matrix[2];\n  const a10 = matrix[3];\n  const a11 = matrix[4];\n  const a12 = matrix[5];\n  const a20 = matrix[6];\n  const a21 = matrix[7];\n  const a22 = matrix[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\nfunction multiplyMatrix3x3(out, a, b) {\n  const a00 = a[0];\n  const a01 = a[1];\n  const a02 = a[2];\n  const a10 = a[3];\n  const a11 = a[4];\n  const a12 = a[5];\n  const a20 = a[6];\n  const a21 = a[7];\n  const a22 = a[8];\n  const b00 = b[0];\n  const b01 = b[1];\n  const b02 = b[2];\n  const b10 = b[3];\n  const b11 = b[4];\n  const b12 = b[5];\n  const b20 = b[6];\n  const b21 = b[7];\n  const b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\nfunction multiplyMatrixAndVector(out, m, v) {\n  const x = v[0];\n  const y = v[1];\n  const z = v[2];\n  out[0] = m[0] * x + m[1] * y + m[2] * z;\n  out[1] = m[3] * x + m[4] * y + m[5] * z;\n  out[2] = m[6] * x + m[7] * y + m[8] * z;\n  return out;\n}\nconst tempMatrix = [0, 0, 0, 0, 0, 0, 0, 0, 0];\nconst tempVec = [0, 0, 0];\nconst tempVec2 = [0, 0, 0];\nfunction generateBasisToPointsMatrix(out, x1, y1, x2, y2, x3, y3, x4, y4) {\n  const m = tempMatrix;\n  m[0] = x1;\n  m[1] = x2;\n  m[2] = x3;\n  m[3] = y1;\n  m[4] = y2;\n  m[5] = y3;\n  m[6] = 1;\n  m[7] = 1;\n  m[8] = 1;\n  const adjugateM = computeAdjugate(\n    out,\n    // reusing out as adjugateM is only used once\n    m\n  );\n  tempVec2[0] = x4;\n  tempVec2[1] = y4;\n  tempVec2[2] = 1;\n  const v = multiplyMatrixAndVector(\n    tempVec,\n    adjugateM,\n    tempVec2\n  );\n  const diagonalMatrix = out;\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = v[2];\n  return multiplyMatrix3x3(out, diagonalMatrix, m);\n}\nconst tempSourceMatrix = [0, 0, 0, 0, 0, 0, 0, 0, 0];\nconst tempDestinationMatrix = [0, 0, 0, 0, 0, 0, 0, 0, 0];\nfunction compute2DProjection(out, x1s, y1s, x1d, y1d, x2s, y2s, x2d, y2d, x3s, y3s, x3d, y3d, x4s, y4s, x4d, y4d) {\n  const sourceMatrix = generateBasisToPointsMatrix(\n    tempSourceMatrix,\n    x1s,\n    y1s,\n    x2s,\n    y2s,\n    x3s,\n    y3s,\n    x4s,\n    y4s\n  );\n  const destinationMatrix = generateBasisToPointsMatrix(\n    tempDestinationMatrix,\n    x1d,\n    y1d,\n    x2d,\n    y2d,\n    x3d,\n    y3d,\n    x4d,\n    y4d\n  );\n  return multiplyMatrix3x3(\n    out,\n    computeAdjugate(sourceMatrix, sourceMatrix),\n    destinationMatrix\n  );\n}\n\nexport { compute2DProjection };\n//# sourceMappingURL=compute2DProjections.mjs.map\n","import { PlaneGeometry } from '../mesh-plane/PlaneGeometry.mjs';\nimport { applyProjectiveTransformationToPlane } from './utils/applyProjectiveTransformationToPlane.mjs';\nimport { compute2DProjection } from './utils/compute2DProjections.mjs';\n\n\"use strict\";\nclass PerspectivePlaneGeometry extends PlaneGeometry {\n  /**\n   * @param options - Options to be applied to MeshPlane\n   * @param options.width - The width of the plane\n   * @param options.height - The height of the plane\n   * @param options.verticesX - The amount of vertices on the x axis\n   * @param options.verticesY - The amount of vertices on the y axis\n   */\n  constructor(options) {\n    super(options);\n    this._projectionMatrix = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n    const { width, height } = options;\n    this.corners = [0, 0, width, 0, width, height, 0, height];\n  }\n  /**\n   * Will set the corners of the quad to the given coordinates\n   * Calculating the perspective so it looks correct!\n   * @param x0 - x coordinate of the first corner\n   * @param y0 - y coordinate of the first corner\n   * @param x1 - x coordinate of the second corner\n   * @param y1 - y coordinate of the second corner\n   * @param x2 - x coordinate of the third corner\n   * @param y2 - y coordinate of the third corner\n   * @param x3 - x coordinate of the fourth corner\n   * @param y3 - y coordinate of the fourth corner\n   */\n  setCorners(x0, y0, x1, y1, x2, y2, x3, y3) {\n    const corners = this.corners;\n    corners[0] = x0;\n    corners[1] = y0;\n    corners[2] = x1;\n    corners[3] = y1;\n    corners[4] = x2;\n    corners[5] = y2;\n    corners[6] = x3;\n    corners[7] = y3;\n    this.updateProjection();\n  }\n  /** Update the projection matrix based on the corners */\n  updateProjection() {\n    const { width, height } = this;\n    const corners = this.corners;\n    const projectionMatrix = compute2DProjection(\n      this._projectionMatrix,\n      0,\n      0,\n      // top-left source\n      corners[0],\n      corners[1],\n      // top-left dest\n      width,\n      0,\n      // top-right source\n      corners[2],\n      corners[3],\n      // top-right dest\n      width,\n      height,\n      // bottom-right source\n      corners[4],\n      corners[5],\n      // bottom-right dest\n      0,\n      height,\n      // bottom-left source\n      corners[6],\n      corners[7]\n      // bottom-left dest\n    );\n    applyProjectiveTransformationToPlane(\n      width,\n      height,\n      this,\n      projectionMatrix\n    );\n  }\n}\n\nexport { PerspectivePlaneGeometry };\n//# sourceMappingURL=PerspectivePlaneGeometry.mjs.map\n","import { Texture } from '../../rendering/renderers/shared/texture/Texture.mjs';\nimport { definedProps } from '../container/utils/definedProps.mjs';\nimport { Mesh } from '../mesh/shared/Mesh.mjs';\nimport { PerspectivePlaneGeometry } from './PerspectivePlaneGeometry.mjs';\n\n\"use strict\";\nconst _PerspectiveMesh = class _PerspectiveMesh extends Mesh {\n  /**\n   * @param options - Options to be applied to PerspectiveMesh\n   */\n  constructor(options) {\n    options = { ..._PerspectiveMesh.defaultOptions, ...options };\n    const { texture, verticesX, verticesY, ...rest } = options;\n    const planeGeometry = new PerspectivePlaneGeometry(definedProps({\n      width: texture.width,\n      height: texture.height,\n      verticesX,\n      verticesY\n    }));\n    super(definedProps({ ...rest, geometry: planeGeometry }));\n    this._texture = texture;\n    this.geometry.setCorners(\n      options.x0,\n      options.y0,\n      options.x1,\n      options.y1,\n      options.x2,\n      options.y2,\n      options.x3,\n      options.y3\n    );\n  }\n  /** Update the geometry when the texture is updated */\n  textureUpdated() {\n    const geometry = this.geometry;\n    if (!geometry)\n      return;\n    const { width, height } = this.texture;\n    if (geometry.width !== width || geometry.height !== height) {\n      geometry.width = width;\n      geometry.height = height;\n      geometry.updateProjection();\n    }\n  }\n  set texture(value) {\n    if (this._texture === value)\n      return;\n    super.texture = value;\n    this.textureUpdated();\n  }\n  /**\n   * The texture that the mesh uses for rendering. When changed, automatically updates\n   * the geometry to match the new texture dimensions.\n   * @example\n   * ```ts\n   * const mesh = new PerspectiveMesh({\n   *     texture: Texture.from('initial.png'),\n   * });\n   *\n   * // Update texture and maintain perspective\n   * mesh.texture = Texture.from('newImage.png');\n   * ```\n   * @see {@link Texture} For texture creation and management\n   * @see {@link PerspectiveMesh#setCorners} For adjusting the mesh perspective\n   */\n  get texture() {\n    return this._texture;\n  }\n  /**\n   * Sets the corners of the mesh to create a perspective transformation. The corners should be\n   * specified in clockwise order starting from the top-left.\n   *\n   * The mesh automatically recalculates the UV coordinates to create the perspective effect.\n   * @example\n   * ```ts\n   * const mesh = new PerspectiveMesh({\n   *     texture: Texture.from('myImage.png'),\n   * });\n   *\n   * // Create a basic perspective tilt\n   * mesh.setCorners(\n   *     0, 0,      // Top-left\n   *     100, 20,   // Top-right (raised)\n   *     100, 100,  // Bottom-right\n   *     0, 80      // Bottom-left\n   * );\n   *\n   * // Create a skewed billboard effect\n   * mesh.setCorners(\n   *     0, 30,     // Top-left (shifted down)\n   *     128, 0,    // Top-right (raised)\n   *     128, 128,  // Bottom-right\n   *     0, 98      // Bottom-left (shifted up)\n   * );\n   *\n   * // Animate perspective\n   * app.ticker.add((delta) => {\n   *     const time = performance.now() / 1000;\n   *     const wave = Math.sin(time) * 20;\n   *\n   *     mesh.setCorners(\n   *         0, wave,      // Top-left\n   *         100, -wave,   // Top-right\n   *         100, 100,     // Bottom-right\n   *         0, 100        // Bottom-left\n   *     );\n   * });\n   * ```\n   * @param x0 - x-coordinate of the top-left corner\n   * @param y0 - y-coordinate of the top-left corner\n   * @param x1 - x-coordinate of the top-right corner\n   * @param y1 - y-coordinate of the top-right corner\n   * @param x2 - x-coordinate of the bottom-right corner\n   * @param y2 - y-coordinate of the bottom-right corner\n   * @param x3 - x-coordinate of the bottom-left corner\n   * @param y3 - y-coordinate of the bottom-left corner\n   * @returns The PerspectiveMesh instance for method chaining\n   * @see {@link PerspectivePlaneGeometry} For the underlying geometry calculations\n   */\n  setCorners(x0, y0, x1, y1, x2, y2, x3, y3) {\n    this.geometry.setCorners(x0, y0, x1, y1, x2, y2, x3, y3);\n  }\n};\n/**\n * Default options for creating a PerspectiveMesh instance.\n *\n * Creates a 100x100 pixel square mesh\n * with a white texture and 10x10 vertex grid for the perspective calculations.\n * @example\n * ```ts\n * // Change defaults globally\n * PerspectiveMesh.defaultOptions = {\n *     ...PerspectiveMesh.defaultOptions,\n *     verticesX: 15,\n *     verticesY: 15,\n *     // Move top edge up for default skew\n *     y0: -20,\n *     y1: -20\n * };\n * ```\n * @see {@link PerspectivePlaneOptions} For all available options\n * @see {@link PerspectivePlaneGeometry} For how vertices affect perspective quality\n */\n_PerspectiveMesh.defaultOptions = {\n  texture: Texture.WHITE,\n  verticesX: 10,\n  verticesY: 10,\n  x0: 0,\n  y0: 0,\n  x1: 100,\n  y1: 0,\n  x2: 100,\n  y2: 100,\n  x3: 0,\n  y3: 100\n};\nlet PerspectiveMesh = _PerspectiveMesh;\n\nexport { PerspectiveMesh };\n//# sourceMappingURL=PerspectiveMesh.mjs.map\n","import { definedProps } from '../container/utils/definedProps.mjs';\nimport { Mesh } from '../mesh/shared/Mesh.mjs';\nimport { PlaneGeometry } from './PlaneGeometry.mjs';\n\n\"use strict\";\nclass MeshPlane extends Mesh {\n  /**\n   * @param options - Options to be applied to MeshPlane\n   */\n  constructor(options) {\n    const { texture, verticesX, verticesY, ...rest } = options;\n    const planeGeometry = new PlaneGeometry(definedProps({\n      width: texture.width,\n      height: texture.height,\n      verticesX,\n      verticesY\n    }));\n    super(definedProps({ ...rest, geometry: planeGeometry, texture }));\n    this.texture = texture;\n    this.autoResize = true;\n  }\n  /**\n   * Method used for overrides, to do something in case texture frame was changed.\n   * Meshes based on plane can override it and change more details based on texture.\n   * @internal\n   */\n  textureUpdated() {\n    const geometry = this.geometry;\n    const { width, height } = this.texture;\n    if (this.autoResize && (geometry.width !== width || geometry.height !== height)) {\n      geometry.width = width;\n      geometry.height = height;\n      geometry.build({});\n    }\n  }\n  set texture(value) {\n    this._texture?.off(\"update\", this.textureUpdated, this);\n    super.texture = value;\n    value.on(\"update\", this.textureUpdated, this);\n    this.textureUpdated();\n  }\n  /**\n   * The texture that the mesh plane uses for rendering. When changed, automatically updates\n   * geometry dimensions if autoResize is true and manages texture update event listeners.\n   * @example\n   * ```ts\n   * const plane = new MeshPlane({\n   *     texture: Assets.get('initial.png'),\n   *     verticesX: 10,\n   *     verticesY: 10\n   * });\n   *\n   * // Update texture and auto-resize geometry\n   * plane.texture = Assets.get('larger.png');\n   * ```\n   * @see {@link MeshPlane#autoResize} For controlling automatic geometry updates\n   * @see {@link PlaneGeometry} For manual geometry updates\n   * @see {@link Texture} For texture creation and management\n   */\n  get texture() {\n    return this._texture;\n  }\n  /**\n   * Destroys this sprite renderable and optionally its texture.\n   * @param options - Options parameter. A boolean will act as if all options\n   *  have been set to that value\n   * @example\n   * meshPlane.destroy();\n   * meshPlane.destroy(true);\n   * meshPlane.destroy({ texture: true, textureSource: true });\n   */\n  destroy(options) {\n    this.texture.off(\"update\", this.textureUpdated, this);\n    super.destroy(options);\n  }\n}\n\nexport { MeshPlane };\n//# sourceMappingURL=MeshPlane.mjs.map\n","import { MeshGeometry } from '../mesh/shared/MeshGeometry.mjs';\n\n\"use strict\";\nconst _RopeGeometry = class _RopeGeometry extends MeshGeometry {\n  /**\n   * @param options - Options to be applied to rope geometry\n   */\n  constructor(options) {\n    const { width, points, textureScale } = { ..._RopeGeometry.defaultOptions, ...options };\n    super({\n      positions: new Float32Array(points.length * 4),\n      uvs: new Float32Array(points.length * 4),\n      indices: new Uint32Array((points.length - 1) * 6)\n    });\n    this.points = points;\n    this._width = width;\n    this.textureScale = textureScale;\n    this._build();\n  }\n  /**\n   * The width (i.e., thickness) of the rope.\n   * @readonly\n   */\n  get width() {\n    return this._width;\n  }\n  /** Refreshes Rope indices and uvs */\n  _build() {\n    const points = this.points;\n    if (!points)\n      return;\n    const vertexBuffer = this.getBuffer(\"aPosition\");\n    const uvBuffer = this.getBuffer(\"aUV\");\n    const indexBuffer = this.getIndex();\n    if (points.length < 1) {\n      return;\n    }\n    if (vertexBuffer.data.length / 4 !== points.length) {\n      vertexBuffer.data = new Float32Array(points.length * 4);\n      uvBuffer.data = new Float32Array(points.length * 4);\n      indexBuffer.data = new Uint16Array((points.length - 1) * 6);\n    }\n    const uvs = uvBuffer.data;\n    const indices = indexBuffer.data;\n    uvs[0] = 0;\n    uvs[1] = 0;\n    uvs[2] = 0;\n    uvs[3] = 1;\n    let amount = 0;\n    let prev = points[0];\n    const textureWidth = this._width * this.textureScale;\n    const total = points.length;\n    for (let i = 0; i < total; i++) {\n      const index = i * 4;\n      if (this.textureScale > 0) {\n        const dx = prev.x - points[i].x;\n        const dy = prev.y - points[i].y;\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        prev = points[i];\n        amount += distance / textureWidth;\n      } else {\n        amount = i / (total - 1);\n      }\n      uvs[index] = amount;\n      uvs[index + 1] = 0;\n      uvs[index + 2] = amount;\n      uvs[index + 3] = 1;\n    }\n    let indexCount = 0;\n    for (let i = 0; i < total - 1; i++) {\n      const index = i * 2;\n      indices[indexCount++] = index;\n      indices[indexCount++] = index + 1;\n      indices[indexCount++] = index + 2;\n      indices[indexCount++] = index + 2;\n      indices[indexCount++] = index + 1;\n      indices[indexCount++] = index + 3;\n    }\n    uvBuffer.update();\n    indexBuffer.update();\n    this.updateVertices();\n  }\n  /** refreshes vertices of Rope mesh */\n  updateVertices() {\n    const points = this.points;\n    if (points.length < 1) {\n      return;\n    }\n    let lastPoint = points[0];\n    let nextPoint;\n    let perpX = 0;\n    let perpY = 0;\n    const vertices = this.buffers[0].data;\n    const total = points.length;\n    const halfWidth = this.textureScale > 0 ? this.textureScale * this._width / 2 : this._width / 2;\n    for (let i = 0; i < total; i++) {\n      const point = points[i];\n      const index = i * 4;\n      if (i < points.length - 1) {\n        nextPoint = points[i + 1];\n      } else {\n        nextPoint = point;\n      }\n      perpY = -(nextPoint.x - lastPoint.x);\n      perpX = nextPoint.y - lastPoint.y;\n      let ratio = (1 - i / (total - 1)) * 10;\n      if (ratio > 1) {\n        ratio = 1;\n      }\n      const perpLength = Math.sqrt(perpX * perpX + perpY * perpY);\n      if (perpLength < 1e-6) {\n        perpX = 0;\n        perpY = 0;\n      } else {\n        perpX /= perpLength;\n        perpY /= perpLength;\n        perpX *= halfWidth;\n        perpY *= halfWidth;\n      }\n      vertices[index] = point.x + perpX;\n      vertices[index + 1] = point.y + perpY;\n      vertices[index + 2] = point.x - perpX;\n      vertices[index + 3] = point.y - perpY;\n      lastPoint = point;\n    }\n    this.buffers[0].update();\n  }\n  /** Refreshes Rope indices and uvs */\n  update() {\n    if (this.textureScale > 0) {\n      this._build();\n    } else {\n      this.updateVertices();\n    }\n  }\n};\n/** Default options for RopeGeometry constructor. */\n_RopeGeometry.defaultOptions = {\n  /** The width (i.e., thickness) of the rope. */\n  width: 200,\n  /** An array of points that determine the rope. */\n  points: [],\n  /** Rope texture scale, if zero then the rope texture is stretched. */\n  textureScale: 0\n};\nlet RopeGeometry = _RopeGeometry;\n\nexport { RopeGeometry };\n//# sourceMappingURL=RopeGeometry.mjs.map\n","import { definedProps } from '../container/utils/definedProps.mjs';\nimport { Mesh } from '../mesh/shared/Mesh.mjs';\nimport { RopeGeometry } from './RopeGeometry.mjs';\n\n\"use strict\";\nconst _MeshRope = class _MeshRope extends Mesh {\n  /**\n   * Note: The wrap mode of the texture is set to REPEAT if `textureScale` is positive.\n   * @param options\n   * @param options.texture - The texture to use on the rope.\n   * @param options.points - An array of {@link math.Point} objects to construct this rope.\n   * @param {number} options.textureScale - Optional. Positive values scale rope texture\n   * keeping its aspect ratio. You can reduce alpha channel artifacts by providing a larger texture\n   * and downsampling here. If set to zero, texture will be stretched instead.\n   */\n  constructor(options) {\n    const { texture, points, textureScale, ...rest } = { ..._MeshRope.defaultOptions, ...options };\n    const ropeGeometry = new RopeGeometry(definedProps({ width: texture.height, points, textureScale }));\n    if (textureScale > 0) {\n      texture.source.style.addressMode = \"repeat\";\n    }\n    super(definedProps({\n      ...rest,\n      texture,\n      geometry: ropeGeometry\n    }));\n    this.autoUpdate = true;\n    this.onRender = this._render;\n  }\n  _render() {\n    const geometry = this.geometry;\n    if (this.autoUpdate || geometry._width !== this.texture.height) {\n      geometry._width = this.texture.height;\n      geometry.update();\n    }\n  }\n};\n/**\n * Default options for creating a MeshRope instance. These values are used when specific\n * options aren't provided in the constructor.\n * @example\n * ```ts\n * // Use default options globally\n * MeshRope.defaultOptions = {\n *     textureScale: 0.5  // Set higher quality texture scaling\n * };\n *\n * // Create rope with modified defaults\n * const rope = new MeshRope({\n *     texture: Texture.from('rope.png'),\n *     points: [\n *         new Point(0, 0),\n *         new Point(100, 0)\n *     ]\n * }); // Will use textureScale: 0.5\n * ```\n * @property {number} textureScale - Controls texture scaling along the rope (0 = stretch)\n * @see {@link MeshRopeOptions} For all available options\n */\n_MeshRope.defaultOptions = {\n  textureScale: 0\n};\nlet MeshRope = _MeshRope;\n\nexport { MeshRope };\n//# sourceMappingURL=MeshRope.mjs.map\n","import { definedProps } from '../container/utils/definedProps.mjs';\nimport { Mesh } from '../mesh/shared/Mesh.mjs';\nimport { MeshGeometry } from '../mesh/shared/MeshGeometry.mjs';\n\n\"use strict\";\nclass MeshSimple extends Mesh {\n  /**\n   * @param options - Options to be used for construction\n   */\n  constructor(options) {\n    const { texture, vertices, uvs, indices, topology, ...rest } = options;\n    const geometry = new MeshGeometry(definedProps({\n      positions: vertices,\n      uvs,\n      indices,\n      topology\n    }));\n    super(definedProps({\n      ...rest,\n      texture,\n      geometry\n    }));\n    this.autoUpdate = true;\n    this.onRender = this._render;\n  }\n  /**\n   * The vertex positions of the mesh as a TypedArray. Each vertex is represented by two\n   * consecutive values (x, y) in the array. Changes to these values will update the mesh's shape.\n   * @example\n   * ```ts\n   * // Read vertex positions\n   * const vertices = mesh.vertices;\n   * console.log('First vertex:', vertices[0], vertices[1]);\n   *\n   * // Modify vertices directly\n   * vertices[0] += 10;  // Move first vertex right\n   * vertices[1] -= 20;  // Move first vertex up\n   *\n   * // Animate vertices\n   * app.ticker.add(() => {\n   *     const time = performance.now() / 1000;\n   *     const vertices = mesh.vertices;\n   *\n   *     // Wave motion\n   *     for (let i = 0; i < vertices.length; i += 2) {\n   *         vertices[i + 1] = Math.sin(time + i * 0.5) * 20;\n   *     }\n   * });\n   * ```\n   * @see {@link MeshSimple#autoUpdate} For controlling vertex buffer updates\n   * @see {@link MeshGeometry#getBuffer} For direct buffer access\n   */\n  get vertices() {\n    return this.geometry.getBuffer(\"aPosition\").data;\n  }\n  set vertices(value) {\n    this.geometry.getBuffer(\"aPosition\").data = value;\n  }\n  _render() {\n    if (this.autoUpdate) {\n      this.geometry.getBuffer(\"aPosition\").update();\n    }\n  }\n}\n\nexport { MeshSimple };\n//# sourceMappingURL=MeshSimple.mjs.map\n","\"use strict\";\nfunction getTextureDefaultMatrix(texture, out) {\n  const { width, height } = texture.frame;\n  out.scale(1 / width, 1 / height);\n  return out;\n}\n\nexport { getTextureDefaultMatrix };\n//# sourceMappingURL=getTextureDefaultMatrix.mjs.map\n","import { Color } from '../../../color/Color.mjs';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture.mjs';\nimport { bgr2rgb } from '../../container/container-mixins/getGlobalMixin.mjs';\nimport { assignWithIgnore } from '../../container/utils/assignWithIgnore.mjs';\n\n\"use strict\";\nconst _Particle = class _Particle {\n  constructor(options) {\n    if (options instanceof Texture) {\n      this.texture = options;\n      assignWithIgnore(this, _Particle.defaultOptions, {});\n    } else {\n      const combined = { ..._Particle.defaultOptions, ...options };\n      assignWithIgnore(this, combined, {});\n    }\n  }\n  /**\n   * The transparency of the particle. Values range from 0 (fully transparent)\n   * to 1 (fully opaque). Values outside this range are clamped.\n   * @example\n   * ```ts\n   * // Create a semi-transparent particle\n   * const particle = new Particle({\n   *     texture: Texture.from('particle.png'),\n   *     alpha: 0.5\n   * });\n   *\n   * // Fade out\n   * particle.alpha *= 0.9;\n   *\n   * // Fade in\n   * particle.alpha = Math.min(particle.alpha + 0.1, 1);\n   *\n   * // Values are clamped to valid range\n   * particle.alpha = 1.5; // Becomes 1.0\n   * particle.alpha = -0.5; // Becomes 0.0\n   *\n   * // Animate transparency\n   * app.ticker.add((delta) => {\n   *     const time = performance.now() / 1000;\n   *     particle.alpha = 0.5 + Math.sin(time) * 0.5; // Pulse between 0-1\n   * });\n   * ```\n   * @default 1\n   * @see {@link Particle#tint} For controlling particle color\n   * @see {@link Particle#color} For the combined color and alpha value\n   */\n  get alpha() {\n    return this._alpha;\n  }\n  set alpha(value) {\n    this._alpha = Math.min(Math.max(value, 0), 1);\n    this._updateColor();\n  }\n  /**\n   * The tint color of the particle. Can be set using hex numbers or CSS color strings.\n   * The tint is multiplied with the texture color to create the final particle color.\n   * @example\n   * ```ts\n   * // Create a red particle\n   * const particle = new Particle({\n   *     texture: Texture.from('particle.png'),\n   *     tint: 0xff0000\n   * });\n   *\n   * // Use CSS color strings\n   * particle.tint = '#00ff00';  // Green\n   * particle.tint = 'blue';     // Blue\n   *\n   * // Animate tint color\n   * app.ticker.add(() => {\n   *     const time = performance.now() / 1000;\n   *\n   *     // Cycle through hues\n   *     const hue = (time * 50) % 360;\n   *     particle.tint = `hsl(${hue}, 100%, 50%)`;\n   * });\n   *\n   * // Reset to white (no tint)\n   * particle.tint = 0xffffff;\n   * ```\n   * @type {ColorSource} Hex number or CSS color string\n   * @default 0xffffff\n   * @see {@link Particle#alpha} For controlling transparency\n   * @see {@link Particle#color} For the combined color and alpha value\n   * @see {@link Color} For supported color formats\n   */\n  get tint() {\n    return bgr2rgb(this._tint);\n  }\n  set tint(value) {\n    this._tint = Color.shared.setValue(value ?? 16777215).toBgrNumber();\n    this._updateColor();\n  }\n  _updateColor() {\n    this.color = this._tint + ((this._alpha * 255 | 0) << 24);\n  }\n};\n/**\n * Default options used when creating new particles. These values are applied when specific\n * options aren't provided in the constructor.\n * @example\n * ```ts\n * // Override defaults globally\n * Particle.defaultOptions = {\n *     ...Particle.defaultOptions,\n *     anchorX: 0.5,\n *     anchorY: 0.5,\n *     alpha: 0.8\n * };\n *\n * // New particles use modified defaults\n * const centeredParticle = new Particle(texture);\n * console.log(centeredParticle.anchorX); // 0.5\n * console.log(centeredParticle.alpha); // 0.8\n * ```\n * @see {@link ParticleOptions} For all available options\n * @see {@link Particle} For the particle implementation\n */\n_Particle.defaultOptions = {\n  anchorX: 0,\n  anchorY: 0,\n  x: 0,\n  y: 0,\n  scaleX: 1,\n  scaleY: 1,\n  rotation: 0,\n  tint: 16777215,\n  alpha: 1\n};\nlet Particle = _Particle;\n\nexport { Particle };\n//# sourceMappingURL=Particle.mjs.map\n","\"use strict\";\nconst particleData = {\n  vertex: {\n    attributeName: \"aVertex\",\n    format: \"float32x2\",\n    code: `\n            const texture = p.texture;\n            const sx = p.scaleX;\n            const sy = p.scaleY;\n            const ax = p.anchorX;\n            const ay = p.anchorY;\n            const trim = texture.trim;\n            const orig = texture.orig;\n\n            if (trim)\n            {\n                w1 = trim.x - (ax * orig.width);\n                w0 = w1 + trim.width;\n\n                h1 = trim.y - (ay * orig.height);\n                h0 = h1 + trim.height;\n            }\n            else\n            {\n                w1 = -ax * (orig.width);\n                w0 = w1 + orig.width;\n\n                h1 = -ay * (orig.height);\n                h0 = h1 + orig.height;\n            }\n\n            f32v[offset] = w1 * sx;\n            f32v[offset + 1] = h1 * sy;\n\n            f32v[offset + stride] = w0 * sx;\n            f32v[offset + stride + 1] = h1 * sy;\n\n            f32v[offset + (stride * 2)] = w0 * sx;\n            f32v[offset + (stride * 2) + 1] = h0 * sy;\n\n            f32v[offset + (stride * 3)] = w1 * sx;\n            f32v[offset + (stride * 3) + 1] = h0 * sy;\n        `,\n    dynamic: false\n  },\n  // positionData\n  position: {\n    attributeName: \"aPosition\",\n    format: \"float32x2\",\n    code: `\n            var x = p.x;\n            var y = p.y;\n\n            f32v[offset] = x;\n            f32v[offset + 1] = y;\n\n            f32v[offset + stride] = x;\n            f32v[offset + stride + 1] = y;\n\n            f32v[offset + (stride * 2)] = x;\n            f32v[offset + (stride * 2) + 1] = y;\n\n            f32v[offset + (stride * 3)] = x;\n            f32v[offset + (stride * 3) + 1] = y;\n        `,\n    dynamic: true\n  },\n  // rotationData\n  rotation: {\n    attributeName: \"aRotation\",\n    format: \"float32\",\n    code: `\n            var rotation = p.rotation;\n\n            f32v[offset] = rotation;\n            f32v[offset + stride] = rotation;\n            f32v[offset + (stride * 2)] = rotation;\n            f32v[offset + (stride * 3)] = rotation;\n        `,\n    dynamic: false\n  },\n  // uvsData\n  uvs: {\n    attributeName: \"aUV\",\n    format: \"float32x2\",\n    code: `\n            var uvs = p.texture.uvs;\n\n            f32v[offset] = uvs.x0;\n            f32v[offset + 1] = uvs.y0;\n\n            f32v[offset + stride] = uvs.x1;\n            f32v[offset + stride + 1] = uvs.y1;\n\n            f32v[offset + (stride * 2)] = uvs.x2;\n            f32v[offset + (stride * 2) + 1] = uvs.y2;\n\n            f32v[offset + (stride * 3)] = uvs.x3;\n            f32v[offset + (stride * 3) + 1] = uvs.y3;\n        `,\n    dynamic: false\n  },\n  // tintData\n  color: {\n    attributeName: \"aColor\",\n    format: \"unorm8x4\",\n    code: `\n            const c = p.color;\n\n            u32v[offset] = c;\n            u32v[offset + stride] = c;\n            u32v[offset + (stride * 2)] = c;\n            u32v[offset + (stride * 3)] = c;\n        `,\n    dynamic: false\n  }\n};\n\nexport { particleData };\n//# sourceMappingURL=particleData.mjs.map\n","import { Bounds } from '../../container/bounds/Bounds.mjs';\nimport { ViewContainer } from '../../view/ViewContainer.mjs';\nimport { particleData } from './particleData.mjs';\n\n\"use strict\";\nconst emptyBounds = new Bounds(0, 0, 0, 0);\nconst _ParticleContainer = class _ParticleContainer extends ViewContainer {\n  /**\n   * @param options - The options for creating the sprite.\n   */\n  constructor(options = {}) {\n    options = {\n      ..._ParticleContainer.defaultOptions,\n      ...options,\n      dynamicProperties: {\n        ..._ParticleContainer.defaultOptions.dynamicProperties,\n        ...options?.dynamicProperties\n      }\n    };\n    const { dynamicProperties, shader, roundPixels, texture, particles, ...rest } = options;\n    super({\n      label: \"ParticleContainer\",\n      ...rest\n    });\n    /**\n     * The unique identifier for the render pipe of this ParticleContainer.\n     * @internal\n     */\n    this.renderPipeId = \"particle\";\n    /** @internal */\n    this.batched = false;\n    /**\n     * Indicates if the children of this ParticleContainer have changed and need to be updated.\n     * @internal\n     */\n    this._childrenDirty = false;\n    this.texture = texture || null;\n    this.shader = shader;\n    this._properties = {};\n    for (const key in particleData) {\n      const property = particleData[key];\n      const dynamic = dynamicProperties[key];\n      this._properties[key] = {\n        ...property,\n        dynamic\n      };\n    }\n    this.allowChildren = true;\n    this.roundPixels = roundPixels ?? false;\n    this.particleChildren = particles ?? [];\n  }\n  /**\n   * Adds one or more particles to the container. The particles will be rendered using the container's shared texture\n   * and properties. When adding multiple particles, they must all share the same base texture.\n   * @example\n   * ```ts\n   * const container = new ParticleContainer();\n   *\n   * // Add a single particle\n   * const particle = new Particle(Assets.get('particleTexture'));\n   * container.addParticle(particle);\n   *\n   * // Add multiple particles at once\n   * const particles = [\n   *     new Particle(Assets.get('particleTexture')),\n   *     new Particle(Assets.get('particleTexture')),\n   *     new Particle(Assets.get('particleTexture'))\n   * ];\n   *\n   * container.addParticle(...particles);\n   * ```\n   * @param children - The Particle(s) to add to the container\n   * @returns The first particle that was added, for method chaining\n   * @see {@link ParticleContainer#texture} For setting the shared texture\n   * @see {@link ParticleContainer#update} For updating after modifications\n   */\n  addParticle(...children) {\n    for (let i = 0; i < children.length; i++) {\n      this.particleChildren.push(children[i]);\n    }\n    this.onViewUpdate();\n    return children[0];\n  }\n  /**\n   * Removes one or more particles from the container. The particles must already be children\n   * of this container to be removed.\n   * @example\n   * ```ts\n   * // Remove a single particle\n   * container.removeParticle(particle1);\n   *\n   * // Remove multiple particles at once\n   * container.removeParticle(particle2, particle3);\n   * ```\n   * @param children - The Particle(s) to remove from the container\n   * @returns The first particle that was removed, for method chaining\n   * @see {@link ParticleContainer#particleChildren} For accessing all particles\n   * @see {@link ParticleContainer#removeParticles} For removing particles by index\n   * @see {@link ParticleContainer#removeParticleAt} For removing a particle at a specific index\n   */\n  removeParticle(...children) {\n    let didRemove = false;\n    for (let i = 0; i < children.length; i++) {\n      const index = this.particleChildren.indexOf(children[i]);\n      if (index > -1) {\n        this.particleChildren.splice(index, 1);\n        didRemove = true;\n      }\n    }\n    if (didRemove)\n      this.onViewUpdate();\n    return children[0];\n  }\n  /**\n   * Updates the particle container's internal state. Call this method after manually modifying\n   * the particleChildren array or when changing static properties of particles.\n   * @example\n   * ```ts\n   * // Batch modify particles\n   * container.particleChildren.push(...particles);\n   * container.update(); // Required after direct array modification\n   *\n   * // Update static properties\n   * container.particleChildren.forEach(particle => {\n   *     particle.position.set(\n   *         Math.random() * 800,\n   *         Math.random() * 600\n   *     );\n   * });\n   * container.update(); // Required after changing static positions\n   * ```\n   * @see {@link ParticleProperties} For configuring dynamic vs static properties\n   * @see {@link ParticleContainer#particleChildren} For direct array access\n   */\n  update() {\n    this._childrenDirty = true;\n  }\n  onViewUpdate() {\n    this._childrenDirty = true;\n    super.onViewUpdate();\n  }\n  /**\n   * Returns a static empty bounds object since ParticleContainer does not calculate bounds automatically\n   * for performance reasons. Use the `boundsArea` property to manually set container bounds.\n   * @example\n   * ```ts\n   * const container = new ParticleContainer({\n   *     texture: Texture.from('particle.png')\n   * });\n   *\n   * // Default bounds are empty\n   * console.log(container.bounds); // Bounds(0, 0, 0, 0)\n   *\n   * // Set manual bounds for the particle area\n   * container.boundsArea = {\n   *     minX: 0,\n   *     minY: 0,\n   *     maxX: 800,\n   *     maxY: 600\n   * };\n   * ```\n   * @readonly\n   * @returns {Bounds} An empty bounds object (0,0,0,0)\n   * @see {@link Container#boundsArea} For manually setting container bounds\n   * @see {@link Bounds} For bounds object structure\n   */\n  get bounds() {\n    return emptyBounds;\n  }\n  /** @private */\n  updateBounds() {\n  }\n  /**\n   * Destroys this sprite renderable and optionally its texture.\n   * @param options - Options parameter. A boolean will act as if all options\n   *  have been set to that value\n   * @example\n   * particleContainer.destroy();\n   * particleContainer.destroy(true);\n   * particleContainer.destroy({ texture: true, textureSource: true, children: true });\n   */\n  destroy(options = false) {\n    super.destroy(options);\n    const destroyTexture = typeof options === \"boolean\" ? options : options?.texture;\n    if (destroyTexture) {\n      const destroyTextureSource = typeof options === \"boolean\" ? options : options?.textureSource;\n      const texture = this.texture ?? this.particleChildren[0]?.texture;\n      if (texture) {\n        texture.destroy(destroyTextureSource);\n      }\n    }\n    this.texture = null;\n    this.shader?.destroy();\n  }\n  /**\n   * Removes all particles from this container that are within the begin and end indexes.\n   * @param beginIndex - The beginning position.\n   * @param endIndex - The ending position. Default value is size of the container.\n   * @returns - List of removed particles\n   */\n  removeParticles(beginIndex, endIndex) {\n    beginIndex ?? (beginIndex = 0);\n    endIndex ?? (endIndex = this.particleChildren.length);\n    const children = this.particleChildren.splice(\n      beginIndex,\n      endIndex - beginIndex\n    );\n    this.onViewUpdate();\n    return children;\n  }\n  /**\n   * Removes a particle from the specified index position.\n   * @param index - The index to get the particle from\n   * @returns The particle that was removed.\n   */\n  removeParticleAt(index) {\n    const child = this.particleChildren.splice(index, 1);\n    this.onViewUpdate();\n    return child[0];\n  }\n  /**\n   * Adds a particle to the container at a specified index. If the index is out of bounds an error will be thrown.\n   * If the particle is already in this container, it will be moved to the specified index.\n   * @param {Container} child - The particle to add.\n   * @param {number} index - The absolute index where the particle will be positioned at the end of the operation.\n   * @returns {Container} The particle that was added.\n   */\n  addParticleAt(child, index) {\n    this.particleChildren.splice(index, 0, child);\n    this.onViewUpdate();\n    return child;\n  }\n  /**\n   * This method is not available in ParticleContainer.\n   *\n   * Calling this method will throw an error. Please use `ParticleContainer.addParticle()` instead.\n   * @param {...any} _children\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  addChild(..._children) {\n    throw new Error(\n      \"ParticleContainer.addChild() is not available. Please use ParticleContainer.addParticle()\"\n    );\n  }\n  /**\n   * This method is not available in ParticleContainer.\n   * Calling this method will throw an error. Please use `ParticleContainer.removeParticle()` instead.\n   * @param {...any} _children\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  removeChild(..._children) {\n    throw new Error(\n      \"ParticleContainer.removeChild() is not available. Please use ParticleContainer.removeParticle()\"\n    );\n  }\n  /**\n   * This method is not available in ParticleContainer.\n   *\n   * Calling this method will throw an error. Please use `ParticleContainer.removeParticles()` instead.\n   * @param {number} [_beginIndex]\n   * @param {number} [_endIndex]\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  removeChildren(_beginIndex, _endIndex) {\n    throw new Error(\n      \"ParticleContainer.removeChildren() is not available. Please use ParticleContainer.removeParticles()\"\n    );\n  }\n  /**\n   * This method is not available in ParticleContainer.\n   *\n   * Calling this method will throw an error. Please use `ParticleContainer.removeParticleAt()` instead.\n   * @param {number} _index\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  removeChildAt(_index) {\n    throw new Error(\n      \"ParticleContainer.removeChildAt() is not available. Please use ParticleContainer.removeParticleAt()\"\n    );\n  }\n  /**\n   * This method is not available in ParticleContainer.\n   *\n   * Calling this method will throw an error. Please use `ParticleContainer.getParticleAt()` instead.\n   * @param {number} _index\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  getChildAt(_index) {\n    throw new Error(\n      \"ParticleContainer.getChildAt() is not available. Please use ParticleContainer.getParticleAt()\"\n    );\n  }\n  /**\n   * This method is not available in ParticleContainer.\n   *\n   * Calling this method will throw an error. Please use `ParticleContainer.setParticleIndex()` instead.\n   * @param {ContainerChild} _child\n   * @param {number} _index\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  setChildIndex(_child, _index) {\n    throw new Error(\n      \"ParticleContainer.setChildIndex() is not available. Please use ParticleContainer.setParticleIndex()\"\n    );\n  }\n  /**\n   * This method is not available in ParticleContainer.\n   *\n   * Calling this method will throw an error. Please use `ParticleContainer.getParticleIndex()` instead.\n   * @param {ContainerChild} _child\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  getChildIndex(_child) {\n    throw new Error(\n      \"ParticleContainer.getChildIndex() is not available. Please use ParticleContainer.getParticleIndex()\"\n    );\n  }\n  /**\n   * This method is not available in ParticleContainer.\n   *\n   * Calling this method will throw an error. Please use `ParticleContainer.addParticleAt()` instead.\n   * @param {ContainerChild} _child\n   * @param {number} _index\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  addChildAt(_child, _index) {\n    throw new Error(\n      \"ParticleContainer.addChildAt() is not available. Please use ParticleContainer.addParticleAt()\"\n    );\n  }\n  /**\n   * This method is not available in ParticleContainer.\n   *\n   * Calling this method will throw an error. Please use `ParticleContainer.swapParticles()` instead.\n   * @param {ContainerChild} _child\n   * @param {ContainerChild} _child2\n   * @ignore\n   */\n  swapChildren(_child, _child2) {\n    throw new Error(\n      \"ParticleContainer.swapChildren() is not available. Please use ParticleContainer.swapParticles()\"\n    );\n  }\n  /**\n   * This method is not available in ParticleContainer.\n   *\n   * Calling this method will throw an error.\n   * @param _child - The child to reparent\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  reparentChild(..._child) {\n    throw new Error(\"ParticleContainer.reparentChild() is not available with the particle container\");\n  }\n  /**\n   * This method is not available in ParticleContainer.\n   *\n   * Calling this method will throw an error.\n   * @param _child - The child to reparent\n   * @param _index - The index to reparent the child to\n   * @throws {Error} Always throws an error as this method is not available.\n   * @ignore\n   */\n  reparentChildAt(_child, _index) {\n    throw new Error(\"ParticleContainer.reparentChildAt() is not available with the particle container\");\n  }\n};\n/**\n * Defines the default options for creating a ParticleContainer.\n * @example\n * ```ts\n * // Change defaults globally\n * ParticleContainer.defaultOptions = {\n *     dynamicProperties: {\n *         position: true,  // Update positions each frame\n *         rotation: true,  // Update rotations each frame\n *         vertex: false,   // Static vertices\n *         uvs: false,      // Static texture coordinates\n *         color: false     // Static colors\n *     },\n *     roundPixels: true // Enable pixel rounding for crisp rendering\n * };\n * ```\n * @property {Record<string, boolean>} dynamicProperties - Specifies which properties are dynamic.\n * @property {boolean} roundPixels - Indicates if pixels should be  rounded.\n */\n_ParticleContainer.defaultOptions = {\n  /** Specifies which properties are dynamic. */\n  dynamicProperties: {\n    /** Indicates if vertex positions are dynamic. */\n    vertex: false,\n    /** Indicates if particle positions are dynamic. */\n    position: true,\n    /** Indicates if particle rotations are dynamic. */\n    rotation: false,\n    /** Indicates if UV coordinates are dynamic. */\n    uvs: false,\n    /** Indicates if particle colors are dynamic. */\n    color: false\n  },\n  /** Indicates if pixels should be rounded for rendering. */\n  roundPixels: false\n};\nlet ParticleContainer = _ParticleContainer;\n\nexport { ParticleContainer };\n//# sourceMappingURL=ParticleContainer.mjs.map\n","import { ObservablePoint } from '../../maths/point/ObservablePoint.mjs';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture.mjs';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation.mjs';\nimport { ViewContainer } from '../view/ViewContainer.mjs';\nimport { NineSliceGeometry } from './NineSliceGeometry.mjs';\n\n\"use strict\";\nconst _NineSliceSprite = class _NineSliceSprite extends ViewContainer {\n  constructor(options) {\n    if (options instanceof Texture) {\n      options = { texture: options };\n    }\n    const {\n      width,\n      height,\n      anchor,\n      leftWidth,\n      rightWidth,\n      topHeight,\n      bottomHeight,\n      texture,\n      roundPixels,\n      ...rest\n    } = options;\n    super({\n      label: \"NineSliceSprite\",\n      ...rest\n    });\n    /** @internal */\n    this.renderPipeId = \"nineSliceSprite\";\n    /** @internal */\n    this.batched = true;\n    this._leftWidth = leftWidth ?? texture?.defaultBorders?.left ?? NineSliceGeometry.defaultOptions.leftWidth;\n    this._topHeight = topHeight ?? texture?.defaultBorders?.top ?? NineSliceGeometry.defaultOptions.topHeight;\n    this._rightWidth = rightWidth ?? texture?.defaultBorders?.right ?? NineSliceGeometry.defaultOptions.rightWidth;\n    this._bottomHeight = bottomHeight ?? texture?.defaultBorders?.bottom ?? NineSliceGeometry.defaultOptions.bottomHeight;\n    this._width = width ?? texture.width ?? NineSliceGeometry.defaultOptions.width;\n    this._height = height ?? texture.height ?? NineSliceGeometry.defaultOptions.height;\n    this.allowChildren = false;\n    this.texture = texture ?? _NineSliceSprite.defaultOptions.texture;\n    this.roundPixels = roundPixels ?? false;\n    this._anchor = new ObservablePoint(\n      {\n        _onUpdate: () => {\n          this.onViewUpdate();\n        }\n      }\n    );\n    if (anchor) {\n      this.anchor = anchor;\n    } else if (this.texture.defaultAnchor) {\n      this.anchor = this.texture.defaultAnchor;\n    }\n  }\n  /**\n   * The anchor sets the origin point of the sprite. The default value is taken from the {@link Texture}\n   * and passed to the constructor.\n   *\n   * - The default is `(0,0)`, this means the sprite's origin is the top left.\n   * - Setting the anchor to `(0.5,0.5)` means the sprite's origin is centered.\n   * - Setting the anchor to `(1,1)` would mean the sprite's origin point will be the bottom right corner.\n   *\n   * If you pass only single parameter, it will set both x and y to the same value as shown in the example below.\n   * @example\n   * ```ts\n   * // Center the anchor point\n   * sprite.anchor = 0.5; // Sets both x and y to 0.5\n   * sprite.position.set(400, 300); // Sprite will be centered at this position\n   *\n   * // Set specific x/y anchor points\n   * sprite.anchor = {\n   *     x: 1, // Right edge\n   *     y: 0  // Top edge\n   * };\n   *\n   * // Using individual coordinates\n   * sprite.anchor.set(0.5, 1); // Center-bottom\n   *\n   * // For rotation around center\n   * sprite.anchor.set(0.5);\n   * sprite.rotation = Math.PI / 4; // 45 degrees around center\n   *\n   * // For scaling from center\n   * sprite.anchor.set(0.5);\n   * sprite.scale.set(2); // Scales from center point\n   * ```\n   */\n  get anchor() {\n    return this._anchor;\n  }\n  set anchor(value) {\n    typeof value === \"number\" ? this._anchor.set(value) : this._anchor.copyFrom(value);\n  }\n  /**\n   * The width of the NineSliceSprite, setting this will actually modify the vertices and UV's of this plane.\n   * The width affects how the middle sections are scaled.\n   * @example\n   * ```ts\n   * // Create a nine-slice sprite with fixed width\n   * const panel = new NineSliceSprite({\n   *     texture: Texture.from('panel.png'),\n   *     width: 200  // Sets initial width\n   * });\n   *\n   * // Adjust width dynamically\n   * panel.width = 300;  // Stretches middle sections\n   * ```\n   * @see {@link NineSliceSprite#setSize} For setting both width and height efficiently\n   * @see {@link NineSliceSprite#height} For setting height\n   */\n  get width() {\n    return this._width;\n  }\n  set width(value) {\n    this._width = value;\n    this.onViewUpdate();\n  }\n  /**\n   * The height of the NineSliceSprite, setting this will actually modify the vertices and UV's of this plane.\n   * The height affects how the middle sections are scaled.\n   * @example\n   * ```ts\n   * // Create a nine-slice sprite with fixed height\n   * const panel = new NineSliceSprite({\n   *     texture: Texture.from('panel.png'),\n   *     height: 150  // Sets initial height\n   * });\n   *\n   * // Adjust height dynamically\n   * panel.height = 200;  // Stretches middle sections\n   *\n   * // Create responsive UI element\n   * const dialog = new NineSliceSprite({\n   *     texture: Texture.from('dialog.png'),\n   *     topHeight: 30,\n   *     bottomHeight: 30,\n   *     height: parent.height * 0.5  // 50% of parent height\n   * });\n   * ```\n   * @see {@link NineSliceSprite#setSize} For setting both width and height efficiently\n   * @see {@link NineSliceSprite#width} For setting width\n   */\n  get height() {\n    return this._height;\n  }\n  set height(value) {\n    this._height = value;\n    this.onViewUpdate();\n  }\n  /**\n   * Sets the size of the NineSliceSprite to the specified width and height.\n   * This method directly modifies the vertices and UV coordinates of the sprite.\n   *\n   * Using this is more efficient than setting width and height separately as it only triggers one update.\n   * @example\n   * ```ts\n   * // Set to specific dimensions\n   * panel.setSize(300, 200); // Width: 300, Height: 200\n   *\n   * // Set uniform size\n   * panel.setSize(200); // Makes a square 200x200\n   *\n   * // Set size using object\n   * panel.setSize({\n   *     width: 400,\n   *     height: 300\n   * });\n   * ```\n   * @param value - This can be either a number or a Size object with width/height properties\n   * @param height - The height to set. Defaults to the value of `width` if not provided\n   * @see {@link NineSliceSprite#width} For setting width only\n   * @see {@link NineSliceSprite#height} For setting height only\n   */\n  setSize(value, height) {\n    if (typeof value === \"object\") {\n      height = value.height ?? value.width;\n      value = value.width;\n    }\n    this._width = value;\n    this._height = height ?? value;\n    this.onViewUpdate();\n  }\n  /**\n   * Retrieves the size of the NineSliceSprite as a [Size]{@link Size} object.\n   * This method is more efficient than getting width and height separately.\n   * @example\n   * ```ts\n   * // Get basic size\n   * const size = panel.getSize();\n   * console.log(`Size: ${size.width}x${size.height}`);\n   *\n   * // Reuse existing size object\n   * const reuseSize = { width: 0, height: 0 };\n   * panel.getSize(reuseSize);\n   * ```\n   * @param out - Optional object to store the size in, to avoid allocating a new object\n   * @returns The size of the NineSliceSprite\n   * @see {@link NineSliceSprite#width} For getting just the width\n   * @see {@link NineSliceSprite#height} For getting just the height\n   * @see {@link NineSliceSprite#setSize} For setting both width and height efficiently\n   */\n  getSize(out) {\n    out || (out = {});\n    out.width = this._width;\n    out.height = this._height;\n    return out;\n  }\n  /**\n   * Width of the left vertical bar (A).\n   * Controls the size of the left edge that remains unscaled\n   * @example\n   * ```ts\n   * const sprite = new NineSliceSprite({ ..., leftWidth: 20 });\n   * sprite.leftWidth = 20; // Set left border width\n   * ```\n   * @default 10\n   */\n  get leftWidth() {\n    return this._leftWidth;\n  }\n  set leftWidth(value) {\n    this._leftWidth = value;\n    this.onViewUpdate();\n  }\n  /**\n   * Height of the top horizontal bar (C).\n   * Controls the size of the top edge that remains unscaled\n   * @example\n   * ```ts\n   * const sprite = new NineSliceSprite({ ..., topHeight: 20 });\n   * sprite.topHeight = 20; // Set top border height\n   * ```\n   * @default 10\n   */\n  get topHeight() {\n    return this._topHeight;\n  }\n  set topHeight(value) {\n    this._topHeight = value;\n    this.onViewUpdate();\n  }\n  /**\n   * Width of the right vertical bar (B).\n   * Controls the size of the right edge that remains unscaled\n   * @example\n   * ```ts\n   * const sprite = new NineSliceSprite({ ..., rightWidth: 20 });\n   * sprite.rightWidth = 20; // Set right border width\n   * ```\n   * @default 10\n   */\n  get rightWidth() {\n    return this._rightWidth;\n  }\n  set rightWidth(value) {\n    this._rightWidth = value;\n    this.onViewUpdate();\n  }\n  /**\n   * Height of the bottom horizontal bar (D).\n   * Controls the size of the bottom edge that remains unscaled\n   * @example\n   * ```ts\n   * const sprite = new NineSliceSprite({ ..., bottomHeight: 20 });\n   * sprite.bottomHeight = 20; // Set bottom border height\n   * ```\n   * @default 10\n   */\n  get bottomHeight() {\n    return this._bottomHeight;\n  }\n  set bottomHeight(value) {\n    this._bottomHeight = value;\n    this.onViewUpdate();\n  }\n  /**\n   * The texture to use on the NineSliceSprite.\n   * ```ts\n   * // Create a sprite with a texture\n   * const sprite = new NineSliceSprite({\n   *     texture: Texture.from('path/to/image.png')\n   * });\n   * // Update the texture later\n   * sprite.texture = Texture.from('path/to/another-image.png');\n   * ```\n   * @default Texture.EMPTY\n   */\n  get texture() {\n    return this._texture;\n  }\n  set texture(value) {\n    value || (value = Texture.EMPTY);\n    const currentTexture = this._texture;\n    if (currentTexture === value)\n      return;\n    if (currentTexture && currentTexture.dynamic)\n      currentTexture.off(\"update\", this.onViewUpdate, this);\n    if (value.dynamic)\n      value.on(\"update\", this.onViewUpdate, this);\n    this._texture = value;\n    this.onViewUpdate();\n  }\n  /**\n   * The original width of the texture before any nine-slice scaling.\n   * This is the width of the source texture used to create the nine-slice sprite.\n   * @example\n   * ```ts\n   * // Get original dimensions\n   * console.log(`Original size: ${sprite.originalWidth}x${sprite.originalHeight}`);\n   *\n   * // Use for relative scaling\n   * sprite.width = sprite.originalWidth * 2; // Double the original width\n   *\n   * // Reset to original size\n   * sprite.setSize(sprite.originalWidth, sprite.originalHeight);\n   * ```\n   * @readonly\n   * @see {@link NineSliceSprite#width} For the current displayed width\n   * @see {@link Texture#width} For direct texture width access\n   * @returns The original width of the texture\n   */\n  get originalWidth() {\n    return this._texture.width;\n  }\n  /**\n   * The original height of the texture before any nine-slice scaling.\n   * This is the height of the source texture used to create the nine-slice sprite.\n   * @example\n   * ```ts\n   * // Get original dimensions\n   * console.log(`Original size: ${sprite.originalWidth}x${sprite.originalHeight}`);\n   *\n   * // Use for relative scaling\n   * sprite.height = sprite.originalHeight * 2; // Double the original height\n   *\n   * // Reset to original size\n   * sprite.setSize(sprite.originalWidth, sprite.originalHeight);\n   * ```\n   * @readonly\n   * @see {@link NineSliceSprite#height} For the current displayed height\n   * @see {@link Texture#height} For direct texture height access\n   * @returns The original height of the texture\n   */\n  get originalHeight() {\n    return this._texture.height;\n  }\n  /**\n   * Destroys this sprite renderable and optionally its texture.\n   * @param options - Options parameter. A boolean will act as if all options\n   *  have been set to that value\n   * @example\n   * nineSliceSprite.destroy();\n   * nineSliceSprite.destroy(true);\n   * nineSliceSprite.destroy({ texture: true, textureSource: true });\n   */\n  destroy(options) {\n    super.destroy(options);\n    const destroyTexture = typeof options === \"boolean\" ? options : options?.texture;\n    if (destroyTexture) {\n      const destroyTextureSource = typeof options === \"boolean\" ? options : options?.textureSource;\n      this._texture.destroy(destroyTextureSource);\n    }\n    this._texture = null;\n  }\n  /** @private */\n  updateBounds() {\n    const bounds = this._bounds;\n    const anchor = this._anchor;\n    const width = this._width;\n    const height = this._height;\n    bounds.minX = -anchor._x * width;\n    bounds.maxX = bounds.minX + width;\n    bounds.minY = -anchor._y * height;\n    bounds.maxY = bounds.minY + height;\n  }\n};\n/**\n * The default options used to override initial values of any options passed in the constructor.\n * These values are used as fallbacks when specific options are not provided.\n * @example\n * ```ts\n * // Override default options globally\n * NineSliceSprite.defaultOptions.texture = Texture.from('defaultButton.png');\n * // Create sprite with default texture\n * const sprite = new NineSliceSprite({...});\n * // sprite will use 'defaultButton.png' as its texture\n *\n * // Reset to empty texture\n * NineSliceSprite.defaultOptions.texture = Texture.EMPTY;\n * ```\n * @type {NineSliceSpriteOptions}\n * @see {@link NineSliceSpriteOptions} For all available options\n * @see {@link Texture#defaultBorders} For texture-level border settings\n */\n_NineSliceSprite.defaultOptions = {\n  /** @default Texture.EMPTY */\n  texture: Texture.EMPTY\n};\nlet NineSliceSprite = _NineSliceSprite;\nclass NineSlicePlane extends NineSliceSprite {\n  constructor(...args) {\n    let options = args[0];\n    if (options instanceof Texture) {\n      deprecation(v8_0_0, \"NineSlicePlane now uses the options object {texture, leftWidth, rightWidth, topHeight, bottomHeight}\");\n      options = {\n        texture: options,\n        leftWidth: args[1],\n        topHeight: args[2],\n        rightWidth: args[3],\n        bottomHeight: args[4]\n      };\n    }\n    deprecation(v8_0_0, \"NineSlicePlane is deprecated. Use NineSliceSprite instead.\");\n    super(options);\n  }\n}\n\nexport { NineSlicePlane, NineSliceSprite };\n//# sourceMappingURL=NineSliceSprite.mjs.map\n","import { Container } from '../../container/Container.mjs';\nimport { CanvasTextMetrics } from '../../text/canvas/CanvasTextMetrics.mjs';\nimport { BitmapFontManager } from '../BitmapFontManager.mjs';\nimport { BitmapText } from '../BitmapText.mjs';\nimport { getBitmapTextLayout } from './getBitmapTextLayout.mjs';\n\n\"use strict\";\nfunction bitmapTextSplit(options) {\n  const { text, style, chars: existingChars } = options;\n  const textStyle = style;\n  const font = BitmapFontManager.getFont(text, textStyle);\n  const segments = CanvasTextMetrics.graphemeSegmenter(text);\n  const layout = getBitmapTextLayout(segments, textStyle, font, true);\n  const scale = layout.scale;\n  const chars = [];\n  const words = [];\n  const lines = [];\n  const lineHeight = style.lineHeight ? style.lineHeight : font.lineHeight * scale;\n  let yOffset = 0;\n  for (const line of layout.lines) {\n    if (line.chars.length === 0)\n      continue;\n    const lineContainer = new Container({ label: \"line\" });\n    lineContainer.y = yOffset;\n    lines.push(lineContainer);\n    let currentWordContainer = new Container({ label: \"word\" });\n    let currentWordStartIndex = 0;\n    for (let i = 0; i < line.chars.length; i++) {\n      const char = line.chars[i];\n      if (!char)\n        continue;\n      const charData = font.chars[char];\n      if (!charData)\n        continue;\n      const isSpace = char === \" \";\n      const isLastChar = i === line.chars.length - 1;\n      let charInstance;\n      if (existingChars.length > 0) {\n        charInstance = existingChars.shift();\n        charInstance.text = char;\n        charInstance.style = textStyle;\n        charInstance.label = `char-${char}`;\n        charInstance.x = line.charPositions[i] * scale - line.charPositions[currentWordStartIndex] * scale;\n      } else {\n        charInstance = new BitmapText({\n          text: char,\n          style: textStyle,\n          label: `char-${char}`,\n          x: line.charPositions[i] * scale - line.charPositions[currentWordStartIndex] * scale\n        });\n      }\n      if (!isSpace) {\n        chars.push(charInstance);\n        currentWordContainer.addChild(charInstance);\n      }\n      if (isSpace || isLastChar) {\n        if (currentWordContainer.children.length > 0) {\n          currentWordContainer.x = line.charPositions[currentWordStartIndex] * scale;\n          words.push(currentWordContainer);\n          lineContainer.addChild(currentWordContainer);\n          currentWordContainer = new Container({ label: \"word\" });\n          currentWordStartIndex = i + 1;\n        }\n      }\n    }\n    yOffset += lineHeight;\n  }\n  return { chars, lines, words };\n}\n\nexport { bitmapTextSplit };\n//# sourceMappingURL=bitmapTextSplit.mjs.map\n","import { Container } from '../container/Container.mjs';\nimport { TextStyle } from '../text/TextStyle.mjs';\n\n\"use strict\";\nclass AbstractSplitText extends Container {\n  constructor(config) {\n    const {\n      text,\n      style,\n      autoSplit,\n      lineAnchor,\n      wordAnchor,\n      charAnchor,\n      ...options\n    } = config;\n    super(options);\n    this._dirty = false;\n    this._canReuseChars = false;\n    this.chars = [];\n    this.words = [];\n    this.lines = [];\n    this._originalText = text;\n    this._autoSplit = autoSplit;\n    this._lineAnchor = lineAnchor;\n    this._wordAnchor = wordAnchor;\n    this._charAnchor = charAnchor;\n    this.style = style;\n  }\n  /**\n   * Splits the text into lines, words, and characters.\n   * Call this manually when autoSplit is false.\n   * @example Manual Splitting\n   * ```ts\n   * const text = new SplitText({\n   *   text: 'Manual Update',\n   *   autoSplit: false\n   * });\n   *\n   * text.text = 'New Content';\n   * text.style = { fontSize: 32 };\n   * text.split(); // Apply changes\n   * ```\n   */\n  split() {\n    const res = this.splitFn();\n    this.chars = res.chars;\n    this.words = res.words;\n    this.lines = res.lines;\n    this.addChild(...this.lines);\n    this.charAnchor = this._charAnchor;\n    this.wordAnchor = this._wordAnchor;\n    this.lineAnchor = this._lineAnchor;\n    this._dirty = false;\n    this._canReuseChars = true;\n  }\n  get text() {\n    return this._originalText;\n  }\n  /**\n   * Gets or sets the text content.\n   * Setting new text triggers splitting if autoSplit is true.\n   * > [!NOTE] Setting this frequently can have a performance impact, especially with large texts and canvas text.\n   * @example Dynamic Text Updates\n   * ```ts\n   * const text = new SplitText({\n   *   text: 'Original',\n   *   autoSplit: true\n   * });\n   *\n   * // Auto-splits on change\n   * text.text = 'Updated Content';\n   *\n   * // Manual update\n   * text.autoSplit = false;\n   * text.text = 'Manual Update';\n   * text.split();\n   * ```\n   */\n  set text(value) {\n    this._originalText = value;\n    this.lines.forEach((line) => line.destroy({ children: true }));\n    this.lines.length = 0;\n    this.words.length = 0;\n    this.chars.length = 0;\n    this._canReuseChars = false;\n    this.onTextUpdate();\n  }\n  _setOrigin(value, elements, property) {\n    let originPoint;\n    if (typeof value === \"number\") {\n      originPoint = { x: value, y: value };\n    } else {\n      originPoint = { x: value.x, y: value.y };\n    }\n    elements.forEach((element) => {\n      const localBounds = element.getLocalBounds();\n      const originX = localBounds.minX + localBounds.width * originPoint.x;\n      const originY = localBounds.minY + localBounds.height * originPoint.y;\n      element.origin.set(originX, originY);\n    });\n    this[property] = value;\n  }\n  /**\n   * Gets or sets the transform anchor for line segments.\n   * The anchor point determines the center of rotation and scaling for each line.\n   * @example Setting Line Anchors\n   * ```ts\n   * // Center rotation/scaling\n   * text.lineAnchor = 0.5;\n   *\n   * // Rotate/scale from top-right corner\n   * text.lineAnchor = { x: 1, y: 0 };\n   *\n   * // Custom anchor point\n   * text.lineAnchor = {\n   *   x: 0.2, // 20% from left\n   *   y: 0.8  // 80% from top\n   * };\n   * ```\n   */\n  get lineAnchor() {\n    return this._lineAnchor;\n  }\n  set lineAnchor(value) {\n    this._setOrigin(value, this.lines, \"_lineAnchor\");\n  }\n  /**\n   * Gets or sets the transform anchor for word segments.\n   * The anchor point determines the center of rotation and scaling for each word.\n   * @example\n   * ```ts\n   * // Center each word\n   * text.wordAnchor = 0.5;\n   *\n   * // Scale from bottom-left\n   * text.wordAnchor = { x: 0, y: 1 };\n   *\n   * // Rotate around custom point\n   * text.wordAnchor = {\n   *   x: 0.75,  // 75% from left\n   *   y: 0.5    // Middle vertically\n   * };\n   * ```\n   */\n  get wordAnchor() {\n    return this._wordAnchor;\n  }\n  set wordAnchor(value) {\n    this._setOrigin(value, this.words, \"_wordAnchor\");\n  }\n  /**\n   * Gets or sets the transform anchor for character segments.\n   * The anchor point determines the center of rotation and scaling for each character.\n   * @example Setting Character Anchors\n   * ```ts\n   * // Center each character\n   * text.charAnchor = 0.5;\n   *\n   * // Rotate from top-center\n   * text.charAnchor = { x: 0.5, y: 0 };\n   *\n   * // Scale from bottom-right\n   * text.charAnchor = { x: 1, y: 1 };\n   * ```\n   * @example Animation with Anchors\n   * ```ts\n   * // Rotate characters around their centers\n   * text.charAnchor = 0.5;\n   * text.chars.forEach((char, i) => {\n   *   gsap.to(char, {\n   *     rotation: Math.PI * 2,\n   *     duration: 1,\n   *     delay: i * 0.1,\n   *     repeat: -1\n   *   });\n   * });\n   * ```\n   */\n  get charAnchor() {\n    return this._charAnchor;\n  }\n  set charAnchor(value) {\n    this._setOrigin(value, this.chars, \"_charAnchor\");\n  }\n  get style() {\n    return this._style;\n  }\n  /**\n   * The style configuration for the text.\n   * Can be a TextStyle instance or a configuration object.\n   * @example\n   * ```ts\n   * const text = new Text({\n   *     text: 'Styled Text',\n   *     style: {\n   *         fontSize: 24,\n   *         fill: 0xff1010, // Red color\n   *         fontFamily: 'Arial',\n   *         align: 'center', // Center alignment\n   *         stroke: { color: '#4a1850', width: 5 }, // Purple stroke\n   *         dropShadow: {\n   *             color: '#000000', // Black shadow\n   *             blur: 4, // Shadow blur\n   *             distance: 6 // Shadow distance\n   *         }\n   *     }\n   * });\n   * // Update style dynamically\n   * text.style = {\n   *     fontSize: 30, // Change font size\n   *     fill: 0x00ff00, // Change color to green\n   *     align: 'right', // Change alignment to right\n   *     stroke: { color: '#000000', width: 2 }, // Add black stroke\n   * }\n   */\n  set style(style) {\n    style || (style = {});\n    this._style = new TextStyle(style);\n    this.words.forEach((word) => word.destroy());\n    this.words.length = 0;\n    this.lines.forEach((line) => line.destroy());\n    this.lines.length = 0;\n    this._canReuseChars = true;\n    this.onTextUpdate();\n  }\n  onTextUpdate() {\n    this._dirty = true;\n    if (this._autoSplit) {\n      this.split();\n    }\n  }\n  /**\n   * Destroys the SplitText instance and all its resources.\n   * Cleans up all segment arrays, event listeners, and optionally the text style.\n   * @param options - Destroy configuration options\n   * @example\n   * ```ts\n   * // Clean up everything\n   * text.destroy({ children: true, texture: true, style: true });\n   *\n   * // Remove from parent but keep style\n   * text.destroy({ children: true, style: false });\n   * ```\n   */\n  destroy(options) {\n    super.destroy(options);\n    this.chars = [];\n    this.words = [];\n    this.lines = [];\n    if (typeof options === \"boolean\" ? options : options?.style) {\n      this._style.destroy(options);\n    }\n    this._style = null;\n    this._originalText = \"\";\n  }\n}\n\nexport { AbstractSplitText };\n//# sourceMappingURL=AbstractSplitText.mjs.map\n","import { TextStyle } from '../text/TextStyle.mjs';\nimport { bitmapTextSplit } from '../text-bitmap/utils/bitmapTextSplit.mjs';\nimport { AbstractSplitText } from './AbstractSplitText.mjs';\n\n\"use strict\";\nconst _SplitBitmapText = class _SplitBitmapText extends AbstractSplitText {\n  constructor(config) {\n    const completeOptions = {\n      ..._SplitBitmapText.defaultOptions,\n      ...config\n    };\n    super(completeOptions);\n  }\n  /**\n   * Creates a SplitBitmapText instance from an existing text object.\n   * Useful for converting standard Text or BitmapText objects into segmented versions.\n   * @param text - The source text object to convert\n   * @param options - Additional splitting options\n   * @returns A new SplitBitmapText instance\n   * @example\n   * ```ts\n   * const bitmapText = new BitmapText({\n   *   text: 'Bitmap Text',\n   *   style: { fontFamily: 'Arial' }\n   * });\n   *\n   * const segmented = SplitBitmapText.from(bitmapText);\n   *\n   * // with additional options\n   * const segmentedWithOptions = SplitBitmapText.from(bitmapText, {\n   *   autoSplit: false,\n   *   lineAnchor: 0.5,\n   *   wordAnchor: { x: 0, y: 0.5 },\n   * })\n   * ```\n   */\n  static from(text, options) {\n    const completeOptions = {\n      ..._SplitBitmapText.defaultOptions,\n      ...options,\n      text: text.text,\n      style: new TextStyle(text.style)\n    };\n    return new _SplitBitmapText({\n      ...completeOptions\n    });\n  }\n  splitFn() {\n    return bitmapTextSplit({\n      text: this._originalText,\n      style: this._style,\n      chars: this._canReuseChars ? this.chars : []\n    });\n  }\n};\n/**\n * Default configuration options for SplitBitmapText instances.\n * @example\n * ```ts\n * // Override defaults globally\n * SplitBitmapText.defaultOptions = {\n *   autoSplit: false,\n *   lineAnchor: 0.5,  // Center alignment\n *   wordAnchor: { x: 0, y: 0.5 },  // Left-center\n *   charAnchor: { x: 0.5, y: 1 }   // Bottom-center\n * };\n * ```\n */\n_SplitBitmapText.defaultOptions = {\n  autoSplit: true,\n  // Auto-update on text/style changes\n  lineAnchor: 0,\n  // Top-left alignment\n  wordAnchor: 0,\n  // Top-left alignment\n  charAnchor: 0\n  // Top-left alignment\n};\nlet SplitBitmapText = _SplitBitmapText;\n\nexport { SplitBitmapText };\n//# sourceMappingURL=SplitBitmapText.mjs.map\n","import { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { Container } from '../../container/Container.mjs';\nimport { CanvasTextMetrics } from '../canvas/CanvasTextMetrics.mjs';\nimport { Text } from '../Text.mjs';\n\n\"use strict\";\nfunction getAlignmentOffset(alignment, lineWidth, largestLine) {\n  switch (alignment) {\n    case \"center\":\n      return (largestLine - lineWidth) / 2;\n    case \"right\":\n      return largestLine - lineWidth;\n    case \"left\":\n    default:\n      return 0;\n  }\n}\nfunction isNewlineCharacter(char) {\n  return char === \"\\r\" || char === \"\\n\" || char === \"\\r\\n\";\n}\nfunction groupTextSegments(segments, measuredText, textStyle) {\n  const groupedSegments = [];\n  let currentLine = measuredText.lines[0];\n  let matchedLine = \"\";\n  let chars = [];\n  let lineCount = 0;\n  textStyle.wordWrap = false;\n  segments.forEach((segment) => {\n    const isWhitespace = /^\\s*$/.test(segment);\n    const isNewline = isNewlineCharacter(segment);\n    const isSpaceAtStart = matchedLine.length === 0 && isWhitespace;\n    if (isWhitespace && !isNewline && isSpaceAtStart) {\n      return;\n    }\n    if (!isNewline)\n      matchedLine += segment;\n    const metric = CanvasTextMetrics.measureText(segment, textStyle);\n    chars.push({ char: segment, metric });\n    if (matchedLine.length >= currentLine.length) {\n      groupedSegments.push({\n        line: matchedLine,\n        chars,\n        width: chars.reduce((acc, seg) => acc + seg.metric.width, 0)\n      });\n      chars = [];\n      matchedLine = \"\";\n      lineCount++;\n      currentLine = measuredText.lines[lineCount];\n    }\n  });\n  return groupedSegments;\n}\nfunction canvasTextSplit(options) {\n  const { text, style, chars: existingChars } = options;\n  const textStyle = style;\n  const measuredText = CanvasTextMetrics.measureText(text, textStyle);\n  const segments = CanvasTextMetrics.graphemeSegmenter(text);\n  const groupedSegments = groupTextSegments(segments, measuredText, textStyle.clone());\n  const alignment = textStyle.align;\n  const largestLine = measuredText.lineWidths.reduce((max, line) => Math.max(max, line), 0);\n  const chars = [];\n  const lineContainers = [];\n  const wordContainers = [];\n  let yOffset = 0;\n  const strokeWidth = textStyle.stroke?.width || 0;\n  const dropShadowDistance = textStyle.dropShadow?.distance || 0;\n  groupedSegments.forEach((group, i) => {\n    const lineContainer = new Container({ label: `line-${i}` });\n    lineContainer.y = yOffset;\n    lineContainers.push(lineContainer);\n    const lineWidth = measuredText.lineWidths[i];\n    let xOffset = getAlignmentOffset(alignment, lineWidth, largestLine);\n    let currentWordContainer = new Container({ label: \"word\" });\n    currentWordContainer.x = xOffset;\n    group.chars.forEach((segment, i2) => {\n      if (segment.metric.width === 0) {\n        return;\n      }\n      if (isNewlineCharacter(segment.char)) {\n        xOffset += segment.metric.width - strokeWidth;\n        return;\n      }\n      if (segment.char === \" \") {\n        if (currentWordContainer.children.length > 0) {\n          wordContainers.push(currentWordContainer);\n          lineContainer.addChild(currentWordContainer);\n        }\n        xOffset += segment.metric.width + textStyle.letterSpacing - strokeWidth;\n        currentWordContainer = new Container({ label: \"word\" });\n        currentWordContainer.x = xOffset;\n      } else {\n        let char;\n        if (existingChars.length > 0) {\n          char = existingChars.shift();\n          char.text = segment.char;\n          char.style = textStyle;\n          char.setFromMatrix(Matrix.IDENTITY);\n          char.x = xOffset - currentWordContainer.x - dropShadowDistance * i2;\n        } else {\n          char = new Text({\n            text: segment.char,\n            style: textStyle,\n            x: xOffset - currentWordContainer.x - dropShadowDistance * i2\n          });\n        }\n        chars.push(char);\n        currentWordContainer.addChild(char);\n        xOffset += segment.metric.width + textStyle.letterSpacing - strokeWidth;\n      }\n    });\n    if (currentWordContainer.children.length > 0) {\n      wordContainers.push(currentWordContainer);\n      lineContainer.addChild(currentWordContainer);\n    }\n    yOffset += measuredText.lineHeight;\n  });\n  return { chars, lines: lineContainers, words: wordContainers };\n}\n\nexport { canvasTextSplit };\n//# sourceMappingURL=canvasTextSplit.mjs.map\n","import { TextStyle } from '../text/TextStyle.mjs';\nimport { canvasTextSplit } from '../text/utils/canvasTextSplit.mjs';\nimport { AbstractSplitText } from './AbstractSplitText.mjs';\n\n\"use strict\";\nconst _SplitText = class _SplitText extends AbstractSplitText {\n  constructor(config) {\n    const completeOptions = {\n      ..._SplitText.defaultOptions,\n      ...config\n    };\n    super(completeOptions);\n  }\n  /**\n   * Creates a SplitText instance from an existing text object.\n   * Useful for converting standard Text or Text objects into segmented versions.\n   * @param text - The source text object to convert\n   * @param options - Additional splitting options\n   * @returns A new SplitText instance\n   * @example\n   * ```ts\n   * const text = new Text({\n   *   text: 'Bitmap Text',\n   *   style: { fontFamily: 'Arial' }\n   * });\n   *\n   * const segmented = SplitText.from(text);\n   *\n   * // with additional options\n   * const segmentedWithOptions = SplitText.from(text, {\n   *   autoSplit: false,\n   *   lineAnchor: 0.5,\n   *   wordAnchor: { x: 0, y: 0.5 },\n   * })\n   * ```\n   */\n  static from(text, options) {\n    const completeOptions = {\n      ..._SplitText.defaultOptions,\n      ...options,\n      text: text.text,\n      style: new TextStyle(text.style)\n    };\n    return new _SplitText({\n      ...completeOptions\n    });\n  }\n  splitFn() {\n    return canvasTextSplit({\n      text: this._originalText,\n      style: this._style,\n      chars: this._canReuseChars ? this.chars : []\n    });\n  }\n};\n/**\n * Default configuration options for SplitText instances.\n * @example\n * ```ts\n * // Override defaults globally\n * SplitText.defaultOptions = {\n *   autoSplit: false,\n *   lineAnchor: 0.5,  // Center alignment\n *   wordAnchor: { x: 0, y: 0.5 },  // Left-center\n *   charAnchor: { x: 0.5, y: 1 }   // Bottom-center\n * };\n * ```\n */\n_SplitText.defaultOptions = {\n  autoSplit: true,\n  // Auto-update on text/style changes\n  lineAnchor: 0,\n  // Top-left alignment\n  wordAnchor: 0,\n  // Top-left alignment\n  charAnchor: 0\n  // Top-left alignment\n};\nlet SplitText = _SplitText;\n\nexport { SplitText };\n//# sourceMappingURL=SplitText.mjs.map\n","import { Color } from '../../../color/Color.mjs';\n\n\"use strict\";\nconst valuesToIterateForKeys = [\n  \"align\",\n  \"breakWords\",\n  \"cssOverrides\",\n  \"fontVariant\",\n  \"fontWeight\",\n  \"leading\",\n  \"letterSpacing\",\n  \"lineHeight\",\n  \"padding\",\n  \"textBaseline\",\n  \"trim\",\n  \"whiteSpace\",\n  \"wordWrap\",\n  \"wordWrapWidth\",\n  \"fontFamily\",\n  \"fontStyle\",\n  \"fontSize\"\n];\nfunction generateTextStyleKey(style) {\n  const key = [];\n  let index = 0;\n  for (let i = 0; i < valuesToIterateForKeys.length; i++) {\n    const prop = `_${valuesToIterateForKeys[i]}`;\n    key[index++] = style[prop];\n  }\n  index = addFillStyleKey(style._fill, key, index);\n  index = addStokeStyleKey(style._stroke, key, index);\n  index = addDropShadowKey(style.dropShadow, key, index);\n  index = addFiltersKey(style.filters, key, index);\n  return key.join(\"-\");\n}\nfunction addFiltersKey(filters, key, index) {\n  if (!filters)\n    return index;\n  for (const filter of filters) {\n    key[index++] = filter.uid;\n  }\n  return index;\n}\nfunction addFillStyleKey(fillStyle, key, index) {\n  if (!fillStyle)\n    return index;\n  key[index++] = fillStyle.color;\n  key[index++] = fillStyle.alpha;\n  key[index++] = fillStyle.fill?.styleKey;\n  return index;\n}\nfunction addStokeStyleKey(strokeStyle, key, index) {\n  if (!strokeStyle)\n    return index;\n  index = addFillStyleKey(strokeStyle, key, index);\n  key[index++] = strokeStyle.width;\n  key[index++] = strokeStyle.alignment;\n  key[index++] = strokeStyle.cap;\n  key[index++] = strokeStyle.join;\n  key[index++] = strokeStyle.miterLimit;\n  return index;\n}\nfunction addDropShadowKey(dropShadow, key, index) {\n  if (!dropShadow)\n    return index;\n  key[index++] = dropShadow.alpha;\n  key[index++] = dropShadow.angle;\n  key[index++] = dropShadow.blur;\n  key[index++] = dropShadow.distance;\n  key[index++] = Color.shared.setValue(dropShadow.color).toNumber();\n  return index;\n}\n\nexport { generateTextStyleKey };\n//# sourceMappingURL=generateTextStyleKey.mjs.map\n","\"use strict\";\nasync function logDebugTexture(texture, renderer, size = 200) {\n  const base64 = await renderer.extract.base64(texture);\n  await renderer.encoder.commandFinished;\n  const width = size;\n  console.log(`logging texture ${texture.source.width}px ${texture.source.height}px`);\n  const style = [\n    \"font-size: 1px;\",\n    `padding: ${width}px ${300}px;`,\n    `background: url(${base64}) no-repeat;`,\n    \"background-size: contain;\"\n  ].join(\" \");\n  console.log(\"%c \", style);\n}\n\nexport { logDebugTexture };\n//# sourceMappingURL=logDebugTexture.mjs.map\n","import { Sprite } from '../../scene/sprite/Sprite.mjs';\n\n\"use strict\";\nconst colors = [\n  \"#000080\",\n  // Navy Blue\n  \"#228B22\",\n  // Forest Green\n  \"#8B0000\",\n  // Dark Red\n  \"#4169E1\",\n  // Royal Blue\n  \"#008080\",\n  // Teal\n  \"#800000\",\n  // Maroon\n  \"#9400D3\",\n  // Dark Violet\n  \"#FF8C00\",\n  // Dark Orange\n  \"#556B2F\",\n  // Olive Green\n  \"#8B008B\"\n  // Dark Magenta\n];\nlet colorTick = 0;\nfunction logScene(container, depth = 0, data = { color: \"#000000\" }) {\n  if (container.renderGroup) {\n    data.color = colors[colorTick++];\n  }\n  let spaces = \"\";\n  for (let i = 0; i < depth; i++) {\n    spaces += \"    \";\n  }\n  let label = container.label;\n  if (!label && container instanceof Sprite) {\n    label = `sprite:${container.texture.label}`;\n  }\n  let output = `%c ${spaces}|- ${label} (worldX:${container.worldTransform.tx}, relativeRenderX:${container.relativeGroupTransform.tx}, renderX:${container.groupTransform.tx}, localX:${container.x})`;\n  if (container.renderGroup) {\n    output += \" (RenderGroup)\";\n  }\n  if (container.filters) {\n    output += \"(*filters)\";\n  }\n  console.log(output, `color:${data.color}; font-weight:bold;`);\n  depth++;\n  for (let i = 0; i < container.children.length; i++) {\n    const child = container.children[i];\n    logScene(child, depth, { ...data });\n  }\n}\nfunction logRenderGroupScene(renderGroup, depth = 0, data = { index: 0, color: \"#000000\" }) {\n  let spaces = \"\";\n  for (let i = 0; i < depth; i++) {\n    spaces += \"    \";\n  }\n  const output = `%c ${spaces}- ${data.index}: ${renderGroup.root.label} worldX:${renderGroup.worldTransform.tx}`;\n  console.log(output, `color:${data.color}; font-weight:bold;`);\n  depth++;\n  for (let i = 0; i < renderGroup.renderGroupChildren.length; i++) {\n    const child = renderGroup.renderGroupChildren[i];\n    logRenderGroupScene(child, depth, { ...data, index: i });\n  }\n}\n\nexport { logRenderGroupScene, logScene };\n//# sourceMappingURL=logScene.mjs.map\n","import { browserExt } from './environment-browser/browserExt.mjs';\nimport { webworkerExt } from './environment-webworker/webworkerExt.mjs';\nimport { extensions } from './extensions/Extensions.mjs';\nexport { ExtensionType, normalizeExtensionPriority } from './extensions/Extensions.mjs';\nimport './rendering/init.mjs';\nimport './spritesheet/init.mjs';\nimport './accessibility/index.mjs';\nimport './advanced-blend-modes/index.mjs';\nimport './app/index.mjs';\nimport './assets/index.mjs';\nimport './color/index.mjs';\nimport './compressed-textures/index.mjs';\nimport './culling/index.mjs';\nimport './dom/index.mjs';\nimport './environment/index.mjs';\nimport './environment-browser/index.mjs';\nimport './environment-webworker/index.mjs';\nimport './events/index.mjs';\nimport './extensions/index.mjs';\nimport './filters/index.mjs';\nimport './maths/index.mjs';\nimport './prepare/index.mjs';\nimport './rendering/index.mjs';\nimport './scene/index.mjs';\nimport './spritesheet/index.mjs';\nimport './ticker/index.mjs';\nimport './utils/index.mjs';\nexport { AccessibilitySystem } from './accessibility/AccessibilitySystem.mjs';\nexport { accessibilityTarget } from './accessibility/accessibilityTarget.mjs';\nexport { ColorBlend } from './advanced-blend-modes/ColorBlend.mjs';\nexport { ColorBurnBlend } from './advanced-blend-modes/ColorBurnBlend.mjs';\nexport { ColorDodgeBlend } from './advanced-blend-modes/ColorDodgeBlend.mjs';\nexport { DarkenBlend } from './advanced-blend-modes/DarkenBlend.mjs';\nexport { DifferenceBlend } from './advanced-blend-modes/DifferenceBlend.mjs';\nexport { DivideBlend } from './advanced-blend-modes/DivideBlend.mjs';\nexport { ExclusionBlend } from './advanced-blend-modes/ExclusionBlend.mjs';\nexport { HardLightBlend } from './advanced-blend-modes/HardLightBlend.mjs';\nexport { HardMixBlend } from './advanced-blend-modes/HardMixBlend.mjs';\nexport { LightenBlend } from './advanced-blend-modes/LightenBlend.mjs';\nexport { LinearBurnBlend } from './advanced-blend-modes/LinearBurnBlend.mjs';\nexport { LinearDodgeBlend } from './advanced-blend-modes/LinearDodgeBlend.mjs';\nexport { LinearLightBlend } from './advanced-blend-modes/LinearLightBlend.mjs';\nexport { LuminosityBlend } from './advanced-blend-modes/LuminosityBlend.mjs';\nexport { NegationBlend } from './advanced-blend-modes/NegationBlend.mjs';\nexport { OverlayBlend } from './advanced-blend-modes/OverlayBlend.mjs';\nexport { PinLightBlend } from './advanced-blend-modes/PinLightBlend.mjs';\nexport { SaturationBlend } from './advanced-blend-modes/SaturationBlend.mjs';\nexport { SoftLightBlend } from './advanced-blend-modes/SoftLightBlend.mjs';\nexport { SubtractBlend } from './advanced-blend-modes/SubtractBlend.mjs';\nexport { VividLightBlend } from './advanced-blend-modes/VividLightBlend.mjs';\nexport { Application } from './app/Application.mjs';\nexport { ResizePlugin } from './app/ResizePlugin.mjs';\nexport { TickerPlugin } from './app/TickerPlugin.mjs';\nexport { Assets, AssetsClass } from './assets/Assets.mjs';\nexport { BackgroundLoader } from './assets/BackgroundLoader.mjs';\nexport { Cache } from './assets/cache/Cache.mjs';\nexport { cacheTextureArray } from './assets/cache/parsers/cacheTextureArray.mjs';\nexport { detectAvif } from './assets/detections/parsers/detectAvif.mjs';\nexport { detectDefaults } from './assets/detections/parsers/detectDefaults.mjs';\nexport { detectMp4 } from './assets/detections/parsers/detectMp4.mjs';\nexport { detectOgv } from './assets/detections/parsers/detectOgv.mjs';\nexport { detectWebm } from './assets/detections/parsers/detectWebm.mjs';\nexport { detectWebp } from './assets/detections/parsers/detectWebp.mjs';\nexport { testImageFormat } from './assets/detections/utils/testImageFormat.mjs';\nexport { testVideoFormat } from './assets/detections/utils/testVideoFormat.mjs';\nexport { Loader } from './assets/loader/Loader.mjs';\nexport { LoaderParserPriority } from './assets/loader/parsers/LoaderParser.mjs';\nexport { loadJson } from './assets/loader/parsers/loadJson.mjs';\nexport { loadTxt } from './assets/loader/parsers/loadTxt.mjs';\nexport { getFontFamilyName, loadWebFont } from './assets/loader/parsers/loadWebFont.mjs';\nexport { loadSvg } from './assets/loader/parsers/textures/loadSVG.mjs';\nexport { loadImageBitmap, loadTextures } from './assets/loader/parsers/textures/loadTextures.mjs';\nexport { crossOrigin, determineCrossOrigin, loadVideoTextures, preloadVideo } from './assets/loader/parsers/textures/loadVideoTextures.mjs';\nexport { createTexture } from './assets/loader/parsers/textures/utils/createTexture.mjs';\nexport { WorkerManager } from './assets/loader/workers/WorkerManager.mjs';\nexport { resolveJsonUrl } from './assets/resolver/parsers/resolveJsonUrl.mjs';\nexport { resolveTextureUrl } from './assets/resolver/parsers/resolveTextureUrl.mjs';\nexport { Resolver, getUrlExtension } from './assets/resolver/Resolver.mjs';\nexport { checkDataUrl } from './assets/utils/checkDataUrl.mjs';\nexport { checkExtension } from './assets/utils/checkExtension.mjs';\nexport { convertToList } from './assets/utils/convertToList.mjs';\nexport { copySearchParams } from './assets/utils/copySearchParams.mjs';\nexport { createStringVariations } from './assets/utils/createStringVariations.mjs';\nexport { isSingleItem } from './assets/utils/isSingleItem.mjs';\nexport { Color } from './color/Color.mjs';\nexport { detectBasis } from './compressed-textures/basis/detectBasis.mjs';\nexport { loadBasis } from './compressed-textures/basis/loadBasis.mjs';\nexport { createLevelBuffers } from './compressed-textures/basis/utils/createLevelBuffers.mjs';\nexport { gpuFormatToBasisTranscoderFormat } from './compressed-textures/basis/utils/gpuFormatToBasisTranscoderFormat.mjs';\nexport { basisTranscoderUrls, setBasisTranscoderPath } from './compressed-textures/basis/utils/setBasisTranscoderPath.mjs';\nexport { loadBasisOnWorker } from './compressed-textures/basis/worker/loadBasisOnWorker.mjs';\nexport { D3D10_RESOURCE_DIMENSION, D3DFMT, DDS, DXGI_FORMAT, DXGI_TO_TEXTURE_FORMAT, FOURCC_TO_TEXTURE_FORMAT, TEXTURE_FORMAT_BLOCK_SIZE } from './compressed-textures/dds/const.mjs';\nexport { loadDDS } from './compressed-textures/dds/loadDDS.mjs';\nexport { parseDDS } from './compressed-textures/dds/parseDDS.mjs';\nexport { loadKTX } from './compressed-textures/ktx/loadKTX.mjs';\nexport { parseKTX } from './compressed-textures/ktx/parseKTX.mjs';\nexport { GL_INTERNAL_FORMAT, KTX } from './compressed-textures/ktx2/const.mjs';\nexport { loadKTX2 } from './compressed-textures/ktx2/loadKTX2.mjs';\nexport { convertFormatIfRequired } from './compressed-textures/ktx2/utils/convertFormatIfRequired.mjs';\nexport { createLevelBuffersFromKTX } from './compressed-textures/ktx2/utils/createLevelBuffersFromKTX.mjs';\nexport { getTextureFormatFromKTXTexture } from './compressed-textures/ktx2/utils/getTextureFormatFromKTXTexture.mjs';\nexport { glFormatToGPUFormat } from './compressed-textures/ktx2/utils/glFormatToGPUFormat.mjs';\nexport { gpuFormatToKTXBasisTranscoderFormat } from './compressed-textures/ktx2/utils/gpuFormatToKTXBasisTranscoderFormat.mjs';\nexport { ktxTranscoderUrls, setKTXTranscoderPath } from './compressed-textures/ktx2/utils/setKTXTranscoderPath.mjs';\nexport { vkFormatToGPUFormat } from './compressed-textures/ktx2/utils/vkFormatToGPUFormat.mjs';\nexport { loadKTX2onWorker } from './compressed-textures/ktx2/worker/loadKTX2onWorker.mjs';\nexport { detectCompressed } from './compressed-textures/shared/detectCompressed.mjs';\nexport { resolveCompressedTextureUrl, validFormats } from './compressed-textures/shared/resolveCompressedTextureUrl.mjs';\nexport { Culler } from './culling/Culler.mjs';\nexport { CullerPlugin } from './culling/CullerPlugin.mjs';\nexport { cullingMixin } from './culling/cullingMixin.mjs';\nexport { CanvasObserver } from './dom/CanvasObserver.mjs';\nexport { DOMContainer } from './dom/DOMContainer.mjs';\nexport { DOMPipe } from './dom/DOMPipe.mjs';\nexport { DOMAdapter } from './environment/adapter.mjs';\nexport { autoDetectEnvironment, loadEnvironmentExtensions } from './environment/autoDetectEnvironment.mjs';\nexport { BrowserAdapter } from './environment-browser/BrowserAdapter.mjs';\nexport { WebWorkerAdapter } from './environment-webworker/WebWorkerAdapter.mjs';\nexport { EventBoundary } from './events/EventBoundary.mjs';\nexport { EventSystem } from './events/EventSystem.mjs';\nexport { EventsTicker } from './events/EventTicker.mjs';\nexport { FederatedEvent } from './events/FederatedEvent.mjs';\nexport { FederatedContainer } from './events/FederatedEventTarget.mjs';\nexport { FederatedMouseEvent } from './events/FederatedMouseEvent.mjs';\nexport { FederatedPointerEvent } from './events/FederatedPointerEvent.mjs';\nexport { FederatedWheelEvent } from './events/FederatedWheelEvent.mjs';\nexport { default as blendTemplateFrag } from './filters/blend-modes/blend-template.frag.mjs';\nexport { default as blendTemplateVert } from './filters/blend-modes/blend-template.vert.mjs';\nexport { default as blendTemplateWgsl } from './filters/blend-modes/blend-template.wgsl.mjs';\nexport { default as hslWgsl } from './filters/blend-modes/hsl.wgsl.mjs';\nexport { default as alphaFrag } from './filters/defaults/alpha/alpha.frag.mjs';\nexport { default as alphaWgsl } from './filters/defaults/alpha/alpha.wgsl.mjs';\nexport { default as blurTemplateWgsl } from './filters/defaults/blur/gpu/blur-template.wgsl.mjs';\nexport { default as colorMatrixFilterFrag } from './filters/defaults/color-matrix/colorMatrixFilter.frag.mjs';\nexport { default as colorMatrixFilterWgsl } from './filters/defaults/color-matrix/colorMatrixFilter.wgsl.mjs';\nexport { default as defaultFilterVert } from './filters/defaults/defaultFilter.vert.mjs';\nexport { default as displacementFrag } from './filters/defaults/displacement/displacement.frag.mjs';\nexport { default as displacementVert } from './filters/defaults/displacement/displacement.vert.mjs';\nexport { default as displacementWgsl } from './filters/defaults/displacement/displacement.wgsl.mjs';\nexport { default as noiseFrag } from './filters/defaults/noise/noise.frag.mjs';\nexport { default as noiseWgsl } from './filters/defaults/noise/noise.wgsl.mjs';\nexport { default as passthroughFrag } from './filters/defaults/passthrough/passthrough.frag.mjs';\nexport { default as passthroughWgsl } from './filters/defaults/passthrough/passthrough.wgsl.mjs';\nexport { default as maskFrag } from './filters/mask/mask.frag.mjs';\nexport { default as maskVert } from './filters/mask/mask.vert.mjs';\nexport { default as maskWgsl } from './filters/mask/mask.wgsl.mjs';\nexport { BlendModeFilter } from './filters/blend-modes/BlendModeFilter.mjs';\nexport { hslgl } from './filters/blend-modes/hls/GLhls.mjs';\nexport { hslgpu } from './filters/blend-modes/hls/GPUhls.mjs';\nexport { AlphaFilter } from './filters/defaults/alpha/AlphaFilter.mjs';\nexport { BlurFilter } from './filters/defaults/blur/BlurFilter.mjs';\nexport { BlurFilterPass } from './filters/defaults/blur/BlurFilterPass.mjs';\nexport { GAUSSIAN_VALUES } from './filters/defaults/blur/const.mjs';\nexport { generateBlurFragSource } from './filters/defaults/blur/gl/generateBlurFragSource.mjs';\nexport { generateBlurGlProgram } from './filters/defaults/blur/gl/generateBlurGlProgram.mjs';\nexport { generateBlurVertSource } from './filters/defaults/blur/gl/generateBlurVertSource.mjs';\nexport { generateBlurProgram } from './filters/defaults/blur/gpu/generateBlurProgram.mjs';\nexport { ColorMatrixFilter } from './filters/defaults/color-matrix/ColorMatrixFilter.mjs';\nexport { DisplacementFilter } from './filters/defaults/displacement/DisplacementFilter.mjs';\nexport { NoiseFilter } from './filters/defaults/noise/NoiseFilter.mjs';\nexport { PassthroughFilter } from './filters/defaults/passthrough/PassthroughFilter.mjs';\nexport { Filter } from './filters/Filter.mjs';\nexport { FilterEffect } from './filters/FilterEffect.mjs';\nexport { FilterPipe } from './filters/FilterPipe.mjs';\nexport { FilterSystem } from './filters/FilterSystem.mjs';\nexport { MaskFilter } from './filters/mask/MaskFilter.mjs';\nexport { groupD8 } from './maths/matrix/groupD8.mjs';\nexport { Matrix } from './maths/matrix/Matrix.mjs';\nexport { DEG_TO_RAD, PI_2, RAD_TO_DEG } from './maths/misc/const.mjs';\nexport { isPow2, log2, nextPow2 } from './maths/misc/pow2.mjs';\nexport { squaredDistanceToLineSegment } from './maths/misc/squaredDistanceToLineSegment.mjs';\nexport { ObservablePoint } from './maths/point/ObservablePoint.mjs';\nexport { Point } from './maths/point/Point.mjs';\nexport { pointInTriangle } from './maths/point/pointInTriangle.mjs';\nexport { Circle } from './maths/shapes/Circle.mjs';\nexport { Ellipse } from './maths/shapes/Ellipse.mjs';\nexport { Polygon } from './maths/shapes/Polygon.mjs';\nexport { Rectangle } from './maths/shapes/Rectangle.mjs';\nexport { RoundedRectangle } from './maths/shapes/RoundedRectangle.mjs';\nexport { Triangle } from './maths/shapes/Triangle.mjs';\nexport { PrepareBase } from './prepare/PrepareBase.mjs';\nexport { PrepareQueue } from './prepare/PrepareQueue.mjs';\nexport { PrepareSystem } from './prepare/PrepareSystem.mjs';\nexport { PrepareUpload } from './prepare/PrepareUpload.mjs';\nexport { GlBatchAdaptor } from './rendering/batcher/gl/GlBatchAdaptor.mjs';\nexport { checkMaxIfStatementsInShader } from './rendering/batcher/gl/utils/checkMaxIfStatementsInShader.mjs';\nexport { getMaxTexturesPerBatch } from './rendering/batcher/gl/utils/maxRecommendedTextures.mjs';\nexport { generateGPULayout } from './rendering/batcher/gpu/generateGPULayout.mjs';\nexport { generateLayout } from './rendering/batcher/gpu/generateLayout.mjs';\nexport { getTextureBatchBindGroup } from './rendering/batcher/gpu/getTextureBatchBindGroup.mjs';\nexport { GpuBatchAdaptor } from './rendering/batcher/gpu/GpuBatchAdaptor.mjs';\nexport { Batch, Batcher } from './rendering/batcher/shared/Batcher.mjs';\nexport { BatcherPipe } from './rendering/batcher/shared/BatcherPipe.mjs';\nexport { BatchGeometry } from './rendering/batcher/shared/BatchGeometry.mjs';\nexport { BatchTextureArray } from './rendering/batcher/shared/BatchTextureArray.mjs';\nexport { DefaultBatcher } from './rendering/batcher/shared/DefaultBatcher.mjs';\nexport { DefaultShader } from './rendering/batcher/shared/DefaultShader.mjs';\nexport { compileHighShaderGlProgram, compileHighShaderGpuProgram } from './rendering/high-shader/compileHighShaderToProgram.mjs';\nexport { compileHighShader, compileHighShaderGl } from './rendering/high-shader/compiler/compileHighShader.mjs';\nexport { addBits } from './rendering/high-shader/compiler/utils/addBits.mjs';\nexport { compileHooks } from './rendering/high-shader/compiler/utils/compileHooks.mjs';\nexport { compileInputs } from './rendering/high-shader/compiler/utils/compileInputs.mjs';\nexport { compileOutputs } from './rendering/high-shader/compiler/utils/compileOutputs.mjs';\nexport { formatShader } from './rendering/high-shader/compiler/utils/formatShader.mjs';\nexport { injectBits } from './rendering/high-shader/compiler/utils/injectBits.mjs';\nexport { fragmentGPUTemplate, fragmentGlTemplate, vertexGPUTemplate, vertexGlTemplate } from './rendering/high-shader/defaultProgramTemplate.mjs';\nexport { colorBit, colorBitGl } from './rendering/high-shader/shader-bits/colorBit.mjs';\nexport { generateTextureBatchBit, generateTextureBatchBitGl } from './rendering/high-shader/shader-bits/generateTextureBatchBit.mjs';\nexport { globalUniformsBit, globalUniformsBitGl, globalUniformsUBOBitGl } from './rendering/high-shader/shader-bits/globalUniformsBit.mjs';\nexport { localUniformBit, localUniformBitGl, localUniformBitGroup2 } from './rendering/high-shader/shader-bits/localUniformBit.mjs';\nexport { roundPixelsBit, roundPixelsBitGl } from './rendering/high-shader/shader-bits/roundPixelsBit.mjs';\nexport { textureBit, textureBitGl } from './rendering/high-shader/shader-bits/textureBit.mjs';\nexport { AlphaMask } from './rendering/mask/alpha/AlphaMask.mjs';\nexport { AlphaMaskPipe } from './rendering/mask/alpha/AlphaMaskPipe.mjs';\nexport { ColorMask } from './rendering/mask/color/ColorMask.mjs';\nexport { ColorMaskPipe } from './rendering/mask/color/ColorMaskPipe.mjs';\nexport { MaskEffectManager, MaskEffectManagerClass } from './rendering/mask/MaskEffectManager.mjs';\nexport { ScissorMask } from './rendering/mask/scissor/ScissorMask.mjs';\nexport { StencilMask } from './rendering/mask/stencil/StencilMask.mjs';\nexport { StencilMaskPipe } from './rendering/mask/stencil/StencilMaskPipe.mjs';\nexport { addMaskBounds } from './rendering/mask/utils/addMaskBounds.mjs';\nexport { addMaskLocalBounds } from './rendering/mask/utils/addMaskLocalBounds.mjs';\nexport { autoDetectRenderer } from './rendering/renderers/autoDetectRenderer.mjs';\nexport { BUFFER_TYPE } from './rendering/renderers/gl/buffer/const.mjs';\nexport { GlBuffer } from './rendering/renderers/gl/buffer/GlBuffer.mjs';\nexport { GlBufferSystem } from './rendering/renderers/gl/buffer/GlBufferSystem.mjs';\nexport { CLEAR } from './rendering/renderers/gl/const.mjs';\nexport { GlContextSystem } from './rendering/renderers/gl/context/GlContextSystem.mjs';\nexport { GlGeometrySystem } from './rendering/renderers/gl/geometry/GlGeometrySystem.mjs';\nexport { getGlTypeFromFormat } from './rendering/renderers/gl/geometry/utils/getGlTypeFromFormat.mjs';\nexport { GlBackBufferSystem } from './rendering/renderers/gl/GlBackBufferSystem.mjs';\nexport { GlColorMaskSystem } from './rendering/renderers/gl/GlColorMaskSystem.mjs';\nexport { GlEncoderSystem } from './rendering/renderers/gl/GlEncoderSystem.mjs';\nexport { GlLimitsSystem } from './rendering/renderers/gl/GlLimitsSystem.mjs';\nexport { GlRenderTarget } from './rendering/renderers/gl/GlRenderTarget.mjs';\nexport { GlStencilSystem } from './rendering/renderers/gl/GlStencilSystem.mjs';\nexport { GlUboSystem } from './rendering/renderers/gl/GlUboSystem.mjs';\nexport { GlRenderTargetAdaptor } from './rendering/renderers/gl/renderTarget/GlRenderTargetAdaptor.mjs';\nexport { GlRenderTargetSystem } from './rendering/renderers/gl/renderTarget/GlRenderTargetSystem.mjs';\nexport { generateShaderSyncCode } from './rendering/renderers/gl/shader/GenerateShaderSyncCode.mjs';\nexport { getBatchSamplersUniformGroup } from './rendering/renderers/gl/shader/getBatchSamplersUniformGroup.mjs';\nexport { GlProgram } from './rendering/renderers/gl/shader/GlProgram.mjs';\nexport { GlProgramData, IGLUniformData } from './rendering/renderers/gl/shader/GlProgramData.mjs';\nexport { GlShaderSystem } from './rendering/renderers/gl/shader/GlShaderSystem.mjs';\nexport { GlUniformGroupSystem } from './rendering/renderers/gl/shader/GlUniformGroupSystem.mjs';\nexport { migrateFragmentFromV7toV8 } from './rendering/renderers/gl/shader/migrateFragmentFromV7toV8.mjs';\nexport { compileShader } from './rendering/renderers/gl/shader/program/compileShader.mjs';\nexport { defaultValue } from './rendering/renderers/gl/shader/program/defaultValue.mjs';\nexport { ensureAttributes } from './rendering/renderers/gl/shader/program/ensureAttributes.mjs';\nexport { extractAttributesFromGlProgram } from './rendering/renderers/gl/shader/program/extractAttributesFromGlProgram.mjs';\nexport { generateProgram } from './rendering/renderers/gl/shader/program/generateProgram.mjs';\nexport { getMaxFragmentPrecision } from './rendering/renderers/gl/shader/program/getMaxFragmentPrecision.mjs';\nexport { getTestContext } from './rendering/renderers/gl/shader/program/getTestContext.mjs';\nexport { getUboData } from './rendering/renderers/gl/shader/program/getUboData.mjs';\nexport { getUniformData } from './rendering/renderers/gl/shader/program/getUniformData.mjs';\nexport { logProgramError } from './rendering/renderers/gl/shader/program/logProgramError.mjs';\nexport { mapSize } from './rendering/renderers/gl/shader/program/mapSize.mjs';\nexport { mapGlToVertexFormat, mapType } from './rendering/renderers/gl/shader/program/mapType.mjs';\nexport { addProgramDefines } from './rendering/renderers/gl/shader/program/preprocessors/addProgramDefines.mjs';\nexport { ensurePrecision } from './rendering/renderers/gl/shader/program/preprocessors/ensurePrecision.mjs';\nexport { insertVersion } from './rendering/renderers/gl/shader/program/preprocessors/insertVersion.mjs';\nexport { setProgramName } from './rendering/renderers/gl/shader/program/preprocessors/setProgramName.mjs';\nexport { stripVersion } from './rendering/renderers/gl/shader/program/preprocessors/stripVersion.mjs';\nexport { WGSL_TO_STD40_SIZE, createUboElementsSTD40 } from './rendering/renderers/gl/shader/utils/createUboElementsSTD40.mjs';\nexport { createUboSyncFunctionSTD40 } from './rendering/renderers/gl/shader/utils/createUboSyncSTD40.mjs';\nexport { generateArraySyncSTD40 } from './rendering/renderers/gl/shader/utils/generateArraySyncSTD40.mjs';\nexport { generateUniformsSync } from './rendering/renderers/gl/shader/utils/generateUniformsSync.mjs';\nexport { UNIFORM_TO_ARRAY_SETTERS, UNIFORM_TO_SINGLE_SETTERS } from './rendering/renderers/gl/shader/utils/generateUniformsSyncTypes.mjs';\nexport { GlStateSystem } from './rendering/renderers/gl/state/GlStateSystem.mjs';\nexport { mapWebGLBlendModesToPixi } from './rendering/renderers/gl/state/mapWebGLBlendModesToPixi.mjs';\nexport { GL_FORMATS, GL_TARGETS, GL_TYPES, GL_WRAP_MODES } from './rendering/renderers/gl/texture/const.mjs';\nexport { GlTexture } from './rendering/renderers/gl/texture/GlTexture.mjs';\nexport { GlTextureSystem } from './rendering/renderers/gl/texture/GlTextureSystem.mjs';\nexport { glUploadBufferImageResource } from './rendering/renderers/gl/texture/uploaders/glUploadBufferImageResource.mjs';\nexport { glUploadCompressedTextureResource } from './rendering/renderers/gl/texture/uploaders/glUploadCompressedTextureResource.mjs';\nexport { glUploadImageResource } from './rendering/renderers/gl/texture/uploaders/glUploadImageResource.mjs';\nexport { glUploadVideoResource } from './rendering/renderers/gl/texture/uploaders/glUploadVideoResource.mjs';\nexport { applyStyleParams } from './rendering/renderers/gl/texture/utils/applyStyleParams.mjs';\nexport { getSupportedGlCompressedTextureFormats } from './rendering/renderers/gl/texture/utils/getSupportedGlCompressedTextureFormats.mjs';\nexport { mapFormatToGlFormat } from './rendering/renderers/gl/texture/utils/mapFormatToGlFormat.mjs';\nexport { mapFormatToGlInternalFormat } from './rendering/renderers/gl/texture/utils/mapFormatToGlInternalFormat.mjs';\nexport { mapFormatToGlType } from './rendering/renderers/gl/texture/utils/mapFormatToGlType.mjs';\nexport { compareModeToGlCompare, mipmapScaleModeToGlFilter, scaleModeToGlFilter, wrapModeToGlAddress } from './rendering/renderers/gl/texture/utils/pixiToGlMaps.mjs';\nexport { unpremultiplyAlpha } from './rendering/renderers/gl/texture/utils/unpremultiplyAlpha.mjs';\nexport { WebGLRenderer } from './rendering/renderers/gl/WebGLRenderer.mjs';\nexport { BindGroupSystem } from './rendering/renderers/gpu/BindGroupSystem.mjs';\nexport { GpuBufferSystem } from './rendering/renderers/gpu/buffer/GpuBufferSystem.mjs';\nexport { UboBatch } from './rendering/renderers/gpu/buffer/UboBatch.mjs';\nexport { GpuColorMaskSystem } from './rendering/renderers/gpu/GpuColorMaskSystem.mjs';\nexport { GpuDeviceSystem } from './rendering/renderers/gpu/GpuDeviceSystem.mjs';\nexport { GpuEncoderSystem } from './rendering/renderers/gpu/GpuEncoderSystem.mjs';\nexport { GpuLimitsSystem } from './rendering/renderers/gpu/GpuLimitsSystem.mjs';\nexport { GpuStencilSystem } from './rendering/renderers/gpu/GpuStencilSystem.mjs';\nexport { GpuUboSystem } from './rendering/renderers/gpu/GpuUboSystem.mjs';\nexport { GpuUniformBatchPipe } from './rendering/renderers/gpu/GpuUniformBatchPipe.mjs';\nexport { PipelineSystem } from './rendering/renderers/gpu/pipeline/PipelineSystem.mjs';\nexport { calculateProjection } from './rendering/renderers/gpu/renderTarget/calculateProjection.mjs';\nexport { GpuRenderTarget } from './rendering/renderers/gpu/renderTarget/GpuRenderTarget.mjs';\nexport { GpuRenderTargetAdaptor } from './rendering/renderers/gpu/renderTarget/GpuRenderTargetAdaptor.mjs';\nexport { GpuRenderTargetSystem } from './rendering/renderers/gpu/renderTarget/GpuRenderTargetSystem.mjs';\nexport { BindGroup } from './rendering/renderers/gpu/shader/BindGroup.mjs';\nexport { GpuProgram } from './rendering/renderers/gpu/shader/GpuProgram.mjs';\nexport { GpuShaderSystem } from './rendering/renderers/gpu/shader/GpuShaderSystem.mjs';\nexport { WGSL_ALIGN_SIZE_DATA, createUboElementsWGSL } from './rendering/renderers/gpu/shader/utils/createUboElementsWGSL.mjs';\nexport { createUboSyncFunctionWGSL } from './rendering/renderers/gpu/shader/utils/createUboSyncFunctionWGSL.mjs';\nexport { extractAttributesFromGpuProgram } from './rendering/renderers/gpu/shader/utils/extractAttributesFromGpuProgram.mjs';\nexport { extractStructAndGroups } from './rendering/renderers/gpu/shader/utils/extractStructAndGroups.mjs';\nexport { generateArraySyncWGSL } from './rendering/renderers/gpu/shader/utils/generateArraySyncWGSL.mjs';\nexport { generateGpuLayoutGroups } from './rendering/renderers/gpu/shader/utils/generateGpuLayoutGroups.mjs';\nexport { generateLayoutHash } from './rendering/renderers/gpu/shader/utils/generateLayoutHash.mjs';\nexport { removeStructAndGroupDuplicates } from './rendering/renderers/gpu/shader/utils/removeStructAndGroupDuplicates.mjs';\nexport { GpuBlendModesToPixi } from './rendering/renderers/gpu/state/GpuBlendModesToPixi.mjs';\nexport { GpuStateSystem } from './rendering/renderers/gpu/state/GpuStateSystem.mjs';\nexport { GpuStencilModesToPixi } from './rendering/renderers/gpu/state/GpuStencilModesToPixi.mjs';\nexport { GpuTextureSystem } from './rendering/renderers/gpu/texture/GpuTextureSystem.mjs';\nexport { gpuUploadBufferImageResource } from './rendering/renderers/gpu/texture/uploaders/gpuUploadBufferImageResource.mjs';\nexport { blockDataMap, gpuUploadCompressedTextureResource } from './rendering/renderers/gpu/texture/uploaders/gpuUploadCompressedTextureResource.mjs';\nexport { gpuUploadImageResource } from './rendering/renderers/gpu/texture/uploaders/gpuUploadImageSource.mjs';\nexport { gpuUploadVideoResource } from './rendering/renderers/gpu/texture/uploaders/gpuUploadVideoSource.mjs';\nexport { getSupportedGPUCompressedTextureFormats } from './rendering/renderers/gpu/texture/utils/getSupportedGPUCompressedTextureFormats.mjs';\nexport { GpuMipmapGenerator } from './rendering/renderers/gpu/texture/utils/GpuMipmapGenerator.mjs';\nexport { WebGPURenderer } from './rendering/renderers/gpu/WebGPURenderer.mjs';\nexport { BackgroundSystem } from './rendering/renderers/shared/background/BackgroundSystem.mjs';\nexport { BlendModePipe } from './rendering/renderers/shared/blendModes/BlendModePipe.mjs';\nexport { Buffer } from './rendering/renderers/shared/buffer/Buffer.mjs';\nexport { BufferResource } from './rendering/renderers/shared/buffer/BufferResource.mjs';\nexport { BufferUsage } from './rendering/renderers/shared/buffer/const.mjs';\nexport { fastCopy } from './rendering/renderers/shared/buffer/utils/fastCopy.mjs';\nexport { ExtractSystem } from './rendering/renderers/shared/extract/ExtractSystem.mjs';\nexport { GenerateTextureSystem } from './rendering/renderers/shared/extract/GenerateTextureSystem.mjs';\nexport { DRAW_MODES } from './rendering/renderers/shared/geometry/const.mjs';\nexport { Geometry } from './rendering/renderers/shared/geometry/Geometry.mjs';\nexport { buildSimpleUvs, buildUvs } from './rendering/renderers/shared/geometry/utils/buildUvs.mjs';\nexport { ensureIsBuffer } from './rendering/renderers/shared/geometry/utils/ensureIsBuffer.mjs';\nexport { getAttributeInfoFromFormat } from './rendering/renderers/shared/geometry/utils/getAttributeInfoFromFormat.mjs';\nexport { getGeometryBounds } from './rendering/renderers/shared/geometry/utils/getGeometryBounds.mjs';\nexport { transformVertices } from './rendering/renderers/shared/geometry/utils/transformVertices.mjs';\nexport { InstructionSet } from './rendering/renderers/shared/instructions/InstructionSet.mjs';\nexport { GlobalUniformSystem } from './rendering/renderers/shared/renderTarget/GlobalUniformSystem.mjs';\nexport { isRenderingToScreen } from './rendering/renderers/shared/renderTarget/isRenderingToScreen.mjs';\nexport { RenderTarget } from './rendering/renderers/shared/renderTarget/RenderTarget.mjs';\nexport { RenderTargetSystem } from './rendering/renderers/shared/renderTarget/RenderTargetSystem.mjs';\nexport { SchedulerSystem } from './rendering/renderers/shared/SchedulerSystem.mjs';\nexport { ShaderStage } from './rendering/renderers/shared/shader/const.mjs';\nexport { Shader } from './rendering/renderers/shared/shader/Shader.mjs';\nexport { UNIFORM_TYPES_MAP, UNIFORM_TYPES_VALUES } from './rendering/renderers/shared/shader/types.mjs';\nexport { UboSystem } from './rendering/renderers/shared/shader/UboSystem.mjs';\nexport { UniformGroup } from './rendering/renderers/shared/shader/UniformGroup.mjs';\nexport { createUboSyncFunction } from './rendering/renderers/shared/shader/utils/createUboSyncFunction.mjs';\nexport { getDefaultUniformValue } from './rendering/renderers/shared/shader/utils/getDefaultUniformValue.mjs';\nexport { uboSyncFunctionsSTD40, uboSyncFunctionsWGSL } from './rendering/renderers/shared/shader/utils/uboSyncFunctions.mjs';\nexport { uniformParsers } from './rendering/renderers/shared/shader/utils/uniformParsers.mjs';\nexport { HelloSystem } from './rendering/renderers/shared/startup/HelloSystem.mjs';\nexport { BLEND_TO_NPM, STENCIL_MODES } from './rendering/renderers/shared/state/const.mjs';\nexport { getAdjustedBlendModeBlend } from './rendering/renderers/shared/state/getAdjustedBlendModeBlend.mjs';\nexport { State } from './rendering/renderers/shared/state/State.mjs';\nexport { AbstractRenderer } from './rendering/renderers/shared/system/AbstractRenderer.mjs';\nexport { SharedRenderPipes, SharedSystems } from './rendering/renderers/shared/system/SharedSystems.mjs';\nexport { SystemRunner } from './rendering/renderers/shared/system/SystemRunner.mjs';\nexport { CanvasPool, CanvasPoolClass } from './rendering/renderers/shared/texture/CanvasPool.mjs';\nexport { DEPRECATED_SCALE_MODES, DEPRECATED_WRAP_MODES, SCALE_MODES, WRAP_MODES } from './rendering/renderers/shared/texture/const.mjs';\nexport { RenderableGCSystem } from './rendering/renderers/shared/texture/RenderableGCSystem.mjs';\nexport { RenderTexture } from './rendering/renderers/shared/texture/RenderTexture.mjs';\nexport { BufferImageSource } from './rendering/renderers/shared/texture/sources/BufferImageSource.mjs';\nexport { CanvasSource } from './rendering/renderers/shared/texture/sources/CanvasSource.mjs';\nexport { CompressedSource } from './rendering/renderers/shared/texture/sources/CompressedSource.mjs';\nexport { ImageSource } from './rendering/renderers/shared/texture/sources/ImageSource.mjs';\nexport { TextureSource } from './rendering/renderers/shared/texture/sources/TextureSource.mjs';\nexport { VideoSource } from './rendering/renderers/shared/texture/sources/VideoSource.mjs';\nexport { Texture } from './rendering/renderers/shared/texture/Texture.mjs';\nexport { TextureGCSystem } from './rendering/renderers/shared/texture/TextureGCSystem.mjs';\nexport { TextureMatrix } from './rendering/renderers/shared/texture/TextureMatrix.mjs';\nexport { TexturePool, TexturePoolClass } from './rendering/renderers/shared/texture/TexturePool.mjs';\nexport { TextureStyle } from './rendering/renderers/shared/texture/TextureStyle.mjs';\nexport { TextureUvs } from './rendering/renderers/shared/texture/TextureUvs.mjs';\nexport { getCanvasTexture, hasCachedCanvasTexture } from './rendering/renderers/shared/texture/utils/getCanvasTexture.mjs';\nexport { getSupportedCompressedTextureFormats } from './rendering/renderers/shared/texture/utils/getSupportedCompressedTextureFormats.mjs';\nexport { getSupportedTextureFormats, nonCompressedFormats } from './rendering/renderers/shared/texture/utils/getSupportedTextureFormats.mjs';\nexport { autoDetectSource, resourceToTexture, textureFrom } from './rendering/renderers/shared/texture/utils/textureFrom.mjs';\nexport { createIdFromString } from './rendering/renderers/shared/utils/createIdFromString.mjs';\nexport { parseFunctionBody } from './rendering/renderers/shared/utils/parseFunctionBody.mjs';\nexport { ViewSystem } from './rendering/renderers/shared/view/ViewSystem.mjs';\nexport { RendererType } from './rendering/renderers/types.mjs';\nexport { default as particlesFrag } from './scene/particle-container/shared/shader/particles.frag.mjs';\nexport { default as particlesVert } from './scene/particle-container/shared/shader/particles.vert.mjs';\nexport { default as particlesWgsl } from './scene/particle-container/shared/shader/particles.wgsl.mjs';\nexport { Bounds } from './scene/container/bounds/Bounds.mjs';\nexport { getFastGlobalBounds } from './scene/container/bounds/getFastGlobalBounds.mjs';\nexport { getGlobalBounds, updateTransformBackwards } from './scene/container/bounds/getGlobalBounds.mjs';\nexport { getLocalBounds } from './scene/container/bounds/getLocalBounds.mjs';\nexport { getGlobalRenderableBounds } from './scene/container/bounds/getRenderableBounds.mjs';\nexport { boundsPool, matrixPool } from './scene/container/bounds/utils/matrixAndBoundsPool.mjs';\nexport { cacheAsTextureMixin } from './scene/container/container-mixins/cacheAsTextureMixin.mjs';\nexport { childrenHelperMixin } from './scene/container/container-mixins/childrenHelperMixin.mjs';\nexport { collectRenderablesMixin } from './scene/container/container-mixins/collectRenderablesMixin.mjs';\nexport { effectsMixin } from './scene/container/container-mixins/effectsMixin.mjs';\nexport { findMixin } from './scene/container/container-mixins/findMixin.mjs';\nexport { getFastGlobalBoundsMixin } from './scene/container/container-mixins/getFastGlobalBoundsMixin.mjs';\nexport { bgr2rgb, getGlobalMixin } from './scene/container/container-mixins/getGlobalMixin.mjs';\nexport { measureMixin } from './scene/container/container-mixins/measureMixin.mjs';\nexport { onRenderMixin } from './scene/container/container-mixins/onRenderMixin.mjs';\nexport { sortMixin } from './scene/container/container-mixins/sortMixin.mjs';\nexport { toLocalGlobalMixin } from './scene/container/container-mixins/toLocalGlobalMixin.mjs';\nexport { Container, UPDATE_BLEND, UPDATE_COLOR, UPDATE_TRANSFORM, UPDATE_VISIBLE } from './scene/container/Container.mjs';\nexport { CustomRenderPipe } from './scene/container/CustomRenderPipe.mjs';\nexport { RenderContainer } from './scene/container/RenderContainer.mjs';\nexport { RenderGroup } from './scene/container/RenderGroup.mjs';\nexport { RenderGroupPipe } from './scene/container/RenderGroupPipe.mjs';\nexport { RenderGroupSystem } from './scene/container/RenderGroupSystem.mjs';\nexport { assignWithIgnore } from './scene/container/utils/assignWithIgnore.mjs';\nexport { checkChildrenDidChange } from './scene/container/utils/checkChildrenDidChange.mjs';\nexport { clearList } from './scene/container/utils/clearList.mjs';\nexport { collectAllRenderables } from './scene/container/utils/collectAllRenderables.mjs';\nexport { definedProps } from './scene/container/utils/definedProps.mjs';\nexport { executeInstructions } from './scene/container/utils/executeInstructions.mjs';\nexport { multiplyColors } from './scene/container/utils/multiplyColors.mjs';\nexport { multiplyHexColors } from './scene/container/utils/multiplyHexColors.mjs';\nexport { updateLocalTransform } from './scene/container/utils/updateLocalTransform.mjs';\nexport { updateRenderGroupTransform, updateRenderGroupTransforms, updateTransformAndChildren } from './scene/container/utils/updateRenderGroupTransforms.mjs';\nexport { updateWorldTransform } from './scene/container/utils/updateWorldTransform.mjs';\nexport { validateRenderables } from './scene/container/utils/validateRenderables.mjs';\nexport { GlGraphicsAdaptor } from './scene/graphics/gl/GlGraphicsAdaptor.mjs';\nexport { color32BitToUniform, colorToUniform } from './scene/graphics/gpu/colorToUniform.mjs';\nexport { GpuGraphicsAdaptor } from './scene/graphics/gpu/GpuGraphicsAdaptor.mjs';\nexport { BatchableGraphics } from './scene/graphics/shared/BatchableGraphics.mjs';\nexport { buildAdaptiveBezier } from './scene/graphics/shared/buildCommands/buildAdaptiveBezier.mjs';\nexport { buildAdaptiveQuadratic } from './scene/graphics/shared/buildCommands/buildAdaptiveQuadratic.mjs';\nexport { buildArc } from './scene/graphics/shared/buildCommands/buildArc.mjs';\nexport { buildArcTo } from './scene/graphics/shared/buildCommands/buildArcTo.mjs';\nexport { buildArcToSvg } from './scene/graphics/shared/buildCommands/buildArcToSvg.mjs';\nexport { buildCircle, buildEllipse, buildRoundedRectangle } from './scene/graphics/shared/buildCommands/buildCircle.mjs';\nexport { buildLine } from './scene/graphics/shared/buildCommands/buildLine.mjs';\nexport { buildPixelLine } from './scene/graphics/shared/buildCommands/buildPixelLine.mjs';\nexport { buildPolygon } from './scene/graphics/shared/buildCommands/buildPolygon.mjs';\nexport { buildRectangle } from './scene/graphics/shared/buildCommands/buildRectangle.mjs';\nexport { buildTriangle } from './scene/graphics/shared/buildCommands/buildTriangle.mjs';\nexport { closePointEps, curveEps } from './scene/graphics/shared/const.mjs';\nexport { FillGradient } from './scene/graphics/shared/fill/FillGradient.mjs';\nexport { FillPattern } from './scene/graphics/shared/fill/FillPattern.mjs';\nexport { Graphics } from './scene/graphics/shared/Graphics.mjs';\nexport { GraphicsContext } from './scene/graphics/shared/GraphicsContext.mjs';\nexport { GpuGraphicsContext, GraphicsContextRenderData, GraphicsContextSystem } from './scene/graphics/shared/GraphicsContextSystem.mjs';\nexport { GraphicsGpuData, GraphicsPipe } from './scene/graphics/shared/GraphicsPipe.mjs';\nexport { GraphicsPath } from './scene/graphics/shared/path/GraphicsPath.mjs';\nexport { roundedShapeArc, roundedShapeQuadraticCurve } from './scene/graphics/shared/path/roundShape.mjs';\nexport { ShapePath } from './scene/graphics/shared/path/ShapePath.mjs';\nexport { parseSVGDefinitions } from './scene/graphics/shared/svg/parseSVGDefinitions.mjs';\nexport { parseSVGFloatAttribute } from './scene/graphics/shared/svg/parseSVGFloatAttribute.mjs';\nexport { parseSVGPath } from './scene/graphics/shared/svg/parseSVGPath.mjs';\nexport { parseSVGStyle, styleAttributes } from './scene/graphics/shared/svg/parseSVGStyle.mjs';\nexport { SVGParser } from './scene/graphics/shared/svg/SVGParser.mjs';\nexport { extractSvgUrlId } from './scene/graphics/shared/svg/utils/extractSvgUrlId.mjs';\nexport { checkForNestedPattern, getFillInstructionData } from './scene/graphics/shared/svg/utils/fillOperations.mjs';\nexport { appendSVGPath, calculatePathArea, extractSubpaths } from './scene/graphics/shared/svg/utils/pathOperations.mjs';\nexport { buildContextBatches, shapeBuilders } from './scene/graphics/shared/utils/buildContextBatches.mjs';\nexport { buildGeometryFromPath } from './scene/graphics/shared/utils/buildGeometryFromPath.mjs';\nexport { toFillStyle, toStrokeStyle } from './scene/graphics/shared/utils/convertFillInputToFillStyle.mjs';\nexport { generateTextureMatrix } from './scene/graphics/shared/utils/generateTextureFillMatrix.mjs';\nexport { getOrientationOfPoints } from './scene/graphics/shared/utils/getOrientationOfPoints.mjs';\nexport { triangulateWithHoles } from './scene/graphics/shared/utils/triangulateWithHoles.mjs';\nexport { RenderLayer } from './scene/layers/RenderLayer.mjs';\nexport { PerspectiveMesh } from './scene/mesh-perspective/PerspectiveMesh.mjs';\nexport { PerspectivePlaneGeometry } from './scene/mesh-perspective/PerspectivePlaneGeometry.mjs';\nexport { applyProjectiveTransformationToPlane } from './scene/mesh-perspective/utils/applyProjectiveTransformationToPlane.mjs';\nexport { compute2DProjection } from './scene/mesh-perspective/utils/compute2DProjections.mjs';\nexport { MeshPlane } from './scene/mesh-plane/MeshPlane.mjs';\nexport { PlaneGeometry } from './scene/mesh-plane/PlaneGeometry.mjs';\nexport { MeshRope } from './scene/mesh-simple/MeshRope.mjs';\nexport { MeshSimple } from './scene/mesh-simple/MeshSimple.mjs';\nexport { RopeGeometry } from './scene/mesh-simple/RopeGeometry.mjs';\nexport { GlMeshAdaptor } from './scene/mesh/gl/GlMeshAdaptor.mjs';\nexport { GpuMeshAdapter } from './scene/mesh/gpu/GpuMeshAdapter.mjs';\nexport { BatchableMesh } from './scene/mesh/shared/BatchableMesh.mjs';\nexport { getTextureDefaultMatrix } from './scene/mesh/shared/getTextureDefaultMatrix.mjs';\nexport { Mesh } from './scene/mesh/shared/Mesh.mjs';\nexport { MeshGeometry } from './scene/mesh/shared/MeshGeometry.mjs';\nexport { MeshGpuData, MeshPipe } from './scene/mesh/shared/MeshPipe.mjs';\nexport { GlParticleContainerAdaptor } from './scene/particle-container/gl/GlParticleContainerAdaptor.mjs';\nexport { GpuParticleContainerAdaptor } from './scene/particle-container/gpu/GpuParticleContainerAdaptor.mjs';\nexport { GlParticleContainerPipe } from './scene/particle-container/shared/GlParticleContainerPipe.mjs';\nexport { GpuParticleContainerPipe } from './scene/particle-container/shared/GpuParticleContainerPipe.mjs';\nexport { Particle } from './scene/particle-container/shared/Particle.mjs';\nexport { ParticleBuffer } from './scene/particle-container/shared/ParticleBuffer.mjs';\nexport { ParticleContainer } from './scene/particle-container/shared/ParticleContainer.mjs';\nexport { ParticleContainerPipe } from './scene/particle-container/shared/ParticleContainerPipe.mjs';\nexport { particleData } from './scene/particle-container/shared/particleData.mjs';\nexport { ParticleShader } from './scene/particle-container/shared/shader/ParticleShader.mjs';\nexport { createIndicesForQuads } from './scene/particle-container/shared/utils/createIndicesForQuads.mjs';\nexport { generateParticleUpdateFunction } from './scene/particle-container/shared/utils/generateParticleUpdateFunction.mjs';\nexport { AnimatedSprite } from './scene/sprite-animated/AnimatedSprite.mjs';\nexport { NineSliceGeometry } from './scene/sprite-nine-slice/NineSliceGeometry.mjs';\nexport { NineSlicePlane, NineSliceSprite } from './scene/sprite-nine-slice/NineSliceSprite.mjs';\nexport { NineSliceSpriteGpuData, NineSliceSpritePipe } from './scene/sprite-nine-slice/NineSliceSpritePipe.mjs';\nexport { tilingBit, tilingBitGl } from './scene/sprite-tiling/shader/tilingBit.mjs';\nexport { TilingSpriteShader } from './scene/sprite-tiling/shader/TilingSpriteShader.mjs';\nexport { TilingSprite } from './scene/sprite-tiling/TilingSprite.mjs';\nexport { TilingSpriteGpuData, TilingSpritePipe } from './scene/sprite-tiling/TilingSpritePipe.mjs';\nexport { applyMatrix } from './scene/sprite-tiling/utils/applyMatrix.mjs';\nexport { QuadGeometry } from './scene/sprite-tiling/utils/QuadGeometry.mjs';\nexport { setPositions } from './scene/sprite-tiling/utils/setPositions.mjs';\nexport { setUvs } from './scene/sprite-tiling/utils/setUvs.mjs';\nexport { BatchableSprite } from './scene/sprite/BatchableSprite.mjs';\nexport { Sprite } from './scene/sprite/Sprite.mjs';\nexport { SpritePipe } from './scene/sprite/SpritePipe.mjs';\nexport { AbstractBitmapFont } from './scene/text-bitmap/AbstractBitmapFont.mjs';\nexport { bitmapFontTextParser } from './scene/text-bitmap/asset/bitmapFontTextParser.mjs';\nexport { bitmapFontXMLParser } from './scene/text-bitmap/asset/bitmapFontXMLParser.mjs';\nexport { bitmapFontXMLStringParser } from './scene/text-bitmap/asset/bitmapFontXMLStringParser.mjs';\nexport { bitmapFontCachePlugin, loadBitmapFont } from './scene/text-bitmap/asset/loadBitmapFont.mjs';\nexport { BitmapFont } from './scene/text-bitmap/BitmapFont.mjs';\nexport { BitmapFontManager } from './scene/text-bitmap/BitmapFontManager.mjs';\nexport { BitmapText } from './scene/text-bitmap/BitmapText.mjs';\nexport { BitmapTextGraphics, BitmapTextPipe } from './scene/text-bitmap/BitmapTextPipe.mjs';\nexport { DynamicBitmapFont } from './scene/text-bitmap/DynamicBitmapFont.mjs';\nexport { bitmapTextSplit } from './scene/text-bitmap/utils/bitmapTextSplit.mjs';\nexport { getBitmapTextLayout } from './scene/text-bitmap/utils/getBitmapTextLayout.mjs';\nexport { resolveCharacters } from './scene/text-bitmap/utils/resolveCharacters.mjs';\nexport { BatchableHTMLText } from './scene/text-html/BatchableHTMLText.mjs';\nexport { HTMLText } from './scene/text-html/HTMLText.mjs';\nexport { HTMLTextPipe } from './scene/text-html/HTMLTextPipe.mjs';\nexport { HTMLTextRenderData } from './scene/text-html/HTMLTextRenderData.mjs';\nexport { HTMLTextStyle } from './scene/text-html/HTMLTextStyle.mjs';\nexport { HTMLTextSystem } from './scene/text-html/HTMLTextSystem.mjs';\nexport { extractFontFamilies } from './scene/text-html/utils/extractFontFamilies.mjs';\nexport { FontStylePromiseCache, getFontCss } from './scene/text-html/utils/getFontCss.mjs';\nexport { getSVGUrl } from './scene/text-html/utils/getSVGUrl.mjs';\nexport { getTemporaryCanvasFromImage } from './scene/text-html/utils/getTemporaryCanvasFromImage.mjs';\nexport { loadFontAsBase64 } from './scene/text-html/utils/loadFontAsBase64.mjs';\nexport { loadFontCSS } from './scene/text-html/utils/loadFontCSS.mjs';\nexport { loadSVGImage } from './scene/text-html/utils/loadSVGImage.mjs';\nexport { measureHtmlText } from './scene/text-html/utils/measureHtmlText.mjs';\nexport { textStyleToCSS } from './scene/text-html/utils/textStyleToCSS.mjs';\nexport { AbstractSplitText } from './scene/text-split/AbstractSplitText.mjs';\nexport { SplitBitmapText } from './scene/text-split/SplitBitmapText.mjs';\nexport { SplitText } from './scene/text-split/SplitText.mjs';\nexport { AbstractText, ensureTextOptions } from './scene/text/AbstractText.mjs';\nexport { BatchableText } from './scene/text/canvas/BatchableText.mjs';\nexport { CanvasTextGenerator } from './scene/text/canvas/CanvasTextGenerator.mjs';\nexport { CanvasTextMetrics } from './scene/text/canvas/CanvasTextMetrics.mjs';\nexport { CanvasTextPipe } from './scene/text/canvas/CanvasTextPipe.mjs';\nexport { CanvasTextSystem } from './scene/text/canvas/CanvasTextSystem.mjs';\nexport { fontStringFromTextStyle } from './scene/text/canvas/utils/fontStringFromTextStyle.mjs';\nexport { getCanvasFillStyle } from './scene/text/canvas/utils/getCanvasFillStyle.mjs';\nexport { SdfShader } from './scene/text/sdfShader/SdfShader.mjs';\nexport { localUniformMSDFBit, localUniformMSDFBitGl } from './scene/text/sdfShader/shader-bits/localUniformMSDFBit.mjs';\nexport { mSDFBit, mSDFBitGl } from './scene/text/sdfShader/shader-bits/mSDFBit.mjs';\nexport { Text } from './scene/text/Text.mjs';\nexport { TextStyle } from './scene/text/TextStyle.mjs';\nexport { canvasTextSplit } from './scene/text/utils/canvasTextSplit.mjs';\nexport { generateTextStyleKey } from './scene/text/utils/generateTextStyleKey.mjs';\nexport { getPo2TextureFromSource } from './scene/text/utils/getPo2TextureFromSource.mjs';\nexport { updateTextBounds } from './scene/text/utils/updateTextBounds.mjs';\nexport { ViewContainer } from './scene/view/ViewContainer.mjs';\nexport { Spritesheet } from './spritesheet/Spritesheet.mjs';\nexport { spritesheetAsset } from './spritesheet/spritesheetAsset.mjs';\nexport { UPDATE_PRIORITY } from './ticker/const.mjs';\nexport { Ticker } from './ticker/Ticker.mjs';\nexport { TickerListener } from './ticker/TickerListener.mjs';\nexport { detectVideoAlphaMode } from './utils/browser/detectVideoAlphaMode.mjs';\nexport { isMobile } from './utils/browser/isMobile.mjs';\nexport { isSafari } from './utils/browser/isSafari.mjs';\nexport { isWebGLSupported } from './utils/browser/isWebGLSupported.mjs';\nexport { isWebGPUSupported } from './utils/browser/isWebGPUSupported.mjs';\nexport { unsafeEvalSupported } from './utils/browser/unsafeEvalSupported.mjs';\nexport { getCanvasBoundingBox } from './utils/canvas/getCanvasBoundingBox.mjs';\nexport { DATA_URI, VERSION } from './utils/const.mjs';\nexport { default as EventEmitter } from 'eventemitter3';\nexport { cleanArray, cleanHash } from './utils/data/clean.mjs';\nexport { removeItems } from './utils/data/removeItems.mjs';\nexport { resetUids, uid } from './utils/data/uid.mjs';\nexport { updateQuadBounds } from './utils/data/updateQuadBounds.mjs';\nexport { ViewableBuffer } from './utils/data/ViewableBuffer.mjs';\nexport { ApplicationInitHook, RendererInitHook } from './utils/global/globalHooks.mjs';\nexport { deprecation, v8_0_0, v8_3_4 } from './utils/logging/deprecation.mjs';\nexport { logDebugTexture } from './utils/logging/logDebugTexture.mjs';\nexport { logRenderGroupScene, logScene } from './utils/logging/logScene.mjs';\nexport { warn } from './utils/logging/warn.mjs';\nexport { NOOP } from './utils/misc/NOOP.mjs';\nexport { Transform } from './utils/misc/Transform.mjs';\nexport { getResolutionOfUrl } from './utils/network/getResolutionOfUrl.mjs';\nexport { path } from './utils/path.mjs';\nexport { GlobalResourceRegistry } from './utils/pool/GlobalResourceRegistry.mjs';\nexport { Pool } from './utils/pool/Pool.mjs';\nexport { BigPool, PoolGroupClass } from './utils/pool/PoolGroup.mjs';\nexport { sayHello } from './utils/sayHello.mjs';\nexport { earcut } from './utils/utils.mjs';\n\n\"use strict\";\nextensions.add(browserExt, webworkerExt);\n\nexport { browserExt, extensions, webworkerExt };\n//# sourceMappingURL=index.mjs.map\n"],"mappings":";;;;;;;;;AAGA,IAAM,aAAa;CACjB,WAAW;EACT,MAAM,cAAc;EACpB,MAAM;EACN,UAAU;EACX;CACD,YAAY;CACZ,MAAM,YAAY;AAChB,QAAM,OAAO;;CAEhB;;;;ACVD,IAAM,eAAe;CACnB,WAAW;EACT,MAAM,cAAc;EACpB,MAAM;EACN,UAAU;EACX;CACD,YAAY,OAAO,SAAS,eAAe,KAAK,sBAAsB,KAAK;CAC3E,MAAM,YAAY;AAChB,QAAM,OAAO;;CAEhB;;;;ACbD,IAAI,oBAAoB;;;;ACAxB,IAAI,oBAAoB;;;;ACAxB,IAAI,gBAAgB;;;;ACUpB,IAAM,kBAAN,cAA8B,OAAO;CACnC,YAAY,SAAS;EACnB,MAAM,aAAa,QAAQ;EAC3B,MAAM,YAAY,uBAAuB;GAAE,QAAQ;GAAe,GAAG;GAAY,CAAC;EAClF,MAAM,aAAa,WAAW,KAAK;GACjC,QAAQ;IACN,QAAQ;IACR,YAAY;IACb;GACD,UAAU;IACR,QAAQ;IACR,YAAY;IACb;GACF,CAAC;EACF,MAAM,YAAY,QAAQ;EAC1B,MAAM,WAAW,uBAAuB;GAAE,QAAQ;GAAmB,GAAG;GAAW,CAAC;EACpF,MAAM,YAAY,UAAU,KAAK;GAC/B,QAAQ;GACR,UAAU;GACX,CAAC;EACF,MAAM,eAAe,IAAI,aAAa,EACpC,QAAQ;GACN,OAAO;GACP,MAAM;GACP,EACF,CAAC;AACF,QAAM;GACJ;GACA;GACA,eAAe;GACf,WAAW;IACT,eAAe;IACf,cAAc,QAAQ;IACvB;GACF,CAAC;;;AAGN,SAAS,uBAAuB,SAAS;CACvC,MAAM,EAAE,kBAAQ,WAAW,SAAS;AACpC,QAAOA,SAAO,QAAQ,eAAe,UAAU,CAAC,QAAQ,UAAU,KAAK;;;;;AChDzE,IAAM,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAd,IAAM,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,IAAM,aAAN,cAAyB,gBAAgB;CACvC,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;kBACD,MAAM;;;;;;;IAOhB,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;kBACD,OAAO;;;;;;;IAOjB,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,WAAW,YAAY;CACrB,MAAM;CACN,MAAM,cAAc;CACrB;;;;ACtCD,IAAM,iBAAN,cAA6B,gBAAgB;CAC3C,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,eAAe,YAAY;CACzB,MAAM;CACN,MAAM,cAAc;CACrB;;;;ACtDD,IAAM,kBAAN,cAA8B,gBAAgB;CAC5C,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,gBAAgB,YAAY;CAC1B,MAAM;CACN,MAAM,cAAc;CACrB;;;;ACtDD,IAAM,cAAN,cAA0B,gBAAgB;CACxC,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;IAMX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;IAMX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,YAAY,YAAY;CACtB,MAAM;CACN,MAAM,cAAc;CACrB;;;;AChCD,IAAM,kBAAN,cAA8B,gBAAgB;CAC5C,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;IAMX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;IAMX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,gBAAgB,YAAY;CAC1B,MAAM;CACN,MAAM,cAAc;CACrB;;;;AChCD,IAAM,cAAN,cAA0B,gBAAgB;CACxC,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;;;;;;;;;;;IAgBX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,YAAY,YAAY;CACtB,MAAM;CACN,MAAM,cAAc;CACrB;;;;ACrDD,IAAM,iBAAN,cAA6B,gBAAgB;CAC3C,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;;;;;;IAWX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;;;;;;IAWX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,eAAe,YAAY;CACzB,MAAM;CACN,MAAM,cAAc;CACrB;;;;AC1CD,IAAM,iBAAN,cAA6B,gBAAgB;CAC3C,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;;;;;;;;;;;IAgBX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,eAAe,YAAY;CACzB,MAAM;CACN,MAAM,cAAc;CACrB;;;;ACrDD,IAAM,eAAN,cAA2B,gBAAgB;CACzC,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;;;;;;;;;;;IAgBX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;;;;;;;;;;;IAgBX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,aAAa,YAAY;CACvB,MAAM;CACN,MAAM,cAAc;CACrB;;;;ACpDD,IAAM,eAAN,cAA2B,gBAAgB;CACzC,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;IAMX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;IAMX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,aAAa,YAAY;CACvB,MAAM;CACN,MAAM,cAAc;CACrB;;;;AChCD,IAAM,kBAAN,cAA8B,gBAAgB;CAC5C,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,gBAAgB,YAAY;CAC1B,MAAM;CACN,MAAM,cAAc;CACrB;;;;ACtDD,IAAM,mBAAN,cAA+B,gBAAgB;CAC7C,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;;;;;;;;;IAcX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,iBAAiB,YAAY;CAC3B,MAAM;CACN,MAAM,cAAc;CACrB;;;;ACnDD,IAAM,mBAAN,cAA+B,gBAAgB;CAC7C,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;;;;;;;;;;;;;;;;;;IAuBX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;IA2BX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,iBAAiB,YAAY;CAC3B,MAAM;CACN,MAAM,cAAc;CACrB;;;;ACpED,IAAM,kBAAN,cAA8B,gBAAgB;CAC5C,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;kBACD,MAAM;;;;;;;;IAQhB,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;kBACD,OAAO;;;;;;;;IAQjB,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,gBAAgB,YAAY;CAC1B,MAAM;CACN,MAAM,cAAc;CACrB;;;;ACxCD,IAAM,gBAAN,cAA4B,gBAAgB;CAC1C,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;;;;;;IAWX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;;;;;;IAWX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,cAAc,YAAY;CACxB,MAAM;CACN,MAAM,cAAc;CACrB;;;;AC1CD,IAAM,eAAN,cAA2B,gBAAgB;CACzC,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,aAAa,YAAY;CACvB,MAAM;CACN,MAAM,cAAc;CACrB;;;;ACtDD,IAAM,gBAAN,cAA4B,gBAAgB;CAC1C,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,cAAc,YAAY;CACxB,MAAM;CACN,MAAM,cAAc;CACrB;;;;ACpDD,IAAM,kBAAN,cAA8B,gBAAgB;CAC5C,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;kBACD,MAAM;;;;;;;;IAQhB,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;kBACD,OAAO;;;;;;;;IAQjB,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,gBAAgB,YAAY;CAC1B,MAAM;CACN,MAAM,cAAc;CACrB;;;;ACxCD,IAAM,iBAAN,cAA6B,gBAAgB;CAC3C,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,eAAe,YAAY;CACzB,MAAM;CACN,MAAM,cAAc;CACrB;;;;ACtDD,IAAM,gBAAN,cAA4B,gBAAgB;CAC1C,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;;;;;;;;;;;;IAiBX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,cAAc,YAAY;CACxB,MAAM;CACN,MAAM,cAAc;CACrB;;;;ACtDD,IAAM,kBAAN,cAA8B,gBAAgB;CAC5C,cAAc;AACZ,QAAM;GACJ,IAAI;IACF,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;IA2BX,MAAM;;;IAGP;GACD,KAAK;IACH,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;IA2BX,MAAM;;;IAGP;GACF,CAAC;;;;AAIN,gBAAgB,YAAY;CAC1B,MAAM;CACN,MAAM,cAAc;CACrB;;;;AC1ED,IAAI;AACJ,SAAS,iBAAiB,8BAA8B;AACtD,KAAI,sBAAsB,KAAK,EAC7B,QAAO;AACT,4BAA2B;EACzB,MAAM,iBAAiB;GACrB,SAAS;GACT,8BAA8B,gCAAgC,iBAAiB,eAAe;GAC/F;AACD,MAAI;AACF,OAAI,CAAC,WAAW,KAAK,CAAC,0BAA0B,CAC9C,QAAO;GAGT,IAAI,KADW,WAAW,KAAK,CAAC,cAAc,CAC9B,WAAW,SAAS,eAAe;GACnD,MAAM,UAAU,CAAC,CAAC,IAAI,sBAAsB,EAAE;AAC9C,OAAI,IAAI;IACN,MAAM,cAAc,GAAG,aAAa,qBAAqB;AACzD,QAAI,YACF,aAAY,aAAa;;AAG7B,QAAK;AACL,UAAO;WACA,IAAI;AACX,UAAO;;KAEP;AACJ,QAAO;;;;;AC7BT,IAAI;AACJ,eAAe,kBAAkB,UAAU,EAAE,EAAE;AAC7C,KAAI,uBAAuB,KAAK,EAC9B,QAAO;AACT,sBAAqB,OAAO,YAAY;EACtC,MAAM,MAAM,WAAW,KAAK,CAAC,cAAc,CAAC;AAC5C,MAAI,CAAC,IACH,QAAO;AAET,MAAI;AAEF,UADgB,MAAM,IAAI,eAAe,QAAQ,EACnC,eAAe;AAC7B,UAAO;WACA,IAAI;AACX,UAAO;;KAEP;AACJ,QAAO;;;;;ACfT,IAAM,iBAAiB;CAAC;CAAS;CAAU;CAAS;AACpD,eAAe,mBAAmB,SAAS;CACzC,IAAI,iBAAiB,EAAE;AACvB,KAAI,QAAQ,YAAY;AACtB,iBAAe,KAAK,QAAQ,WAAW;AACvC,iBAAe,SAAS,SAAS;AAC/B,OAAI,SAAS,QAAQ,WACnB,gBAAe,KAAK,KAAK;IAE3B;OAEF,kBAAiB,eAAe,OAAO;CAEzC,IAAI;CACJ,IAAI,eAAe,EAAE;AACrB,MAAK,IAAI,IAAI,GAAG,IAAI,eAAe,QAAQ,KAAK;EAC9C,MAAM,eAAe,eAAe;AACpC,MAAI,iBAAiB,YAAY,MAAM,mBAAmB,EAAE;GAC1D,MAAM,EAAE,qCAAmB,MAAM,OAAO;AACxC,mBAAgBC;AAChB,kBAAe;IAAE,GAAG;IAAS,GAAG,QAAQ;IAAQ;AAChD;aACS,iBAAiB,WAAW,iBACrC,QAAQ,gCAAgC,iBAAiB,eAAe,6BACzE,EAAE;GACD,MAAM,EAAE,mCAAkB,MAAM,OAAO;AACvC,mBAAgBC;AAChB,kBAAe;IAAE,GAAG;IAAS,GAAG,QAAQ;IAAO;AAC/C;aACS,iBAAiB,UAAU;AACpC,kBAAe,EAAE,GAAG,SAAS;AAC7B,SAAM,IAAI,MAAM,wCAAwC;;;AAG5D,QAAO,aAAa;AACpB,QAAO,aAAa;AACpB,KAAI,CAAC,cACH,OAAM,IAAI,MAAM,oDAAoD;CAEtE,MAAM,WAAW,IAAI,eAAe;AACpC,OAAM,SAAS,KAAK,aAAa;AACjC,QAAO;;;;;ACvCT,IAAM,eAAe,MAAMC,eAAa;CACtC,YAAY,GAAG,MAAM;;;;;;;;;;;;;;;AAenB,OAAK,QAAQ,IAAI,WAAW;AAC5B,MAAI,KAAK,OAAO,KAAK,EACnB,aAAY,QAAQ,yFAAyF;;;;;;;;;;;;;;;;;;;;;CAsBjH,MAAM,KAAK,SAAS;AAClB,YAAU,EAAE,GAAG,SAAS;AACxB,OAAK,WAAW,MAAM,mBAAmB,QAAQ;AACjD,iBAAa,SAAS,SAAS,WAAW;AACxC,UAAO,KAAK,KAAK,MAAM,QAAQ;IAC/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA4BJ,SAAS;AACP,OAAK,SAAS,OAAO,EAAE,WAAW,KAAK,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;CAoBjD,IAAI,SAAS;AACX,SAAO,KAAK,SAAS;;;;;;;;CAQvB,IAAI,OAAO;AACT,cAAY,QAAQ,yEAAyE;AAC7F,SAAO,KAAK,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;CAyBvB,IAAI,SAAS;AACX,SAAO,KAAK,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA4CvB,QAAQ,yBAAyB,OAAO,UAAU,OAAO;EACvD,MAAM,UAAUA,eAAa,SAAS,MAAM,EAAE;AAC9C,UAAQ,SAAS;AACjB,UAAQ,SAAS,WAAW;AAC1B,UAAO,QAAQ,KAAK,KAAK;IACzB;AACF,OAAK,MAAM,QAAQ,QAAQ;AAC3B,OAAK,QAAQ;AACb,OAAK,SAAS,QAAQ,uBAAuB;AAC7C,OAAK,WAAW;;;;;;;AAOpB,aAAa,WAAW,EAAE;AAC1B,IAAI,cAAc;AAClB,WAAW,aAAa,cAAc,aAAa,YAAY,SAAS;AACxE,WAAW,IAAI,oBAAoB;;;;AClMnC,IAAM,aAAN,cAAyB,mBAAmB;CAC1C,YAAY,SAAS,KAAK;AACxB,SAAO;EACP,MAAM,EAAE,UAAU,SAAS;AAC3B,SAAO,KAAK,KAAK,MAAM,CAAC,SAAS,QAAQ;GACvC,MAAM,WAAW,KAAK,MAAM,SAAS,KAAK,GAAG;GAC7C,MAAM,UAAU,SAAS,SAAS;AAClC,QAAK,MAAM,KAAK,EAAE,SAAS,CAAC;IAC5B;AACF,SAAO,KAAK,KAAK,MAAM,CAAC,SAAS,QAAQ;GACvC,MAAM,WAAW,KAAK,MAAM;GAC5B,MAAM,EACJ,OAAO,cACP,QAAQ,eACR,QAAQ,kBACN,SAAS,SAAS;GACtB,MAAM,QAAQ,QAAQ,oBACpB,UACA,cACA,eACA,IAAI,WAAW,CAChB;GACD,MAAM,UAAU,IAAI,QAAQ;IAC1B;IACA,MAAM,IAAI,UAAU,GAAG,GAAG,SAAS,OAAO,SAAS,OAAO;IAC1D,QAAQ;IACR,QAAQ;IACT,CAAC;AACF,QAAK,MAAM,OAAO;IAChB,IAAI,IAAI,YAAY,EAAE;IACtB,SAAS,SAAS;IAClB,SAAS,SAAS;IAClB,UAAU,SAAS;IACnB,SAAS,SAAS,WAAW,EAAE;IAC/B;IACD;IACD;AACF,OAAK,uBAAuB,KAAK;AACjC,OAAK,0BAA0B,KAAK;AACpC,OAAK,cAAc;GACjB,QAAQ;GACR,SAAS;GACT,UAAU,KAAK;GAChB;AACD,OAAK,iBAAiB,KAAK;AAC3B,OAAK,aAAa,KAAK;AACvB,OAAK,aAAa,KAAK;AACvB,OAAK,gBAAgB,KAAK,iBAAiB;GACzC,MAAM;GACN,OAAO;GACR;AACD,OAAK,MAAM;;;CAGb,UAAU;AACR,QAAM,SAAS;AACf,OAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,QAAQ,KAAK;GAC1C,MAAM,EAAE,YAAY,KAAK,MAAM;AAC/B,WAAQ,QAAQ,KAAK;;AAEvB,OAAK,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAqCf,OAAO,QAAQ,SAAS;AACtB,oBAAkB,QAAQ,QAAQ;;;;;;;;;;;;;;;CAepC,OAAO,UAAU,MAAM;AACrB,oBAAkB,UAAU,KAAK;;;;;;ACxHrC,IAAM,uBAAuB;CAC3B,KAAK,MAAM;AACT,SAAO,OAAO,SAAS,YAAY,KAAK,WAAW,aAAa;;CAElE,MAAM,KAAK;EACT,MAAM,QAAQ,IAAI,MAAM,kBAAkB;EAC1C,MAAM,UAAU;GACd,MAAM,EAAE;GACR,QAAQ,EAAE;GACV,MAAM,EAAE;GACR,MAAM,EAAE;GACR,OAAO,EAAE;GACT,SAAS,EAAE;GACX,UAAU,EAAE;GACZ,eAAe,EAAE;GAClB;AACD,OAAK,MAAM,KAAK,OAAO;GACrB,MAAM,OAAO,MAAM,GAAG,MAAM,YAAY,CAAC;GACzC,MAAM,gBAAgB,MAAM,GAAG,MAAM,mCAAmC;GACxE,MAAM,WAAW,EAAE;AACnB,QAAK,MAAM,MAAM,eAAe;IAC9B,MAAMC,UAAQ,cAAc,IAAI,MAAM,IAAI;IAC1C,MAAM,MAAMA,QAAM;IAClB,MAAM,WAAWA,QAAM,GAAG,QAAQ,OAAO,GAAG;IAC5C,MAAM,aAAa,WAAW,SAAS;AAEvC,aAAS,OADK,MAAM,WAAW,GAAG,WAAW;;AAG/C,WAAQ,MAAM,KAAK,SAAS;;EAE9B,MAAM,OAAO;GACX,OAAO,EAAE;GACT,OAAO,EAAE;GACT,YAAY;GACZ,UAAU;GACV,YAAY;GACZ,eAAe;GACf,gBAAgB;GACjB;EACD,MAAM,CAAC,QAAQ,QAAQ;EACvB,MAAM,CAAC,UAAU,QAAQ;EACzB,MAAM,CAAC,iBAAiB,QAAQ,iBAAiB,EAAE;AACnD,MAAI,cACF,MAAK,gBAAgB;GACnB,OAAO,SAAS,cAAc,eAAe,GAAG;GAChD,MAAM,cAAc;GACrB;AAEH,OAAK,WAAW,SAAS,KAAK,MAAM,GAAG;AACvC,OAAK,aAAa,KAAK;AACvB,OAAK,aAAa,SAAS,OAAO,YAAY,GAAG;EACjD,MAAM,OAAO,QAAQ;AACrB,OAAK,IAAI,IAAI,GAAG,IAAI,KAAK,QAAQ,IAC/B,MAAK,MAAM,KAAK;GACd,IAAI,SAAS,KAAK,GAAG,IAAI,GAAG,IAAI;GAChC,MAAM,KAAK,GAAG;GACf,CAAC;EAEJ,MAAM,MAAM,EAAE;AACd,OAAK,iBAAiB,KAAK,aAAa,SAAS,OAAO,MAAM,GAAG;EACjE,MAAM,OAAO,QAAQ;AACrB,OAAK,IAAI,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;GACpC,MAAM,WAAW,KAAK;GACtB,MAAM,KAAK,SAAS,SAAS,IAAI,GAAG;GACpC,IAAI,SAAS,SAAS,UAAU,SAAS,QAAQ,OAAO,aAAa,GAAG;AACxE,OAAI,WAAW,QACb,UAAS;AACX,OAAI,MAAM;AACV,QAAK,MAAM,UAAU;IACnB;IAEA,MAAM,SAAS,SAAS,MAAM,GAAG,IAAI;IACrC,GAAG,SAAS,SAAS,GAAG,GAAG;IAC3B,GAAG,SAAS,SAAS,GAAG,GAAG;IAC3B,OAAO,SAAS,SAAS,OAAO,GAAG;IACnC,QAAQ,SAAS,SAAS,QAAQ,GAAG;IACrC,SAAS,SAAS,SAAS,SAAS,GAAG;IACvC,SAAS,SAAS,SAAS,SAAS,GAAG;IACvC,UAAU,SAAS,SAAS,UAAU,GAAG;IACzC,SAAS,EAAE;IACZ;;EAEH,MAAM,UAAU,QAAQ,WAAW,EAAE;AACrC,OAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;GACvC,MAAM,QAAQ,SAAS,QAAQ,GAAG,OAAO,GAAG;GAC5C,MAAM,SAAS,SAAS,QAAQ,GAAG,QAAQ,GAAG;GAC9C,MAAM,SAAS,SAAS,QAAQ,GAAG,QAAQ,GAAG;AAC9C,QAAK,MAAM,IAAI,SAAS,QAAQ,IAAI,UAAU;;AAEhD,SAAO;;CAEV;;;;AC3FD,IAAM,sBAAsB;CAC1B,KAAK,MAAM;EACT,MAAM,MAAM;AACZ,SAAO,OAAO,QAAQ,YAAY,0BAA0B,OAAO,IAAI,qBAAqB,OAAO,CAAC,UAAU,IAAI,qBAAqB,OAAO,CAAC,GAAG,aAAa,OAAO,KAAK;;CAE7K,MAAM,KAAK;EACT,MAAM,OAAO;GACX,OAAO,EAAE;GACT,OAAO,EAAE;GACT,YAAY;GACZ,UAAU;GACV,YAAY;GACZ,eAAe;GACf,gBAAgB;GACjB;EACD,MAAM,OAAO,IAAI,qBAAqB,OAAO,CAAC;EAC9C,MAAM,SAAS,IAAI,qBAAqB,SAAS,CAAC;EAClD,MAAM,gBAAgB,IAAI,qBAAqB,gBAAgB,CAAC;AAChE,MAAI,cACF,MAAK,gBAAgB;GACnB,MAAM,cAAc,aAAa,YAAY;GAC7C,OAAO,SAAS,cAAc,aAAa,gBAAgB,EAAE,GAAG;GACjE;EAEH,MAAM,OAAO,IAAI,qBAAqB,OAAO;EAC7C,MAAM,OAAO,IAAI,qBAAqB,OAAO;EAC7C,MAAM,UAAU,IAAI,qBAAqB,UAAU;AACnD,OAAK,WAAW,SAAS,KAAK,aAAa,OAAO,EAAE,GAAG;AACvD,OAAK,aAAa,KAAK,aAAa,OAAO;AAC3C,OAAK,aAAa,SAAS,OAAO,aAAa,aAAa,EAAE,GAAG;AACjE,OAAK,IAAI,IAAI,GAAG,IAAI,KAAK,QAAQ,IAC/B,MAAK,MAAM,KAAK;GACd,IAAI,SAAS,KAAK,GAAG,aAAa,KAAK,EAAE,GAAG,IAAI;GAChD,MAAM,KAAK,GAAG,aAAa,OAAO;GACnC,CAAC;EAEJ,MAAM,MAAM,EAAE;AACd,OAAK,iBAAiB,KAAK,aAAa,SAAS,OAAO,aAAa,OAAO,EAAE,GAAG;AACjF,OAAK,IAAI,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;GACpC,MAAM,WAAW,KAAK;GACtB,MAAM,KAAK,SAAS,SAAS,aAAa,KAAK,EAAE,GAAG;GACpD,IAAI,SAAS,SAAS,aAAa,SAAS,IAAI,SAAS,aAAa,OAAO,IAAI,OAAO,aAAa,GAAG;AACxG,OAAI,WAAW,QACb,UAAS;AACX,OAAI,MAAM;AACV,QAAK,MAAM,UAAU;IACnB;IAEA,MAAM,SAAS,SAAS,aAAa,OAAO,EAAE,GAAG,IAAI;IACrD,GAAG,SAAS,SAAS,aAAa,IAAI,EAAE,GAAG;IAC3C,GAAG,SAAS,SAAS,aAAa,IAAI,EAAE,GAAG;IAC3C,OAAO,SAAS,SAAS,aAAa,QAAQ,EAAE,GAAG;IACnD,QAAQ,SAAS,SAAS,aAAa,SAAS,EAAE,GAAG;IAErD,SAAS,SAAS,SAAS,aAAa,UAAU,EAAE,GAAG;IACvD,SAAS,SAAS,SAAS,aAAa,UAAU,EAAE,GAAG;IAEvD,UAAU,SAAS,SAAS,aAAa,WAAW,EAAE,GAAG;IACzD,SAAS,EAAE;IACZ;;AAEH,OAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;GACvC,MAAM,QAAQ,SAAS,QAAQ,GAAG,aAAa,QAAQ,EAAE,GAAG;GAC5D,MAAM,SAAS,SAAS,QAAQ,GAAG,aAAa,SAAS,EAAE,GAAG;GAC9D,MAAM,SAAS,SAAS,QAAQ,GAAG,aAAa,SAAS,EAAE,GAAG;AAC9D,QAAK,MAAM,IAAI,SAAS,QAAQ,IAAI,UAAU;;AAEhD,SAAO;;CAEV;;;;AClED,IAAM,4BAA4B;CAChC,KAAK,MAAM;AACT,MAAI,OAAO,SAAS,YAAY,KAAK,SAAS,SAAS,CACrD,QAAO,oBAAoB,KAAK,WAAW,KAAK,CAAC,SAAS,KAAK,CAAC;AAElE,SAAO;;CAET,MAAM,MAAM;AACV,SAAO,oBAAoB,MAAM,WAAW,KAAK,CAAC,SAAS,KAAK,CAAC;;CAEpE;;;;ACJD,IAAM,kBAAkB,CAAC,QAAQ,OAAO;AACxC,IAAM,wBAAwB;CAC5B,WAAW;EACT,MAAM,cAAc;EACpB,MAAM;EACP;CACD,OAAO,UAAU,iBAAiB;CAClC,mBAAmB,MAAM,OAAO;EAC9B,MAAM,MAAM,EAAE;AACd,OAAK,SAAS,QAAQ;AACpB,OAAI,OAAO;AACX,OAAI,GAAG,IAAI,YAAY;IACvB;AACF,MAAI,GAAG,MAAM,WAAW,YAAY;AACpC,SAAO;;CAEV;AACD,IAAM,iBAAiB;CACrB,WAAW;EACT,MAAM,cAAc;EACpB,UAAU,qBAAqB;EAChC;CAED,MAAM;CACN,IAAI;CACJ,KAAK,KAAK;AACR,SAAO,gBAAgB,SAAS,KAAK,QAAQ,IAAI,CAAC,aAAa,CAAC;;CAElE,MAAM,UAAU,MAAM;AACpB,SAAO,qBAAqB,KAAK,KAAK,IAAI,0BAA0B,KAAK,KAAK;;CAEhF,MAAM,MAAM,OAAO,MAAM,QAAQ;EAC/B,MAAM,iBAAiB,qBAAqB,KAAK,MAAM,GAAG,qBAAqB,MAAM,MAAM,GAAG,0BAA0B,MAAM,MAAM;EACpI,MAAM,EAAE,QAAQ;EAChB,MAAM,EAAE,UAAU;EAClB,MAAM,cAAc,EAAE;EACtB,MAAM,iBAAiB,eAAe,gBAAgB;GACpD,WAAW;GACX,WAAW;GACX,qBAAqB;GACrB,YAAY;GACb,GAAG,EAAE;AACN,OAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,EAAE,GAAG;GACrC,MAAM,WAAW,MAAM,GAAG;GAC1B,IAAI,YAAY,KAAK,KAAK,KAAK,QAAQ,IAAI,EAAE,SAAS;AACtD,eAAY,iBAAiB,WAAW,IAAI;AAC5C,eAAY,KAAK;IACf,KAAK;IACL,MAAM;IACP,CAAC;;EAEJ,MAAM,iBAAiB,MAAM,OAAO,KAAK,YAAY;EACrD,MAAM,WAAW,YAAY,KAAK,QAAQ,eAAe,IAAI,KAAK;AAKlE,SAJmB,IAAI,WAAW;GAChC,MAAM;GACN;GACD,EAAE,IAAI;;CAGT,MAAM,KAAK,KAAK,UAAU;AAExB,SAAO,OADU,MAAM,WAAW,KAAK,CAAC,MAAM,IAAI,EAC5B,MAAM;;CAE9B,MAAM,OAAO,YAAY,gBAAgB,QAAQ;AAC/C,QAAM,QAAQ,IAAI,WAAW,MAAM,KAAK,SAAS,OAAO,OAAO,KAAK,QAAQ,OAAO,cAAc,CAAC,CAAC;AACnG,aAAW,SAAS;;CAEvB;;;;AC5ED,IAAM,mBAAN,MAAuB;;;;;CAKrB,YAAY,QAAQ,UAAU,OAAO;AACnC,OAAK,UAAU;AACf,OAAK,aAAa,EAAE;AACpB,OAAK,aAAa;AAClB,OAAK,iBAAiB;AACtB,OAAK,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;CAyBjB,IAAI,WAAW;AACb,YAAU,SAAS,MAAM;AACvB,QAAK,WAAW,KAAK,EAAE;IACvB;AACF,MAAI,KAAK,QACP,SAAQ,IAAI,+BAA+B,KAAK,WAAW;AAE7D,MAAI,KAAK,aAAa,CAAC,KAAK,WAC1B,CAAK,KAAK,OAAO;;;;;;;CAQrB,MAAM,QAAQ;AACZ,MAAI,KAAK,WAAW,UAAU,KAAK,WAAW;AAC5C,QAAK,aAAa;GAClB,MAAM,SAAS,EAAE;GACjB,MAAM,eAAe,KAAK,IAAI,KAAK,WAAW,QAAQ,KAAK,eAAe;AAC1E,QAAK,IAAI,IAAI,GAAG,IAAI,cAAc,IAChC,QAAO,KAAK,KAAK,WAAW,KAAK,CAAC;AAEpC,SAAM,KAAK,QAAQ,KAAK,OAAO;AAC/B,QAAK,aAAa;AAClB,GAAK,KAAK,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA6BrB,IAAI,SAAS;AACX,SAAO,KAAK;;CAEd,IAAI,OAAO,OAAO;AAChB,MAAI,KAAK,cAAc,MACrB;AACF,OAAK,YAAY;AACjB,MAAI,SAAS,CAAC,KAAK,WACjB,CAAK,KAAK,OAAO;;;;;;AC/FvB,IAAM,oBAAoB;CACxB,WAAW;EACT,MAAM,cAAc;EACpB,MAAM;EACP;CACD,OAAO,UAAU,MAAM,QAAQ,MAAM,IAAI,MAAM,OAAO,MAAM,aAAa,QAAQ;CACjF,qBAAqB,MAAM,UAAU;EACnC,MAAM,MAAM,EAAE;AACd,OAAK,SAAS,QAAQ;AACpB,SAAM,SAAS,MAAM,MAAM;AACzB,QAAI,OAAO,MAAM,IAAI,KAAK,IAAI,MAAM;KACpC;IACF;AACF,SAAO;;CAEV;;;;AClBD,eAAe,gBAAgB,WAAW;AACxC,KAAI,WAAW,WACb,QAAO,IAAI,SAAS,YAAY;EAC9B,MAAM,QAAQ,IAAI,OAAO;AACzB,QAAM,eAAe;AACnB,WAAQ,KAAK;;AAEf,QAAM,gBAAgB;AACpB,WAAQ,MAAM;;AAEhB,QAAM,MAAM;GACZ;AAEJ,KAAI,uBAAuB,cAAc,WAAW,YAAY;AAC9D,MAAI;GACF,MAAM,OAAO,OAAO,MAAM,MAAM,UAAU,EAAE,MAAM;AAClD,SAAM,kBAAkB,KAAK;WACtB,IAAI;AACX,UAAO;;AAET,SAAO;;AAET,QAAO;;;;;ACnBT,IAAM,aAAa;CACjB,WAAW;EACT,MAAM,cAAc;EACpB,UAAU;EACX;CACD,MAAM,YAAY,gBAEhB,0bACD;CACD,KAAK,OAAO,YAAY,CAAC,GAAG,SAAS,OAAO;CAC5C,QAAQ,OAAO,YAAY,QAAQ,QAAQ,MAAM,MAAM,OAAO;CAC/D;;;;ACZD,IAAM,eAAe;CAAC;CAAO;CAAO;CAAO;AAC3C,IAAM,iBAAiB;CACrB,WAAW;EACT,MAAM,cAAc;EACpB,UAAU;EACX;CACD,YAAY,QAAQ,QAAQ,KAAK;CACjC,KAAK,OAAO,YAAY,CAAC,GAAG,SAAS,GAAG,aAAa;CACrD,QAAQ,OAAO,YAAY,QAAQ,QAAQ,MAAM,CAAC,aAAa,SAAS,EAAE,CAAC;CAC5E;;;;ACXD,IAAM,WAAW,uBAAuB,cAAc,sBAAsB,WAAW;AACvF,SAAS,gBAAgB,UAAU;AACjC,KAAI,SACF,QAAO;AAGT,QADc,SAAS,cAAc,QAAQ,CAChC,YAAY,SAAS,KAAK;;;;;ACHzC,IAAM,YAAY;CAChB,WAAW;EACT,MAAM,cAAc;EACpB,UAAU;EACX;CACD,MAAM,YAAY,gBAAgB,YAAY;CAC9C,KAAK,OAAO,YAAY;EAAC,GAAG;EAAS;EAAO;EAAM;CAClD,QAAQ,OAAO,YAAY,QAAQ,QAAQ,MAAM,MAAM,SAAS,MAAM,MAAM;CAC7E;;;;ACRD,IAAM,YAAY;CAChB,WAAW;EACT,MAAM,cAAc;EACpB,UAAU;EACX;CACD,MAAM,YAAY,gBAAgB,YAAY;CAC9C,KAAK,OAAO,YAAY,CAAC,GAAG,SAAS,MAAM;CAC3C,QAAQ,OAAO,YAAY,QAAQ,QAAQ,MAAM,MAAM,MAAM;CAC9D;;;;ACRD,IAAM,aAAa;CACjB,WAAW;EACT,MAAM,cAAc;EACpB,UAAU;EACX;CACD,MAAM,YAAY,gBAAgB,aAAa;CAC/C,KAAK,OAAO,YAAY,CAAC,GAAG,SAAS,OAAO;CAC5C,QAAQ,OAAO,YAAY,QAAQ,QAAQ,MAAM,MAAM,OAAO;CAC/D;;;;ACRD,IAAM,aAAa;CACjB,WAAW;EACT,MAAM,cAAc;EACpB,UAAU;EACX;CACD,MAAM,YAAY,gBAChB,8EACD;CACD,KAAK,OAAO,YAAY,CAAC,GAAG,SAAS,OAAO;CAC5C,QAAQ,OAAO,YAAY,QAAQ,QAAQ,MAAM,MAAM,OAAO;CAC/D;;;;ACRD,IAAM,UAAU,MAAMC,UAAQ;CAC5B,cAAc;;;;;;;;;;;;;;;;;;AAkBZ,OAAK,cAAc,EAAE,GAAGA,UAAQ,gBAAgB;AAChD,OAAK,WAAW,EAAE;AAClB,OAAK,oBAAoB;;;;;AAKzB,OAAK,UAAU,IAAI,MAAM,KAAK,UAAU,EACtC,MAAM,QAAQ,KAAK,UAAU;AAC3B,QAAK,oBAAoB;AACzB,UAAO,OAAO;AACd,UAAO;KAEV,CAAC;;AAEF,OAAK,eAAe,EAAE;;;CAGxB,QAAQ;AACN,OAAK,oBAAoB;AACzB,OAAK,eAAe,EAAE;;;;;;;;CAQxB,yBAAyB,KAAK,MAAM;EAClC,MAAM,SAAS;GACb,SAAS;GACT,QAAQ;GACT;AACD,SAAO,WAAW,YAAY;GAC5B,IAAI,QAAQ;GACZ,IAAI,SAAS;AACb,OAAI,KAAK,UAAU,KAAK,YAAY;AAClC,aAAS,KAAK,YAAY,KAAK,UAAU,KAAK;AAC9C,QAAI,KAAK,WACP,MACE,iEAAiE,MAClE;AAEH,QAAI,CAAC,OACH,MACE,mCAAmC,KAAK,UAAU,KAAK,WAAW,4BAA4B,MAC/F;;AAGL,OAAI,CAAC,QAAQ;AACX,SAAK,IAAI,IAAI,GAAG,IAAI,KAAK,QAAQ,QAAQ,KAAK;KAC5C,MAAM,UAAU,KAAK,QAAQ;AAC7B,SAAI,QAAQ,QAAQ,QAAQ,OAAO,KAAK,MAAM,KAAK,EAAE;AACnD,eAAS;AACT;;;AAGJ,QAAI,CAAC,QAAQ;AACX,UAAK,YAAY,IAAI,iGAAiG;AACtH,YAAO;;;AAGX,WAAQ,MAAM,OAAO,KAAK,KAAK,MAAM,KAAK;AAC1C,UAAO,SAAS;AAChB,QAAK,IAAI,IAAI,GAAG,IAAI,KAAK,QAAQ,QAAQ,KAAK;IAC5C,MAAM,UAAU,KAAK,QAAQ;AAC7B,QAAI,QAAQ,OACV;SAAI,QAAQ,SAAS,MAAM,QAAQ,YAAY,OAAO,MAAM,KAAK,EAAE;AACjE,cAAQ,MAAM,QAAQ,MAAM,OAAO,MAAM,KAAK,IAAI;AAClD,aAAO,SAAS;;;;AAItB,UAAO;MACL;AACJ,SAAO;;CAET,MAAM,KAAK,gBAAgB,qBAAqB;AAC9C,MAAI,CAAC,KAAK,kBACR,MAAK,kBAAkB;EAGzB,MAAM,EAAE,YAAY,SAAS,UAAU,YAAY,eADnC,OAAO,wBAAwB,aAAa;GAAE,GAAGA,UAAQ;GAAgB,GAAG,KAAK;GAAa,YAAY;GAAqB,GAAG;GAAE,GAAGA,UAAQ;GAAgB,GAAG,KAAK;GAAa,GAAG,uBAAuB,EAAE;GAAE;EAElO,IAAI,QAAQ;EACZ,MAAM,SAAS,EAAE;EACjB,MAAM,cAAc,aAAa,eAAe;EAChD,MAAM,eAAe,cAAc,iBAAiB,UAAU;GAC5D,OAAO,CAAC,KAAK;GACb,KAAK;GACL,MAAM,EAAE;GACT,EAAE;EACH,MAAM,QAAQ,aAAa,QAAQ,KAAK,UAAU,OAAO,MAAM,gBAAgB,IAAI,EAAE;EACrF,MAAM,WAAW,aAAa,IAAI,OAAO,UAAU;GACjD,MAAM,MAAM,KAAK,WAAW,MAAM,IAAI;AACtC,OAAI,OAAO,MAAM,KACf;AACF,SAAM,KAAK,oBAAoB,KAAK,OAAO;IAAE;IAAY;IAAS;IAAU;IAAY;IAAY,EAAE,OAAO;AAC7G,YAAS,MAAM,gBAAgB;AAC/B,OAAI,WACF,YAAW,QAAQ,MAAM;IAC3B;AACF,QAAM,QAAQ,IAAI,SAAS;AAC3B,SAAO,cAAc,OAAO,aAAa,GAAG,OAAO;;;;;;;;;;;;;;CAcrD,MAAM,OAAO,kBAAkB;EAK7B,MAAM,WAJiB,cAAc,mBAAmB,UAAU;GAChE,OAAO,CAAC,KAAK;GACb,KAAK;GACN,EAAE,CAC6B,IAAI,OAAO,UAAU;GACnD,MAAM,MAAM,KAAK,WAAW,MAAM,IAAI;GACtC,MAAM,cAAc,KAAK,aAAa;AACtC,OAAI,aAAa;IACf,MAAM,cAAc,MAAM,YAAY;AACtC,WAAO,KAAK,aAAa;AACzB,UAAM,YAAY,QAAQ,SAAS,aAAa,OAAO,KAAK;;IAE9D;AACF,QAAM,QAAQ,IAAI,SAAS;;;CAG7B,mBAAmB;AACjB,OAAK,oBAAoB;AACzB,OAAK,cAAc,KAAK,SAAS,QAAQ,WAAW,OAAO,QAAQ,OAAO,GAAG,CAAC,QAAQ,MAAM,WAAW;AACrG,OAAI,CAAC,OAAO,QAAQ,CAAC,OAAO,GAC1B,MAAK,oCAAoC;YAChC,KAAK,OAAO,SAAS,KAAK,OAAO,IAC1C,MAAK,gCAAgC,OAAO,GAAG,GAAG;AAEpD,QAAK,OAAO,QAAQ;AACpB,OAAI,OAAO,GACT,MAAK,OAAO,MAAM;AACpB,UAAO;KACN,EAAE,CAAC;;CAER,MAAM,oBAAoB,KAAK,OAAO,SAAS,QAAQ;EACrD,IAAI,UAAU;EACd,MAAM,EAAE,SAAS,UAAU,YAAY,eAAe;EACtD,MAAM,QAAQ,OAAO,IAAI,SAAS,MAAM,WAAW,GAAG,GAAG,CAAC;AAC1D,SAAO,KACL,KAAI;AACF,OAAI,CAAC,KAAK,aAAa,KACrB,MAAK,aAAa,OAAO,KAAK,yBAAyB,KAAK,MAAM;AAEpE,UAAO,MAAM,OAAO,MAAM,KAAK,aAAa,KAAK;AACjD;WACO,GAAG;AACV,UAAO,KAAK,aAAa;AACzB,UAAO,OAAO,MAAM;AACpB;AAEA,OAAI,aAAa,WAAW,EADb,aAAa,WAAW,UAAU,aACZ;AACnC,QAAI,QACF,SAAQ,GAAG,MAAM;AACnB,UAAM,KAAK,WAAW;AACtB;;AAEF,OAAI,aAAa,QAAQ;AACvB,QAAI,QACF,SAAQ,GAAG,MAAM;AACnB;;AAEF,OAAI,QACF,SAAQ,GAAG,MAAM;AACnB,SAAM,IAAI,MAAM,gCAAgC,IAAI;EAC1D,IAAI;;;;;;;;;;;;;;;;AAiBN,QAAQ,iBAAiB;CACvB,YAAY,KAAK;CACjB,SAAS,KAAK;CACd,UAAU;CACV,YAAY;CACZ,YAAY;CACb;AACD,IAAI,SAAS;;;;ACjOb,SAAS,aAAa,KAAK,OAAO;AAChC,KAAI,MAAM,QAAQ,MAAM,EAAE;AACxB,OAAK,MAAM,QAAQ,MACjB,KAAI,IAAI,WAAW,QAAQ,OAAO,CAChC,QAAO;AAEX,SAAO;;AAET,QAAO,IAAI,WAAW,QAAQ,QAAQ;;;;;ACNxC,SAAS,eAAe,KAAK,WAAW;CACtC,MAAM,UAAU,IAAI,MAAM,IAAI,CAAC;CAC/B,MAAM,MAAM,KAAK,QAAQ,QAAQ,CAAC,aAAa;AAC/C,KAAI,MAAM,QAAQ,UAAU,CAC1B,QAAO,UAAU,SAAS,IAAI;AAEhC,QAAO,QAAQ;;;;;ACFjB,IAAM,qBAAqB;AAC3B,IAAM,gBAAgB;AACtB,IAAM,WAAW;CACf,WAAW;EACT,MAAM,cAAc;EACpB,UAAU,qBAAqB;EAChC;CAED,MAAM;CACN,IAAI;CACJ,KAAK,KAAK;AACR,SAAO,aAAa,KAAK,cAAc,IAAI,eAAe,KAAK,mBAAmB;;CAEpF,MAAM,KAAK,KAAK;AAGd,SADa,OADI,MAAM,WAAW,KAAK,CAAC,MAAM,IAAI,EACtB,MAAM;;CAGrC;;;;AClBD,IAAM,oBAAoB;AAC1B,IAAM,eAAe;AACrB,IAAM,UAAU;CAEd,MAAM;CACN,IAAI;CACJ,WAAW;EACT,MAAM,cAAc;EACpB,UAAU,qBAAqB;EAC/B,MAAM;EACP;CACD,KAAK,KAAK;AACR,SAAO,aAAa,KAAK,aAAa,IAAI,eAAe,KAAK,kBAAkB;;CAElF,MAAM,KAAK,KAAK;AAGd,SADY,OADK,MAAM,WAAW,KAAK,CAAC,MAAM,IAAI,EACvB,MAAM;;CAGpC;;;;AChBD,IAAM,eAAe;CACnB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACD;AACD,IAAM,sBAAsB;CAAC;CAAQ;CAAQ;CAAS;CAAS;AAC/D,IAAM,iBAAiB;CACrB;CACA;CACA;CACA;CACD;AACD,IAAM,wBAAwB;AAC9B,SAAS,kBAAkB,KAAK;CAC9B,MAAM,MAAM,KAAK,QAAQ,IAAI;CAG7B,MAAM,aAFO,KAAK,SAAS,KAAK,IAAI,CACR,QAAQ,UAAU,IAAI,CAChB,aAAa,CAAC,MAAM,IAAI,CAAC,KAAK,SAAS,KAAK,OAAO,EAAE,CAAC,aAAa,GAAG,KAAK,MAAM,EAAE,CAAC;CACtH,IAAI,QAAQ,WAAW,SAAS;AAChC,MAAK,MAAM,SAAS,WAClB,KAAI,CAAC,MAAM,MAAM,sBAAsB,EAAE;AACvC,UAAQ;AACR;;CAGJ,IAAI,iBAAiB,WAAW,KAAK,IAAI;AACzC,KAAI,CAAC,MACH,kBAAiB,IAAI,eAAe,QAAQ,UAAU,OAAO,CAAC;AAEhE,QAAO;;AAET,IAAM,0BAA0B;AAChC,SAAS,oBAAoB,KAAK;AAChC,KAAI,wBAAwB,KAAK,IAAI,CACnC,QAAO;AAET,QAAO,UAAU,IAAI;;AAEvB,IAAM,cAAc;CAClB,WAAW;EACT,MAAM,cAAc;EACpB,UAAU,qBAAqB;EAChC;CAED,MAAM;CACN,IAAI;CACJ,KAAK,KAAK;AACR,SAAO,aAAa,KAAK,eAAe,IAAI,eAAe,KAAK,oBAAoB;;CAEtF,MAAM,KAAK,KAAK,SAAS;EACvB,MAAM,QAAQ,WAAW,KAAK,CAAC,gBAAgB;AAC/C,MAAI,OAAO;GACT,MAAM,YAAY,EAAE;GACpB,MAAM,OAAO,QAAQ,MAAM,UAAU,kBAAkB,IAAI;GAC3D,MAAM,UAAU,QAAQ,MAAM,SAAS,QAAQ,WAAW,aAAa,SAAS,OAAO,CAAC,IAAI,CAAC,SAAS;GACtG,MAAM,OAAO,QAAQ,QAAQ,EAAE;AAC/B,QAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;IACvC,MAAM,SAAS,QAAQ;IACvB,MAAM,OAAO,IAAI,SAAS,MAAM,OAAO,oBAAoB,IAAI,CAAC,IAAI;KAClE,GAAG;KACH;KACD,CAAC;AACF,UAAM,KAAK,MAAM;AACjB,UAAM,IAAI,KAAK;AACf,cAAU,KAAK,KAAK;;AAEtB,OAAI,MAAM,IAAI,GAAG,KAAK,UAAU,CAE9B,CADe,MAAM,IAAI,GAAG,KAAK,UAAU,CACpC,QAAQ,KAAK;IAAE;IAAK,OAAO;IAAW,CAAC;OAE9C,OAAM,IAAI,GAAG,KAAK,WAAW,EAC3B,SAAS,CAAC;IAAE;IAAK,OAAO;IAAW,CAAC,EACrC,CAAC;AAEJ,UAAO,UAAU,WAAW,IAAI,UAAU,KAAK;;AAEjD,OAAK,qEAAqE;AAC1E,SAAO;;CAET,OAAO,MAAM;EACX,MAAM,QAAQ,MAAM,QAAQ,KAAK,GAAG,OAAO,CAAC,KAAK;EACjD,MAAM,aAAa,MAAM,GAAG;EAC5B,MAAM,SAAS,MAAM,IAAI,GAAG,WAAW,UAAU;EACjD,MAAM,QAAQ,OAAO,QAAQ,MAAM,MAAM,EAAE,MAAM,MAAM,MAAM,MAAM,QAAQ,EAAE,KAAK,GAAG,CAAC;AACtF,QAAM,QAAQ,MAAM,MAAM,QAAQ,MAAM,MAAM,QAAQ,EAAE,KAAK,GAAG;AAChE,MAAI,MAAM,MAAM,WAAW,EACzB,QAAO,UAAU,OAAO,QAAQ,QAAQ,MAAM,MAAM,MAAM;AAE5D,QAAM,SAAS,MAAM;AACnB,cAAW,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE;IAC3C;AACF,MAAI,OAAO,QAAQ,WAAW,EAC5B,OAAM,OAAO,GAAG,WAAW,UAAU;;CAG1C;;;;AC9GD,SAAS,mBAAmB,KAAK,iBAAe,GAAG;CACjD,MAAM,aAAa,SAAS,eAAe,KAAK,IAAI;AACpD,KAAI,WACF,QAAO,WAAW,WAAW,GAAG;AAElC,QAAOC;;;;;ACHT,SAAS,cAAc,UAAQ,QAAQ,KAAK;AAC1C,UAAO,QAAQ;AACf,UAAO,gBAAgB;CACvB,MAAM,UAAU,IAAI,QAAQ;EAC1B;EACA,OAAO;EACR,CAAC;CACF,MAAM,eAAe;AACnB,SAAO,OAAO,aAAa;AAC3B,MAAI,MAAM,IAAI,IAAI,CAChB,OAAM,OAAO,IAAI;;AAGrB,SAAQ,OAAO,KAAK,iBAAiB;AACnC,MAAI,OAAO,aAAa,MAAM;AAC5B,QAAK,6IAA6I;AAClJ,WAAQ;;GAEV;AACF,SAAQ,KAAK,iBAAiB;AAC5B,MAAI,CAACC,SAAO,WAAW;AACrB,QAAK,iIAAiI;AACtI,WAAQ;;GAEV;AACF,QAAO;;;;;ACnBT,IAAM,oBAAoB;AAC1B,IAAM,eAAe;AACrB,IAAM,UAAU;CACd,WAAW;EACT,MAAM,cAAc;EACpB,UAAU,qBAAqB;EAC/B,MAAM;EACP;CAED,MAAM;CACN,IAAI;CACJ,QAAQ;EACN,aAAa;EACb,wBAAwB;EACzB;CACD,KAAK,KAAK;AACR,SAAO,aAAa,KAAK,aAAa,IAAI,eAAe,KAAK,kBAAkB;;CAElF,MAAM,KAAK,KAAK,OAAO,QAAQ;AAC7B,MAAI,MAAM,MAAM,0BAA0B,KAAK,OAAO,uBACpD,QAAO,eAAe,IAAI;AAE5B,SAAO,cAAc,KAAK,OAAO,QAAQ,KAAK,OAAO,YAAY;;CAEnE,OAAO,OAAO;AACZ,QAAM,QAAQ,KAAK;;CAEtB;AACD,eAAe,cAAc,KAAK,OAAO,QAAQ,eAAa;CAC5D,MAAM,WAAW,MAAM,WAAW,KAAK,CAAC,MAAM,IAAI;CAClD,MAAM,QAAQ,WAAW,KAAK,CAAC,aAAa;AAC5C,OAAM,MAAM,oCAAoC,mBAAmB,MAAM,SAAS,MAAM,CAAC;AACzF,OAAM,cAAcC;AACpB,OAAM,MAAM,QAAQ;CACpB,MAAM,QAAQ,MAAM,MAAM,SAAS,MAAM;CACzC,MAAM,SAAS,MAAM,MAAM,UAAU,MAAM;CAC3C,MAAM,aAAa,MAAM,MAAM,cAAc,mBAAmB,IAAI;CACpE,MAAM,cAAc,KAAK,KAAK,QAAQ,WAAW;CACjD,MAAM,eAAe,KAAK,KAAK,SAAS,WAAW;CACnD,MAAM,SAAS,WAAW,KAAK,CAAC,aAAa,aAAa,aAAa;CACvE,MAAM,UAAU,OAAO,WAAW,KAAK;AACvC,SAAQ,wBAAwB;AAChC,SAAQ,wBAAwB;AAChC,SAAQ,UAAU,OAAO,GAAG,GAAG,QAAQ,YAAY,SAAS,WAAW;CACvE,MAAM,EAAE,wBAAwB,GAAI,GAAG,SAAS,MAAM,QAAQ,EAAE;CAChE,MAAM,OAAO,IAAI,YAAY;EAC3B,UAAU;EACV,WAAW;EACX;EACA,GAAG;EACJ,CAAC;AACF,QAAO,cAAc,MAAM,QAAQ,IAAI;;AAEzC,eAAe,eAAe,KAAK;CAEjC,MAAM,YAAY,OADD,MAAM,WAAW,KAAK,CAAC,MAAM,IAAI,EACjB,MAAM;CACvC,MAAM,UAAU,IAAI,iBAAiB;AACrC,SAAQ,IAAI,UAAU;AACtB,QAAO;;;;;ACrET,IAAMC,gBAAc;AACpB,IAAIC,eAAa;AACjB,IAAMC,mBAAN,MACA;CACI,cACA;AACI,MAAI,CAACD,aAED,gBAAa,IAAI,gBAAgB,IAAI,KAAK,CAACD,cAAY,EAAE,EAAE,MAAM,0BAA0B,CAAC,CAAC;AAEjG,OAAK,SAAS,IAAI,OAAOC,aAAW;;;AAG5C,iBAAe,kBAAkB,SAAS,kBAC1C;AACI,KAAIA,cACJ;AACI,MAAI,gBAAgBA,aAAW;AAC/B,iBAAa;;;;;;AClBrB,IAAME,gBAAc;AACpB,IAAIC,eAAa;AACjB,IAAMC,mBAAN,MACA;CACI,cACA;AACI,MAAI,CAACD,aAED,gBAAa,IAAI,gBAAgB,IAAI,KAAK,CAACD,cAAY,EAAE,EAAE,MAAM,0BAA0B,CAAC,CAAC;AAEjG,OAAK,SAAS,IAAI,OAAOC,aAAW;;;AAG5C,iBAAe,kBAAkB,SAAS,kBAC1C;AACI,KAAIA,cACJ;AACI,MAAI,gBAAgBA,aAAW;AAC/B,iBAAa;;;;;;ACdrB,IAAI,OAAO;AACX,IAAI;AACJ,IAAM,qBAAN,MAAyB;CACvB,cAAc;;AAEZ,OAAK,eAAe;;AAEpB,OAAK,kBAAkB;AACvB,OAAK,cAAc,EAAE;AACrB,OAAK,SAAS,EAAE;AAChB,OAAK,eAAe,EAAE;;;;;;;;;CASxB,yBAAyB;AACvB,MAAI,KAAK,4BAA4B,KAAK,EACxC,QAAO,KAAK;AACd,OAAK,0BAA0B,IAAI,SAAS,YAAY;GACtD,MAAM,EAAE,WAAW,IAAIE,kBAAgB;AACvC,UAAO,iBAAiB,YAAY,UAAU;AAC5C,WAAO,WAAW;AAClB,qBAAe,iBAAiB;AAChC,YAAQ,MAAM,KAAK;KACnB;IACF;AACF,SAAO,KAAK;;;;;;;;;;;;;CAad,gBAAgB,KAAK,OAAO;AAC1B,SAAO,KAAK,KAAK,mBAAmB,CAAC,KAAK,OAAO,MAAM,UAAU,CAAC;;;;;;CAMpE,MAAM,eAAe;AACnB,MAAI,KAAK,aACP;AACF,OAAK,eAAe;;;;;;;;;CAStB,aAAa;AACX,MAAI,gBAAgB,KAAK,EACvB,eAAc,UAAU,uBAAuB;EAEjD,IAAI,SAAS,KAAK,YAAY,KAAK;AACnC,MAAI,CAAC,UAAU,KAAK,kBAAkB,aAAa;AACjD,QAAK;AACL,YAAS,IAAIC,kBAAkB,CAAC;AAChC,UAAO,iBAAiB,YAAY,UAAU;AAC5C,SAAK,UAAU,MAAM,KAAK;AAC1B,SAAK,cAAc,MAAM,OAAO;AAChC,SAAK,OAAO;KACZ;;AAEJ,SAAO;;;;;;CAMT,cAAc,QAAQ;AACpB,OAAK,YAAY,KAAK,OAAO;;;;;;CAM/B,UAAU,MAAM;AACd,MAAI,KAAK,UAAU,KAAK,EACtB,MAAK,aAAa,KAAK,MAAM,OAAO,KAAK,MAAM;MAE/C,MAAK,aAAa,KAAK,MAAM,QAAQ,KAAK,KAAK;AAEjD,OAAK,aAAa,KAAK,QAAQ;;;;;;;;;;CAUjC,MAAM,KAAK,IAAI,MAAM;AACnB,QAAM,KAAK,cAAc;EACzB,MAAM,UAAU,IAAI,SAAS,SAAS,WAAW;AAC/C,QAAK,OAAO,KAAK;IAAE;IAAI,WAAW;IAAM;IAAS;IAAQ,CAAC;IAC1D;AACF,OAAK,OAAO;AACZ,SAAO;;;;;;;;CAQT,QAAQ;AACN,MAAI,CAAC,KAAK,OAAO,OACf;EACF,MAAM,SAAS,KAAK,YAAY;AAChC,MAAI,CAAC,OACH;EAEF,MAAM,OAAO,KAAK,OAAO,KAAK;EAC9B,MAAM,KAAK,KAAK;AAChB,OAAK,aAAa,QAAQ;GAAE,SAAS,KAAK;GAAS,QAAQ,KAAK;GAAQ;AACxE,SAAO,YAAY;GACjB,MAAM,KAAK;GACX,MAAM;GACN;GACD,CAAC;;;;;;;;;;;;;;;;;;;CAmBJ,QAAQ;AACN,OAAK,YAAY,SAAS,WAAW,OAAO,WAAW,CAAC;AACxD,OAAK,YAAY,SAAS;AAC1B,SAAO,OAAO,KAAK,aAAa,CAAC,SAAS,EAAE,aAAa;AACvD,4BAAS,IAAI,MAAM,0BAA0B,CAAC;IAC9C;AACF,OAAK,eAAe,EAAE;AACtB,OAAK,OAAO,SAAS;AACrB,OAAK,eAAe;AACpB,OAAK,kBAAkB;;;AAG3B,IAAM,gBAAgB,IAAI,oBAAoB;;;;AC7J9C,IAAM,uBAAuB;CAAC;CAAS;CAAQ;CAAQ;CAAS;CAAQ;AACxE,IAAM,kBAAkB;CACtB;CACA;CACA;CACA;CACD;AACD,eAAe,gBAAgB,KAAK,OAAO;CACzC,MAAM,WAAW,MAAM,WAAW,KAAK,CAAC,MAAM,IAAI;AAClD,KAAI,CAAC,SAAS,GACZ,OAAM,IAAI,MAAM,qCAAqC,IAAI,IAAI,SAAS,OAAO,GAAG,SAAS,aAAa;CAExG,MAAM,YAAY,MAAM,SAAS,MAAM;AACvC,QAAO,OAAO,MAAM,cAAc,wBAAwB,kBAAkB,WAAW,EAAE,kBAAkB,QAAQ,CAAC,GAAG,kBAAkB,UAAU;;AAErJ,IAAM,eAAe;CAEnB,MAAM;CACN,IAAI;CACJ,WAAW;EACT,MAAM,cAAc;EACpB,UAAU,qBAAqB;EAC/B,MAAM;EACP;CACD,QAAQ;EACN,eAAe;EACf,yBAAyB;EACzB,aAAa;EACd;CACD,KAAK,KAAK;AACR,SAAO,aAAa,KAAK,gBAAgB,IAAI,eAAe,KAAK,qBAAqB;;CAExF,MAAM,KAAK,KAAK,OAAO,QAAQ;EAC7B,IAAI,MAAM;AACV,MAAI,WAAW,qBAAqB,KAAK,OAAO,wBAC9C,KAAI,KAAK,OAAO,iBAAiB,MAAM,cAAc,wBAAwB,CAC3E,OAAM,MAAM,cAAc,gBAAgB,KAAK,MAAM;MAErD,OAAM,MAAM,gBAAgB,KAAK,MAAM;MAGzC,OAAM,MAAM,IAAI,SAAS,SAAS,WAAW;AAC3C,SAAM,WAAW,KAAK,CAAC,aAAa;AACpC,OAAI,cAAc,KAAK,OAAO;AAC9B,OAAI,MAAM;AACV,OAAI,IAAI,SACN,SAAQ,IAAI;QACP;AACL,QAAI,eAAe;AACjB,aAAQ,IAAI;;AAEd,QAAI,UAAU;;IAEhB;EAEJ,MAAM,OAAO,IAAI,YAAY;GAC3B,UAAU;GACV,WAAW;GACX,YAAY,MAAM,MAAM,cAAc,mBAAmB,IAAI;GAC7D,GAAG,MAAM;GACV,CAAC;AACF,SAAO,cAAc,MAAM,QAAQ,IAAI;;CAEzC,OAAO,SAAS;AACd,UAAQ,QAAQ,KAAK;;CAExB;;;;ACnED,IAAM,2BAA2B;CAAC;CAAQ;CAAQ;CAAS;CAAQ;CAAQ;CAAS;CAAQ;CAAO;AACnG,IAAI;AACJ,IAAI;AACJ,SAAS,YAAY,SAAS,KAAK,aAAa;AAC9C,KAAI,gBAAgB,KAAK,KAAK,CAAC,IAAI,WAAW,QAAQ,CACpD,SAAQ,cAAc,qBAAqB,IAAI;UACtC,gBAAgB,MACzB,SAAQ,cAAc,OAAO,gBAAgB,WAAW,cAAc;;AAG1E,SAAS,aAAa,SAAS;AAC7B,QAAO,IAAI,SAAS,SAAS,WAAW;AACtC,UAAQ,iBAAiB,kBAAkB,OAAO;AAClD,UAAQ,iBAAiB,SAAS,MAAM;AACxC,UAAQ,MAAM;EACd,SAAS,SAAS;AAChB,YAAS;AACT,YAAS;;EAEX,SAAS,MAAM,KAAK;AAClB,YAAS;AACT,UAAO,IAAI;;EAEb,SAAS,UAAU;AACjB,WAAQ,oBAAoB,kBAAkB,OAAO;AACrD,WAAQ,oBAAoB,SAAS,MAAM;;GAE7C;;AAEJ,SAAS,qBAAqB,KAAK,MAAM,WAAW,UAAU;AAC5D,KAAI,IAAI,WAAW,QAAQ,CACzB,QAAO;AAET,SAAQ,MAAM,WAAW;CACzB,MAAM,YAAY,IAAI,IAAI,KAAK,SAAS,QAAQ;AAChD,KAAI,UAAU,aAAa,IAAI,YAAY,UAAU,SAAS,IAAI,QAAQ,UAAU,aAAa,IAAI,SACnG,QAAO;AAET,QAAO;;AAET,SAAS,qCAAqC;CAC5C,MAAM,sBAAsB,EAAE;CAC9B,MAAM,iBAAiB,EAAE;AACzB,MAAK,MAAM,OAAO,0BAA0B;EAC1C,MAAM,WAAW,YAAY,WAAW,IAAI,UAAU,EAAE,KAAK,SAAS,IAAI,UAAU,EAAE;AACtF,MAAI,gBAAgB,SAAS,EAAE;AAC7B,uBAAoB,KAAK,IAAI;AAC7B,OAAI,CAAC,eAAe,SAAS,SAAS,CACpC,gBAAe,KAAK,SAAS;;;AAInC,QAAO;EACL,sBAAsB;EACtB,gBAAgB;EACjB;;AAEH,IAAM,oBAAoB;CAExB,MAAM;CACN,IAAI;CACJ,WAAW;EACT,MAAM,cAAc;EACpB,MAAM;EACP;CACD,KAAK,KAAK;AACR,MAAI,CAAC,wBAAwB,CAAC,iBAAiB;GAC7C,MAAM,EAAE,sBAAsB,IAAI,gBAAgB,OAAO,oCAAoC;AAC7F,0BAAuB;AACvB,qBAAkB;;EAEpB,MAAM,iBAAiB,aAAa,KAAK,gBAAgB;EACzD,MAAM,mBAAmB,eAAe,KAAK,qBAAqB;AAClE,SAAO,kBAAkB;;CAE3B,MAAM,KAAK,KAAK,OAAO,QAAQ;EAC7B,MAAM,UAAU;GACd,GAAG,YAAY;GACf,YAAY,MAAM,MAAM,cAAc,mBAAmB,IAAI;GAC7D,WAAW,MAAM,MAAM,aAAa,MAAM,sBAAsB;GAChE,GAAG,MAAM;GACV;EACD,MAAM,eAAe,SAAS,cAAc,QAAQ;EACpD,MAAM,eAAe;GACnB,SAAS,QAAQ,aAAa,QAAQ,SAAS,KAAK;GACpD,sBAAsB,QAAQ,gBAAgB,QAAQ,KAAK,KAAK;GAChE,aAAa,QAAQ,gBAAgB,QAAQ,KAAK,KAAK;GACvD,OAAO,QAAQ,UAAU,OAAO,KAAK,KAAK;GAC1C,MAAM,QAAQ,SAAS,OAAO,KAAK,KAAK;GACxC,UAAU,QAAQ,aAAa,QAAQ,KAAK,KAAK;GAClD;AACD,SAAO,KAAK,aAAa,CAAC,SAAS,QAAQ;GACzC,MAAM,QAAQ,aAAa;AAC3B,OAAI,UAAU,KAAK,EACjB,cAAa,aAAa,KAAK,MAAM;IACvC;AACF,MAAI,QAAQ,UAAU,KACpB,cAAa,QAAQ;AAEvB,cAAY,cAAc,KAAK,QAAQ,YAAY;EACnD,MAAM,gBAAgB,SAAS,cAAc,SAAS;EACtD,IAAI;AACJ,MAAI,QAAQ,KACV,QAAO,QAAQ;WACN,IAAI,WAAW,QAAQ,CAChC,QAAO,IAAI,MAAM,GAAG,IAAI,QAAQ,IAAI,CAAC;WAC5B,CAAC,IAAI,WAAW,QAAQ,EAAE;GACnC,MAAM,MAAM,IAAI,MAAM,IAAI,CAAC,GAAG,MAAM,IAAI,YAAY,IAAI,GAAG,EAAE,CAAC,aAAa;AAC3E,UAAO,YAAY,WAAW,QAAQ,SAAS;;AAEjD,gBAAc,MAAM;AACpB,MAAI,KACF,eAAc,OAAO;AAEvB,SAAO,IAAI,SAAS,YAAY;GAC9B,MAAM,YAAY,YAAY;IAC5B,MAAM,OAAO,IAAI,YAAY;KAAE,GAAG;KAAS,UAAU;KAAc,CAAC;AACpE,iBAAa,oBAAoB,WAAW,UAAU;AACtD,QAAI,MAAM,KAAK,QACb,OAAM,aAAa,aAAa;AAElC,YAAQ,cAAc,MAAM,QAAQ,IAAI,CAAC;;AAE3C,OAAI,QAAQ,WAAW,CAAC,QAAQ,SAC9B,cAAa,MAAM;AAErB,gBAAa,iBAAiB,WAAW,UAAU;AACnD,gBAAa,YAAY,cAAc;IACvC;;CAEJ,OAAO,SAAS;AACd,UAAQ,QAAQ,KAAK;;CAExB;;;;AC1ID,IAAM,oBAAoB;CACxB,WAAW;EACT,MAAM,cAAc;EACpB,MAAM;EACP;CACD,MAAM,aAAa;CACnB,QAAQ,WAAW;EACjB,YAAY,WAAW,SAAS,cAAc,KAAK,MAAM,GAAG,MAAM,IAAI;EACtE,QAAQ,MAAM,MAAM,IAAI,CAAC,KAAK;EAC9B,KAAK;EACN;CACF;;;;ACXD,IAAM,iBAAiB;CACrB,WAAW;EACT,MAAM,cAAc;EACpB,UAAU;EACV,MAAM;EACP;CACD,OAAO,UAAU,SAAS,cAAc,KAAK,MAAM,IAAI,MAAM,SAAS,QAAQ;CAC9E,OAAO,kBAAkB;CAC1B;;;;ACaD,IAAM,cAAN,MAAkB;CAChB,cAAc;AACZ,OAAK,cAAc,EAAE;AACrB,OAAK,eAAe;AACpB,OAAK,WAAW,IAAI,UAAU;AAC9B,OAAK,SAAS,IAAI,QAAQ;AAC1B,OAAK,QAAQ;AACb,OAAK,oBAAoB,IAAI,iBAAiB,KAAK,OAAO;AAC1D,OAAK,kBAAkB,SAAS;AAChC,OAAK,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAwDd,MAAM,KAAK,UAAU,EAAE,EAAE;AACvB,MAAI,KAAK,cAAc;AACrB,QAAK,4FAA4F;AACjG;;AAEF,OAAK,eAAe;AACpB,MAAI,QAAQ,oBACV,MAAK,SAAS,uBAAuB,QAAQ,oBAAoB;AAEnE,MAAI,QAAQ,SACV,MAAK,SAAS,WAAW,QAAQ;AAEnC,MAAI,QAAQ,iBACV,MAAK,SAAS,oBAAoB,QAAQ,iBAAiB;AAE7D,MAAI,QAAQ,UAAU;GACpB,IAAI,WAAW,QAAQ;AACvB,OAAI,OAAO,aAAa,SACtB,YAAW,MAAM,KAAK,KAAK,SAAS;AAEtC,QAAK,SAAS,YAAY,SAAS;;EAErC,MAAM,iBAAiB,QAAQ,mBAAmB,cAAc;EAChE,MAAM,aAAa,OAAO,mBAAmB,WAAW,CAAC,eAAe,GAAG;EAC3E,MAAM,UAAU,MAAM,KAAK,eAAe;GACxC,kBAAkB,QAAQ,mBAAmB;GAC7C,gBAAgB,QAAQ;GACxB,YAAY,KAAK;GAClB,CAAC;AACF,OAAK,SAAS,OAAO,EACnB,QAAQ;GACN,QAAQ;GACR;GACD,EACF,CAAC;AACF,MAAI,QAAQ,YACV,MAAK,eAAe,QAAQ,YAAY;AAE1C,MAAI,QAAQ,YACV,MAAK,OAAO,cAAc;GACxB,GAAG,KAAK,OAAO;GACf,GAAG,QAAQ;GACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAyDL,IAAI,QAAQ;AACV,OAAK,SAAS,IAAI,OAAO;;CAE3B,MAAM,KAAK,MAAM,YAAY;AAC3B,MAAI,CAAC,KAAK,aACR,OAAM,KAAK,MAAM;EAEnB,MAAM,cAAc,aAAa,KAAK;EACtC,MAAM,WAAW,cAAc,KAAK,CAAC,KAAK,QAAQ;AAChD,OAAI,OAAO,QAAQ,UAAU;IAC3B,MAAM,UAAU,KAAK,SAAS,SAAS,IAAI;AAC3C,QAAI,QAAQ,MAAM,UAAU,CAAC,KAAK,SAAS,OAAO,MAAM,CAAC,CACvD,MAAK,IAAI,IAAI;AAEf,WAAO,MAAM,QAAQ,QAAQ,GAAG,QAAQ,KAAK;;AAE/C,OAAI,CAAC,KAAK,SAAS,OAAO,IAAI,CAC5B,MAAK,IAAI;IAAE,OAAO;IAAK,KAAK;IAAK,CAAC;AACpC,UAAO;IACP;EACF,MAAM,iBAAiB,KAAK,SAAS,QAAQ,SAAS;EACtD,MAAM,MAAM,MAAM,KAAK,kBAAkB,gBAAgB,WAAW;AACpE,SAAO,cAAc,IAAI,SAAS,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAsD1C,UAAU,UAAU,QAAQ;AAC1B,OAAK,SAAS,UAAU,UAAU,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA2E3C,MAAM,WAAW,WAAW,YAAY;AACtC,MAAI,CAAC,KAAK,aACR,OAAM,KAAK,MAAM;EAEnB,IAAI,cAAc;AAClB,MAAI,OAAO,cAAc,UAAU;AACjC,iBAAc;AACd,eAAY,CAAC,UAAU;;EAEzB,MAAM,iBAAiB,KAAK,SAAS,cAAc,UAAU;EAC7D,MAAM,MAAM,EAAE;EACd,MAAM,OAAO,OAAO,KAAK,eAAe;EACxC,IAAI,QAAQ;EACZ,MAAM,SAAS,EAAE;EACjB,MAAM,oBAAoB;AACxB,gBAAa,OAAO,QAAQ,GAAG,MAAM,IAAI,GAAG,EAAE,GAAG,MAAM;;EAEzD,MAAM,WAAW,KAAK,KAAK,UAAU,MAAM;GACzC,MAAM,gBAAgB,eAAe;GACrC,MAAM,SAAS,OAAO,OAAO,cAAc;GAE3C,MAAM,eADoB,CAAC,GAAG,IAAI,IAAI,OAAO,MAAM,CAAC,CAAC,CACd,QAAQ,KAAK,UAAU,OAAO,MAAM,gBAAgB,IAAI,EAAE;AACjG,UAAO,KAAK,EAAE;AACd,YAAS;AACT,UAAO,KAAK,kBAAkB,gBAAgB,MAAM;AAClD,WAAO,KAAK,IAAI;AAChB,iBAAa;KACb,CAAC,MAAM,mBAAmB;AAC1B,QAAI,YAAY;KAChB;IACF;AACF,QAAM,QAAQ,IAAI,SAAS;AAC3B,SAAO,cAAc,IAAI,UAAU,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAmC3C,MAAM,eAAe,MAAM;AACzB,MAAI,CAAC,KAAK,aACR,OAAM,KAAK,MAAM;AAEnB,MAAI,OAAO,SAAS,SAClB,QAAO,CAAC,KAAK;EAEf,MAAM,iBAAiB,KAAK,SAAS,QAAQ,KAAK;AAClD,OAAK,kBAAkB,IAAI,OAAO,OAAO,eAAe,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAmE3D,MAAM,qBAAqB,WAAW;AACpC,MAAI,CAAC,KAAK,aACR,OAAM,KAAK,MAAM;AAEnB,MAAI,OAAO,cAAc,SACvB,aAAY,CAAC,UAAU;EAEzB,MAAM,iBAAiB,KAAK,SAAS,cAAc,UAAU;AAC7D,SAAO,OAAO,eAAe,CAAC,SAAS,kBAAkB;AACvD,QAAK,kBAAkB,IAAI,OAAO,OAAO,cAAc,CAAC;IACxD;;;;;;;;CAQJ,QAAQ;AACN,OAAK,SAAS,OAAO;AACrB,OAAK,OAAO,OAAO;AACnB,OAAK,MAAM,OAAO;AAClB,OAAK,eAAe;;CAEtB,IAAI,MAAM;AACR,MAAI,OAAO,SAAS,SAClB,QAAO,MAAM,IAAI,KAAK;EAExB,MAAM,SAAS,EAAE;AACjB,OAAK,IAAI,IAAI,GAAG,IAAI,KAAK,QAAQ,IAC/B,QAAO,KAAK,MAAM,IAAI,KAAK,GAAG;AAEhC,SAAO;;;;;;;CAOT,MAAM,kBAAkB,gBAAgB,uBAAuB;EAC7D,MAAM,eAAe,CAAC,GAAG,IAAI,IAAI,OAAO,OAAO,eAAe,CAAC,CAAC;AAChE,OAAK,kBAAkB,SAAS;EAChC,MAAM,eAAe,MAAM,KAAK,OAAO,KAAK,cAAc,sBAAsB;AAChF,OAAK,kBAAkB,SAAS;EAChC,MAAM,MAAM,EAAE;AACd,eAAa,SAAS,kBAAkB;GACtC,MAAM,QAAQ,aAAa,cAAc;GACzC,MAAM,OAAO,CAAC,cAAc,IAAI;AAChC,OAAI,cAAc,MAChB,MAAK,KAAK,GAAG,cAAc,MAAM;AAEnC,QAAK,SAAS,QAAQ;AACpB,QAAI,OAAO;KACX;AACF,SAAM,IAAI,MAAM,MAAM;IACtB;AACF,SAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAiCT,MAAM,OAAO,MAAM;AACjB,MAAI,CAAC,KAAK,aACR,OAAM,KAAK,MAAM;EAEnB,MAAM,WAAW,cAAc,KAAK,CAAC,KAAK,QAAQ,OAAO,QAAQ,WAAW,IAAI,MAAM,IAAI;EAC1F,MAAM,iBAAiB,KAAK,SAAS,QAAQ,SAAS;AACtD,QAAM,KAAK,oBAAoB,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAyChD,MAAM,aAAa,WAAW;AAC5B,MAAI,CAAC,KAAK,aACR,OAAM,KAAK,MAAM;AAEnB,cAAY,cAAc,UAAU;EACpC,MAAM,iBAAiB,KAAK,SAAS,cAAc,UAAU;EAC7D,MAAM,WAAW,OAAO,KAAK,eAAe,CAAC,KAAK,aAAa,KAAK,oBAAoB,eAAe,UAAU,CAAC;AAClH,QAAM,QAAQ,IAAI,SAAS;;CAE7B,MAAM,oBAAoB,eAAe;EACvC,MAAM,eAAe,OAAO,OAAO,cAAc;AACjD,eAAa,SAAS,mBAAmB;AACvC,SAAM,OAAO,eAAe,IAAI;IAChC;AACF,QAAM,KAAK,OAAO,OAAO,aAAa;;;;;;;;;;;CAWxC,MAAM,eAAe,SAAS;EAC5B,IAAI,UAAU,EAAE;AAChB,MAAI,QAAQ,iBACV,WAAU,MAAM,QAAQ,QAAQ,iBAAiB,GAAG,QAAQ,mBAAmB,CAAC,QAAQ,iBAAiB;AAE3G,OAAK,MAAM,aAAa,QAAQ,WAC9B,KAAI,QAAQ,kBAAkB,MAAM,UAAU,MAAM,CAClD,WAAU,MAAM,UAAU,IAAI,QAAQ;WAC7B,CAAC,QAAQ,eAClB,WAAU,MAAM,UAAU,OAAO,QAAQ;AAG7C,YAAU,QAAQ,QAAQ,QAAQ,UAAU,QAAQ,QAAQ,OAAO,KAAK,MAAM;AAC9E,SAAO;;;;;;CAMT,IAAI,aAAa;AACf,SAAO,KAAK;;;;;;;;;;;;;;;;;;;;;;CAsBd,eAAe,aAAa;AAC1B,OAAK,OAAO,QAAQ,SAAS,WAAW;AACtC,OAAI,CAAC,OAAO,OACV;AACF,UAAO,KAAK,OAAO,OAAO,CAAC,QAAQ,QAAQ,OAAO,YAAY,CAAC,SAAS,QAAQ;AAC9E,WAAO,OAAO,OAAO,YAAY;KACjC;IACF;;;AAGN,IAAM,SAAS,IAAI,aAAa;AAChC,WAAW,aAAa,cAAc,YAAY,OAAO,OAAO,QAAQ,CAAC,aAAa,cAAc,eAAe,OAAO,SAAS,QAAQ,CAAC,aAAa,cAAc,aAAa,OAAO,MAAM,QAAQ,CAAC,aAAa,cAAc,iBAAiB,OAAO,WAAW;AACxQ,WAAW,IACT,mBACA,gBACA,YACA,YACA,WACA,WACA,YACA,UACA,SACA,aACA,SACA,cACA,mBACA,gBACA,uBACA,mBACA,eACD;AACD,IAAM,cAAc;CAClB,QAAQ,cAAc;CACtB,UAAU,cAAc;CACxB,OAAO,cAAc;CACrB,WAAW,cAAc;CAC1B;AACD,WAAW,OAAO,cAAc,QAAQ,cAAc;CACpD,MAAM,MAAM,UAAU;AACtB,QAAO,QAAQ,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC,KAAK,UAAU,WAAW,IAAI,OAAO,OACvG,IAAI,MAGJ,EAAE,WAAW,IAAI,KAAK,aAAa,MAAM,CAC1C,CAAC,CAAC;IACD,cAAc;CAChB,MAAM,MAAM,UAAU;AACtB,QAAO,KAAK,YAAY,CAAC,QAAQ,QAAQ,CAAC,CAAC,IAAI,KAAK,CAAC,SAAS,QAAQ,WAAW,OAAO,IAAI,KAAK,CAAC;EAClG;;;;AC1tBF,IAAM,cAAc;CAClB,WAAW;EACT,MAAM,cAAc;EACpB,UAAU;EACX;CACD,MAAM,YAAY;AAChB,MAAI,MAAM,mBAAmB,CAC3B,QAAO;AACT,MAAI,kBAAkB,CACpB,QAAO;AACT,SAAO;;CAET,KAAK,OAAO,YAAY,CAAC,GAAG,SAAS,QAAQ;CAC7C,QAAQ,OAAO,YAAY,QAAQ,QAAQ,MAAM,MAAM,QAAQ;CAChE;;;;AChBD,IAAM,mBAAN,cAA+B,cAAc;CAC3C,YAAY,SAAS;AACnB,QAAM,QAAQ;AACd,OAAK,iBAAiB;AACtB,OAAK,WAAW,QAAQ;AACxB,OAAK,gBAAgB,KAAK,SAAS;;;;;;ACLvC,IAAI;AACJ,SAAS,yCAAyC;AAChD,KAAI,oCACF,QAAO;CAET,MAAM,KADS,WAAW,KAAK,CAAC,aAAa,GAAG,EAAE,CAChC,WAAW,QAAQ;AACrC,KAAI,CAAC,GACH,QAAO,EAAE;AAEX,uCAAsC;EAOpC,GAAG,GAAG,aAAa,+BAA+B,GAAG;GACnD;GACA;GACA;GACA;GACD,GAAG,EAAE;EASN,GAAG,GAAG,aAAa,gCAAgC,GAAG;GACpD;GACA;GACA;GACD,GAAG,EAAE;EACN,GAAG,GAAG,aAAa,qCAAqC,GAAG;GACzD;GACA;GACA;GACD,GAAG,EAAE;EACN,GAAG,GAAG,aAAa,+BAA+B,GAAG;GACnD;GACA;GACA;GACA;GACD,GAAG,EAAE;EAGN,GAAG,GAAG,aAAa,+BAA+B,GAAG;GACnD;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACD,GAAG,EAAE;EAKN,GAAG,GAAG,aAAa,gCAAgC,GAAG;GACpD;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACD,GAAG,EAAE;EACP;AACD,QAAO;;;;;AC7FT,IAAI;AACJ,eAAe,0CAA0C;AACvD,KAAI,qCACF,QAAO;CACT,MAAM,UAAU,MAAM,WAAW,KAAK,CAAC,cAAc,CAAC,IAAI,gBAAgB;AAC1E,wCAAuC;EACrC,GAAG,QAAQ,SAAS,IAAI,yBAAyB,GAAG;GAGlD;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACD,GAAG,EAAE;EACN,GAAG,QAAQ,SAAS,IAAI,2BAA2B,GAAG;GAGpD;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACD,GAAG,EAAE;EACN,GAAG,QAAQ,SAAS,IAAI,2BAA2B,GAAG;GAGpD;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACD,GAAG,EAAE;EACP;AACD,QAAO;;;;;ACpET,IAAI;AACJ,eAAe,uCAAuC;AACpD,KAAI,sCAAsC,KAAK,EAC7C,QAAO;AACT,qCAAoC,OAAO,YAAY;EACrD,MAAMC,uBAAqB,MAAM,mBAAmB;EACpD,MAAMC,sBAAoB,kBAAkB;AAC5C,MAAID,wBAAsBC,qBAAmB;GAC3C,MAAM,oBAAoB,MAAM,yCAAyC;GACzE,MAAM,mBAAmB,wCAAwC;AACjE,UAAO,kBAAkB,QAAQ,WAAW,iBAAiB,SAAS,OAAO,CAAC;aACrED,qBACT,QAAO,MAAM,yCAAyC;WAC7CC,oBACT,QAAO,wCAAwC;AAEjD,SAAO,EAAE;KACP;AACJ,QAAO;;;;;ACrBT,IAAM,uBAAuB;CAE3B;CACA;CACA;CACA;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CAEA;CACA;CACA;CAEA;CACA;CACA;CACA;CACA;CACA;CAEA;CACA;CACA;CAEA;CACA;CACA;CACA;CACA;CAEA;CACD;AACD,IAAI;AACJ,eAAe,6BAA6B;AAC1C,KAAI,4BAA4B,KAAK,EACnC,QAAO;CACT,MAAM,2BAA2B,MAAM,sCAAsC;AAC7E,2BAA0B,CACxB,GAAG,sBACH,GAAG,yBACJ;AACD,QAAO;;;;;AChET,IAAMC,gBAAc;AACpB,IAAIC,eAAa;AACjB,IAAMC,mBAAN,MACA;CACI,cACA;AACI,MAAI,CAACD,aAED,gBAAa,IAAI,gBAAgB,IAAI,KAAK,CAACD,cAAY,EAAE,EAAE,MAAM,0BAA0B,CAAC,CAAC;AAEjG,OAAK,SAAS,IAAI,OAAOC,aAAW;;;AAG5C,iBAAe,kBAAkB,SAAS,kBAC1C;AACI,KAAIA,cACJ;AACI,MAAI,gBAAgBA,aAAW;AAC/B,iBAAa;;;;;;ACjBrB,IAAM,sBAAsB;CAC1B,OAAO;CACP,SAAS;CACV;AACD,SAAS,uBAAuB,QAAQ;AACtC,QAAO,OAAO,qBAAqB,OAAO;;;;;ACF5C,IAAI;AACJ,IAAME,YAAU,EAAE;AAClB,SAAS,eAAe,mBAAmB;AACzC,KAAI,CAAC,aAAa;AAChB,gBAAc,IAAIC,kBAAgB,CAAC;AACnC,cAAY,aAAa,iBAAiB;GACxC,MAAM,EAAE,SAAS,KAAK,mBAAmB,aAAa;AACtD,OAAI,CAAC,QACH,SAAQ,KAAK,gCAAgC,IAAI;AAEnD,aAAQ,KAAK,eAAe;;AAE9B,cAAY,YAAY;GACtB,MAAM;GACN,OAAO,oBAAoB;GAC3B,SAAS,oBAAoB;GAC7B;GACD,CAAC;;AAEJ,QAAO;;AAET,SAAS,kBAAkB,KAAK,mBAAmB;CACjD,MAAMC,cAAY,eAAe,kBAAkB;AACnD,QAAO,IAAI,SAAS,YAAY;AAC9B,YAAQ,OAAO;AACf,cAAU,YAAY;GAAE,MAAM;GAAQ;GAAK,CAAC;GAC5C;;;;;ACrBJ,IAAM,YAAY;CAChB,WAAW;EACT,MAAM,cAAc;EACpB,UAAU,qBAAqB;EAC/B,MAAM;EACP;CAED,MAAM;CACN,IAAI;CACJ,KAAK,KAAK;AACR,SAAO,eAAe,KAAK,CAAC,SAAS,CAAC;;CAExC,MAAM,KAAK,KAAK,QAAQ,QAAQ;EAC9B,MAAM,oBAAoB,MAAM,4BAA4B;EAC5D,MAAM,iBAAiB,MAAM,kBAAkB,KAAK,kBAAkB;EACtE,MAAM,0BAA0B,IAAI,iBAAiB,eAAe;AACpE,SAAO,cAAc,yBAAyB,QAAQ,IAAI;;CAE5D,OAAO,SAAS;AACd,MAAI,MAAM,QAAQ,QAAQ,CACxB,SAAQ,SAAS,MAAM,EAAE,QAAQ,KAAK,CAAC;MAEvC,SAAQ,QAAQ,KAAK;;CAG1B;;;;ACjCD,SAAS,mBAAmB,cAAc,uBAAuB;CAC/D,MAAM,SAAS,aAAa,cAAc;CAC1C,MAAM,SAAS,aAAa,aAAa,EAAE;AAE3C,KAAI,CADY,aAAa,kBAAkB,CAE7C,OAAM,IAAI,MAAM,0BAA0B;CAE5C,MAAM,eAAe,EAAE;AACvB,MAAK,IAAI,aAAa,GAAG,aAAa,QAAQ,EAAE,WAC9C,MAAK,IAAI,aAAa,GAAG,aAAa,QAAQ,EAAE,YAAY;EAC1D,MAAM,gBAAgB,aAAa,8BAA8B,YAAY,YAAY,sBAAsB;EAC/G,MAAM,cAAc,IAAI,WAAW,cAAc;AAEjD,MAAI,CADa,aAAa,eAAe,aAAa,YAAY,YAAY,uBAAuB,GAAG,EAAE,CAE5G,OAAM,IAAI,MAAM,wBAAwB;AAE1C,eAAa,KAAK,YAAY;;AAGlC,QAAO;;;;;ACnBT,IAAMC,wCAAsC;CAC1C,kBAAkB;CAElB,kBAAkB;CAElB,mBAAmB;CAEnB,kBAAkB;CAGlB,YAAY;CAEZ,YAAY;CAEb;AACD,SAAS,iCAAiC,kBAAkB;CAC1D,MAAM,SAASA,sCAAoC;AACnD,KAAI,OACF,QAAO;AAET,OAAM,IAAI,MAAM,iCAAiC,mBAAmB;;;;;ACpBtE,IAAM,oBAAoB;CACxB,OAAO;CACP,MAAM;CACN,OAAO;CACP,QAAQ;CACR,OAAO;CACP,cAAc;CACd,cAAc;CACd,UAAU;CACV,QAAQ;CACR,cAAc;CACd,YAAY;CACZ,YAAY;CACZ,YAAY;CACZ,YAAY;CACb;AACD,IAAM,kBAAkB;CACtB,aAAa;CACb,oBAAoB;CACpB,WAAW;CACX,YAAY;CACZ,aAAa;CACd;AACD,IAAI,cAA8B,kBAAE,iBAAiB;AACnD,cAAa,aAAa,yBAAyB,KAAK;AACxD,cAAa,aAAa,uCAAuC,KAAK;AACtE,cAAa,aAAa,oCAAoC,KAAK;AACnE,cAAa,aAAa,mCAAmC,KAAK;AAClE,cAAa,aAAa,mCAAmC,KAAK;AAClE,cAAa,aAAa,oCAAoC,KAAK;AACnE,cAAa,aAAa,iCAAiC,KAAK;AAChE,cAAa,aAAa,gCAAgC,KAAK;AAC/D,cAAa,aAAa,gCAAgC,KAAK;AAC/D,cAAa,aAAa,uCAAuC,KAAK;AACtE,cAAa,aAAa,oCAAoC,MAAM;AACpE,cAAa,aAAa,oCAAoC,MAAM;AACpE,cAAa,aAAa,mCAAmC,MAAM;AACnE,cAAa,aAAa,oCAAoC,MAAM;AACpE,cAAa,aAAa,mCAAmC,MAAM;AACnE,cAAa,aAAa,iCAAiC,MAAM;AACjE,cAAa,aAAa,8BAA8B,MAAM;AAC9D,cAAa,aAAa,6BAA6B,MAAM;AAC7D,cAAa,aAAa,6BAA6B,MAAM;AAC7D,cAAa,aAAa,mCAAmC,MAAM;AACnE,cAAa,aAAa,sCAAsC,MAAM;AACtE,cAAa,aAAa,0CAA0C,MAAM;AAC1E,cAAa,aAAa,yCAAyC,MAAM;AACzE,cAAa,aAAa,sCAAsC,MAAM;AACtE,cAAa,aAAa,mCAAmC,MAAM;AACnE,cAAa,aAAa,kCAAkC,MAAM;AAClE,cAAa,aAAa,iCAAiC,MAAM;AACjE,cAAa,aAAa,mCAAmC,MAAM;AACnE,cAAa,aAAa,gCAAgC,MAAM;AAChE,cAAa,aAAa,qCAAqC,MAAM;AACrE,cAAa,aAAa,+BAA+B,MAAM;AAC/D,cAAa,aAAa,gCAAgC,MAAM;AAChE,cAAa,aAAa,+BAA+B,MAAM;AAC/D,cAAa,aAAa,iCAAiC,MAAM;AACjE,cAAa,aAAa,8BAA8B,MAAM;AAC9D,cAAa,aAAa,8BAA8B,MAAM;AAC9D,cAAa,aAAa,6BAA6B,MAAM;AAC7D,cAAa,aAAa,8BAA8B,MAAM;AAC9D,cAAa,aAAa,6BAA6B,MAAM;AAC7D,cAAa,aAAa,8BAA8B,MAAM;AAC9D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,0BAA0B,MAAM;AAC1D,cAAa,aAAa,0BAA0B,MAAM;AAC1D,cAAa,aAAa,gCAAgC,MAAM;AAChE,cAAa,aAAa,mCAAmC,MAAM;AACnE,cAAa,aAAa,uCAAuC,MAAM;AACvE,cAAa,aAAa,sCAAsC,MAAM;AACtE,cAAa,aAAa,+BAA+B,MAAM;AAC/D,cAAa,aAAa,4BAA4B,MAAM;AAC5D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,4BAA4B,MAAM;AAC5D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,8BAA8B,MAAM;AAC9D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,0BAA0B,MAAM;AAC1D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,0BAA0B,MAAM;AAC1D,cAAa,aAAa,6BAA6B,MAAM;AAC7D,cAAa,aAAa,0BAA0B,MAAM;AAC1D,cAAa,aAAa,yBAAyB,MAAM;AACzD,cAAa,aAAa,0BAA0B,MAAM;AAC1D,cAAa,aAAa,yBAAyB,MAAM;AACzD,cAAa,aAAa,0BAA0B,MAAM;AAC1D,cAAa,aAAa,0BAA0B,MAAM;AAC1D,cAAa,aAAa,oCAAoC,MAAM;AACpE,cAAa,aAAa,iCAAiC,MAAM;AACjE,cAAa,aAAa,iCAAiC,MAAM;AACjE,cAAa,aAAa,8BAA8B,MAAM;AAC9D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,gCAAgC,MAAM;AAChE,cAAa,aAAa,8BAA8B,MAAM;AAC9D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,gCAAgC,MAAM;AAChE,cAAa,aAAa,8BAA8B,MAAM;AAC9D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,gCAAgC,MAAM;AAChE,cAAa,aAAa,8BAA8B,MAAM;AAC9D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,8BAA8B,MAAM;AAC9D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,8BAA8B,MAAM;AAC9D,cAAa,aAAa,gCAAgC,MAAM;AAChE,cAAa,aAAa,gCAAgC,MAAM;AAChE,cAAa,aAAa,gCAAgC,MAAM;AAChE,cAAa,aAAa,4CAA4C,MAAM;AAC5E,cAAa,aAAa,mCAAmC,MAAM;AACnE,cAAa,aAAa,qCAAqC,MAAM;AACrE,cAAa,aAAa,mCAAmC,MAAM;AACnE,cAAa,aAAa,qCAAqC,MAAM;AACrE,cAAa,aAAa,+BAA+B,MAAM;AAC/D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,8BAA8B,MAAM;AAC9D,cAAa,aAAa,2BAA2B,MAAM;AAC3D,cAAa,aAAa,gCAAgC,MAAM;AAChE,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,4BAA4B,OAAO;AAC7D,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,oBAAoB,OAAO;AACrD,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,gCAAgC,OAAO;AACjE,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,sBAAsB,OAAO;AACvD,cAAa,aAAa,iDAAiD,OAAO;AAClF,cAAa,aAAa,yDAAyD,OAAO;AAC1F,cAAa,aAAa,4BAA4B,OAAO;AAC7D,QAAO;GACN,eAAe,EAAE,CAAC;AACrB,IAAI,2BAA2C,kBAAE,8BAA8B;AAC7E,2BAA0B,0BAA0B,6BAA6B,KAAK;AACtF,2BAA0B,0BAA0B,6BAA6B,KAAK;AACtF,2BAA0B,0BAA0B,6BAA6B,KAAK;AACtF,QAAO;GACN,4BAA4B,EAAE,CAAC;AAClC,SAAS,cAAc,OAAO;AAC5B,QAAO,MAAM,WAAW,EAAE,IAAI,MAAM,WAAW,EAAE,IAAI,MAAM,MAAM,WAAW,EAAE,IAAI,OAAO,MAAM,WAAW,EAAE,IAAI;;AAElH,IAAI,WAAW,YAAY;AACzB,SAAQ,QAAQ,aAAa,KAAK;AAClC,SAAQ,QAAQ,YAAY,MAAM;AAClC,SAAQ,QAAQ,cAAc,MAAM;AACpC,SAAQ,QAAQ,cAAc,MAAM;AACpC,SAAQ,QAAQ,YAAY,MAAM;AAClC,SAAQ,QAAQ,cAAc,MAAM;AACpC,SAAQ,QAAQ,cAAc,MAAM;AACpC,SAAQ,QAAQ,cAAc,MAAM;AACpC,SAAQ,QAAQ,YAAY,MAAM;AAClC,SAAQ,QAAQ,QAAQ,MAAM;AAC9B,SAAQ,QAAQ,cAAc,MAAM;AACpC,SAAQ,QAAQ,cAAc,MAAM;AACpC,SAAQ,QAAQ,iBAAiB,MAAM;AACvC,SAAQ,QAAQ,cAAc,MAAM;AACpC,SAAQ,QAAQ,cAAc,MAAM;AACpC,SAAQ,QAAQ,YAAY,MAAM;AAClC,SAAQ,QAAQ,iBAAiB,MAAM;AACvC,SAAQ,QAAQ,kBAAkB,MAAM;AACxC,SAAQ,QAAQ,UAAU,MAAM;AAChC,SAAQ,QAAQ,QAAQ,MAAM;AAC9B,SAAQ,QAAQ,QAAQ,MAAM;AAC9B,SAAQ,QAAQ,UAAU,MAAM;AAChC,SAAQ,QAAQ,UAAU,MAAM;AAChC,SAAQ,QAAQ,UAAU,MAAM;AAChC,SAAQ,QAAQ,YAAY,MAAM;AAClC,SAAQ,QAAQ,cAAc,MAAM;AACpC,SAAQ,QAAQ,cAAc,MAAM;AACpC,SAAQ,QAAQ,YAAY,MAAM;AAClC,SAAQ,QAAQ,iBAAiB,MAAM;AACvC,SAAQ,QAAQ,kBAAkB,OAAO;AACzC,SAAQ,QAAQ,UAAU,OAAO;AACjC,SAAQ,QAAQ,aAAa,OAAO;AACpC,SAAQ,QAAQ,mBAAmB,OAAO;AAC1C,SAAQ,QAAQ,UAAU,OAAO;AACjC,SAAQ,QAAQ,aAAa,OAAO;AACpC,SAAQ,QAAQ,mBAAmB,OAAO;AAC1C,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,SAAQ,QAAQ,eAAe,cAAc,OAAO,IAAI;AACxD,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,SAAQ,QAAQ,sBAAsB,cAAc,OAAO,IAAI;AAC/D,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,SAAQ,QAAQ,UAAU,cAAc,OAAO,IAAI;AACnD,QAAO;GACN,UAAU,EAAE,CAAC;AAChB,IAAM,2BAA2B;EAC9B,OAAO,OAAO;EACd,OAAO,OAAO;EACd,OAAO,OAAO;EACd,OAAO,OAAO;EACd,OAAO,OAAO;EACd,OAAO,OAAO;EACd,OAAO,OAAO;EACd,OAAO,OAAO;EACd,OAAO,OAAO;EACd,OAAO,OAAO;EACd,OAAO,OAAO;EACd,KAAwB;EACxB,MAAyB;EACzB,MAAiB;EACjB,MAAoB;EACpB,MAA0B;EAC1B,MAAiB;EACjB,MAAoB;EACpB,MAA0B;CAC5B;AACD,IAAM,yBAAyB;EAC5B,KAAoC;EACpC,KAAiC;EACjC,KAAsC;EACtC,KAAoC;EACpC,KAAiC;EACjC,KAAsC;EACtC,KAAoC;EACpC,KAAiC;EACjC,KAAsC;EACtC,KAAoC;EACpC,KAAiC;EACjC,KAAiC;EACjC,KAAoC;EACpC,KAAiC;EACjC,KAAiC;EACjC,KAAqC;EACrC,KAAiC;EACjC,KAAiC;EACjC,KAAoC;EACpC,KAAiC;EACjC,KAAsC;EACtC,KAAsC;EACtC,KAA2C;EAC3C,KAAsC;EACtC,KAA2C;EAC3C,KAAiC;EACjC,KAAkC;EAClC,KAAiC;EACjC,KAAgC;EAChC,KAAyC;EACzC,KAA0C;EAC1C,KAA0C;EAC1C,KAA0C;EAC1C,KAAiC;EACjC,KAAoC;EACpC,KAAoC;EACpC,IAAyC;CAC3C;AACD,IAAM,MAAM;CACV,aAAa;CACb,YAAY;CACZ,aAAa;CACb,kBAAkB;CAClB,oBAAoB;EAIlB,aAAa;EACb,OAAO;EACP,QAAQ;EACR,KAAK;EACL,MAAM;EACN,KAAK;EACL,WAAW;EACX,YAAY;EACb;CACD,2BAA2B;CAC3B,eAAe;CACf,oBAAoB;CACpB;CACA;CACA;CACD;AACD,IAAM,4BAA4B;CAChC,kBAAkB;CAClB,uBAAuB;CACvB,kBAAkB;CAClB,uBAAuB;CACvB,kBAAkB;CAClB,uBAAuB;CACvB,eAAe;CACf,eAAe;CACf,gBAAgB;CAChB,gBAAgB;CAChB,mBAAmB;CACnB,kBAAkB;CAClB,kBAAkB;CAClB,uBAAuB;CACxB;;;;ACxTD,SAAS,SAAS,aAAa,kBAAkB;CAC/C,MAAM,EACJ,QACA,QACA,OACA,QACA,YACA,gBACE,eAAe,YAAY;AAC/B,KAAI,CAAC,iBAAiB,SAAS,OAAO,CACpC,OAAM,IAAI,MAAM,+BAA+B,OAAO,GAAG,OAAO,eAAe,mBAAmB;AAEpG,KAAI,eAAe,EACjB,QAAO;EACL;EACA;EACA;EACA,UAAU,CAAC,IAAI,WAAW,aAAa,WAAW,CAAC;EACnD,WAAW;EACZ;CAEH,MAAM,eAAe,sBAAsB,QAAQ,OAAO,QAAQ,YAAY,aAAa,YAAY;AAQvG,QAPuB;EACrB;EACA;EACA;EACA,UAAU;EACV,WAAW;EACZ;;AAGH,SAAS,sBAAsB,QAAQ,OAAO,QAAQ,YAAY,aAAa,aAAa;CAC1F,MAAM,eAAe,EAAE;CACvB,MAAM,aAAa,0BAA0B;CAC7C,IAAI,WAAW;CACf,IAAI,YAAY;CAChB,IAAI,SAAS;AACb,MAAK,IAAI,QAAQ,GAAG,QAAQ,aAAa,EAAE,OAAO;EAChD,MAAM,eAAe,KAAK,KAAK,KAAK,IAAI,GAAG,SAAS,GAAG,EAAE,GAAG;EAC5D,MAAM,gBAAgB,KAAK,KAAK,KAAK,IAAI,GAAG,UAAU,GAAG,EAAE,GAAG;EAC9D,MAAM,aAAa,aAAa,eAAe,IAAI,gBAAgB,IAAI,aAAa,WAAW,YAAY;EAC3G,MAAM,cAAc,IAAI,WAAW,aAAa,QAAQ,WAAW;AACnE,eAAa,KAAK,YAAY;AAC9B,YAAU;AACV,aAAW,KAAK,IAAI,YAAY,GAAG,EAAE;AACrC,cAAY,KAAK,IAAI,aAAa,GAAG,EAAE;;AAEzC,QAAO;;AAET,SAAS,eAAe,QAAQ;CAC9B,MAAM,SAAS,IAAI,YAAY,QAAQ,GAAG,IAAI,cAAc,YAAY,kBAAkB;AAC1F,KAAI,OAAO,IAAI,cAAc,WAAW,IAAI,YAC1C,OAAM,IAAI,MAAM,qCAAqC;CAEvD,MAAM,SAAS,OAAO,IAAI,cAAc;CACxC,MAAM,QAAQ,OAAO,IAAI,cAAc;CACvC,MAAM,cAAc,KAAK,IAAI,GAAG,OAAO,IAAI,cAAc,cAAc;CACvE,MAAM,QAAQ,OAAO,IAAI,cAAc;CACvC,MAAM,SAAS,OAAO,IAAI,cAAc;CACxC,MAAM,SAAS,iBAAiB,QAAQ,OAAO,QAAQ,OAAO;CAC9D,MAAM,aAAa,IAAI,aAAa,IAAI,eAAe,WAAW,IAAI,OAAO,OAAO,IAAI,mBAAmB;AAC3G,QAAO;EACL;EACA;EACA;EACA;EACA;EACA;EACD;;AAEH,SAAS,iBAAiB,QAAQ,OAAO,QAAQ,QAAQ;AACvD,KAAI,QAAQ,IAAI,mBAAmB,QAAQ;AACzC,MAAI,WAAW,IAAI,OAAO,MAAM;GAC9B,MAAM,aAAa,IAAI,YACrB,QACA,IAAI,aAAa,IAAI,aAErB,IAAI,mBAAmB,YAAY,kBACpC;AAED,OADiB,WAAW,IAAI,mBAAmB,eAClC,IAAI,0BACnB,OAAM,IAAI,MAAM,8CAA8C;AAGhE,OAD0B,WAAW,IAAI,mBAAmB,wBAClC,IAAI,yBAAyB,wBACrD,OAAM,IAAI,MAAM,+CAA+C;GAEjE,MAAM,aAAa,WAAW,IAAI,mBAAmB;AACrD,OAAI,cAAc,uBAChB,QAAO,uBAAuB;AAEhC,SAAM,IAAI,MAAM,wDAAwD,aAAa;;AAEvF,MAAI,UAAU,yBACZ,QAAO,yBAAyB;AAElC,QAAM,IAAI,MAAM,0DAA0D,SAAS;;AAErF,KAAI,QAAQ,IAAI,mBAAmB,OAAO,QAAQ,IAAI,mBAAmB,KACvE,QAAO,6BAA6B,OAAO;AAE7C,KAAI,QAAQ,IAAI,mBAAmB,IACjC,OAAM,IAAI,MAAM,8DAA8D;AAEhF,KAAI,QAAQ,IAAI,mBAAmB,aAAa,QAAQ,IAAI,mBAAmB,WAC7E,OAAM,IAAI,MAAM,uEAAuE;AAEzF,KAAI,QAAQ,IAAI,mBAAmB,SAAS,QAAQ,IAAI,mBAAmB,YACzE,OAAM,IAAI,MAAM,kEAAkE;AAEpF,OAAM,IAAI,MAAM,oEAAoE;;AAEtF,SAAS,6BAA6B,QAAQ;CAC5C,MAAM,WAAW,OAAO,IAAI,cAAc;CAC1C,MAAM,WAAW,OAAO,IAAI,cAAc;CAC1C,MAAM,WAAW,OAAO,IAAI,cAAc;CAC1C,MAAM,WAAW,OAAO,IAAI,cAAc;CAC1C,MAAM,WAAW,OAAO,IAAI,cAAc;AAC1C,SAAQ,UAAR;EACE,KAAK;AACH,OAAI,aAAa,OAAO,aAAa,SAAS,aAAa,YAAY,aAAa,WAClF,QAAO,uBAAuB,IAAI,YAAY;AAEhD,OAAI,aAAa,YAAY,aAAa,SAAS,aAAa,OAAO,aAAa,WAClF,QAAO,uBAAuB,IAAI,YAAY;AAEhD,OAAI,aAAa,cAAc,aAAa,WAAW,aAAa,QAAQ,aAAa,WACvF,QAAO,uBAAuB,IAAI,YAAY;AAEhD,OAAI,aAAa,SAAS,aAAa,cAAc,aAAa,KAAK,aAAa,EAClF,QAAO,uBAAuB,IAAI,YAAY;AAEhD,OAAI,aAAa,cAAc,aAAa,KAAK,aAAa,KAAK,aAAa,EAC9E,QAAO,uBAAuB,IAAI,YAAY;AAEhD;EACF,KAAK;AACH,OAAI,aAAa,YAAY,aAAa,SAAS,aAAa,OAAO,aAAa,OAAO;AAE3F;EACF,KAAK;AACH,OAAI,aAAa,SAAS,aAAa,OAAO,aAAa,MAAM,aAAa,MAC5E,QAAO,uBAAuB,IAAI,YAAY;AAEhD,OAAI,aAAa,SAAS,aAAa,QAAQ,aAAa,MAAM,aAAa,EAC7E,QAAO,uBAAuB,IAAI,YAAY;AAEhD,OAAI,aAAa,QAAQ,aAAa,OAAO,aAAa,MAAM,aAAa,MAC3E,QAAO,uBAAuB,IAAI,YAAY;AAEhD,OAAI,aAAa,OAAO,aAAa,KAAK,aAAa,KAAK,aAAa,MACvE,QAAO,uBAAuB,IAAI,YAAY;AAEhD,OAAI,aAAa,SAAS,aAAa,KAAK,aAAa,KAAK,aAAa,EACzE,QAAO,uBAAuB,IAAI,YAAY;AAEhD;EACF,KAAK;AACH,OAAI,aAAa,OAAO,aAAa,KAAK,aAAa,KAAK,aAAa,EACvE,QAAO,uBAAuB,IAAI,YAAY;AAEhD;;AAEJ,OAAM,IAAI,MAAM;6BACW,SAAS,eAAe,SAAS,eAAe,SAAS,eAAe,WAAW;;;;;AC9JhH,IAAM,UAAU;CACd,WAAW;EACT,MAAM,cAAc;EACpB,UAAU,qBAAqB;EAC/B,MAAM;EACP;CAED,MAAM;CACN,IAAI;CACJ,KAAK,KAAK;AACR,SAAO,eAAe,KAAK,CAAC,OAAO,CAAC;;CAEtC,MAAM,KAAK,KAAK,QAAQ,QAAQ;EAC9B,MAAM,oBAAoB,MAAM,4BAA4B;EAE5D,MAAM,iBAAiB,OADH,MAAM,MAAM,IAAI,EACK,aAAa;EACtD,MAAM,iBAAiB,SAAS,gBAAgB,kBAAkB;EAClE,MAAM,0BAA0B,IAAI,iBAAiB,eAAe;AACpE,SAAO,cAAc,yBAAyB,QAAQ,IAAI;;CAE5D,OAAO,SAAS;AACd,MAAI,MAAM,QAAQ,QAAQ,CACxB,SAAQ,SAAS,MAAM,EAAE,QAAQ,KAAK,CAAC;MAEvC,SAAQ,QAAQ,KAAK;;CAG1B;;;;ACnCD,IAAI,qBAAqC,kBAAE,wBAAwB;AACjE,qBAAoB,oBAAoB,iBAAiB,SAAS;AAClE,qBAAoB,oBAAoB,UAAU,QAAQ;AAC1D,qBAAoB,oBAAoB,aAAa,SAAS;AAC9D,qBAAoB,oBAAoB,kBAAkB,SAAS;AACnE,qBAAoB,oBAAoB,YAAY,SAAS;AAC7D,qBAAoB,oBAAoB,WAAW,SAAS;AAC5D,qBAAoB,oBAAoB,kCAAkC,SAAS;AACnF,qBAAoB,oBAAoB,mCAAmC,SAAS;AACpF,qBAAoB,oBAAoB,mCAAmC,SAAS;AACpF,qBAAoB,oBAAoB,mCAAmC,SAAS;AACpF,qBAAoB,oBAAoB,yCAAyC,SAAS;AAC1F,qBAAoB,oBAAoB,yCAAyC,SAAS;AAC1F,qBAAoB,oBAAoB,yCAAyC,SAAS;AAC1F,qBAAoB,oBAAoB,mCAAmC,SAAS;AACpF,qBAAoB,oBAAoB,8BAA8B,SAAS;AAC/E,qBAAoB,oBAAoB,qCAAqC,SAAS;AACtF,qBAAoB,oBAAoB,oCAAoC,SAAS;AACrF,qBAAoB,oBAAoB,2CAA2C,SAAS;AAC5F,qBAAoB,oBAAoB,wBAAwB,SAAS;AACzE,qBAAoB,oBAAoB,+BAA+B,SAAS;AAChF,qBAAoB,oBAAoB,yBAAyB,SAAS;AAC1E,qBAAoB,oBAAoB,gCAAgC,SAAS;AACjF,qBAAoB,oBAAoB,0BAA0B,SAAS;AAC3E,qBAAoB,oBAAoB,+BAA+B,SAAS;AAChF,qBAAoB,oBAAoB,2BAA2B,SAAS;AAC5E,qBAAoB,oBAAoB,sCAAsC,SAAS;AACvF,qBAAoB,oBAAoB,8CAA8C,SAAS;AAC/F,qBAAoB,oBAAoB,+CAA+C,SAAS;AAChG,qBAAoB,oBAAoB,kCAAkC,SAAS;AACnF,qBAAoB,oBAAoB,kCAAkC,SAAS;AACnF,qBAAoB,oBAAoB,kCAAkC,SAAS;AACnF,qBAAoB,oBAAoB,kCAAkC,SAAS;AACnF,qBAAoB,oBAAoB,kCAAkC,SAAS;AACnF,qBAAoB,oBAAoB,kCAAkC,SAAS;AACnF,qBAAoB,oBAAoB,kCAAkC,SAAS;AACnF,qBAAoB,oBAAoB,kCAAkC,SAAS;AACnF,qBAAoB,oBAAoB,mCAAmC,SAAS;AACpF,qBAAoB,oBAAoB,mCAAmC,SAAS;AACpF,qBAAoB,oBAAoB,mCAAmC,SAAS;AACpF,qBAAoB,oBAAoB,oCAAoC,SAAS;AACrF,qBAAoB,oBAAoB,oCAAoC,SAAS;AACrF,qBAAoB,oBAAoB,oCAAoC,SAAS;AACrF,qBAAoB,oBAAoB,0CAA0C,SAAS;AAC3F,qBAAoB,oBAAoB,0CAA0C,SAAS;AAC3F,qBAAoB,oBAAoB,0CAA0C,SAAS;AAC3F,qBAAoB,oBAAoB,0CAA0C,SAAS;AAC3F,qBAAoB,oBAAoB,0CAA0C,SAAS;AAC3F,qBAAoB,oBAAoB,0CAA0C,SAAS;AAC3F,qBAAoB,oBAAoB,0CAA0C,SAAS;AAC3F,qBAAoB,oBAAoB,0CAA0C,SAAS;AAC3F,qBAAoB,oBAAoB,2CAA2C,SAAS;AAC5F,qBAAoB,oBAAoB,2CAA2C,SAAS;AAC5F,qBAAoB,oBAAoB,2CAA2C,SAAS;AAC5F,qBAAoB,oBAAoB,4CAA4C,SAAS;AAC7F,qBAAoB,oBAAoB,4CAA4C,SAAS;AAC7F,qBAAoB,oBAAoB,4CAA4C,SAAS;AAC7F,qBAAoB,oBAAoB,oCAAoC,SAAS;AACrF,qBAAoB,oBAAoB,0CAA0C,SAAS;AAC3F,qBAAoB,oBAAoB,0CAA0C,SAAS;AAC3F,qBAAoB,oBAAoB,4CAA4C,SAAS;AAC7F,QAAO;GACN,sBAAsB,EAAE,CAAC;AAoC5B,IAAM,qCAAqC;EACxC,QAA2C;EAE3C,QAA4C;EAC5C,QAA4C;EAC5C,QAA4C;EAC5C,QAA4C;EAE5C,QAAkD;EAClD,QAAkD;EAClD,QAAkD;EAClD,QAAuC;EACvC,QAA8C;EAC9C,QAA6C;EAC7C,QAAoD;EACpD,QAAiC;EAEjC,QAAkC;EAElC,QAAmC;EACnC,QAAwC;EACxC,QAAoC;EACpC,QAA+C;EAC/C,QAAuD;EACvD,QAAwD;EACxD,QAA2C;EAC3C,QAAmD;EACnD,QAA2C;EAC3C,QAAmD;EACnD,QAA2C;EAC3C,QAAmD;EACnD,QAA2C;EAC3C,QAAmD;EACnD,QAA2C;EAC3C,QAAmD;EACnD,QAA2C;EAC3C,QAAmD;EACnD,QAA2C;EAC3C,QAAmD;EACnD,QAA2C;EAC3C,QAAmD;EACnD,QAA4C;EAC5C,QAAoD;EACpD,QAA4C;EAC5C,QAAoD;EACpD,QAA4C;EAC5C,QAAoD;EACpD,QAA6C;EAC7C,QAAqD;EACrD,QAA6C;EAC7C,QAAqD;EACrD,QAA6C;EAC7C,QAAqD;EACrD,QAA6C;EAC7C,QAAmD;EACnD,QAAmD;EACnD,QAAqD;EACrD,QAA2B;EAC3B,QAA0B;EAC1B,QAAsB;EACtB,QAAqB;EACrB,OAAkB;CAEpB;AACD,IAAM,kBAAkB;CAAC;CAAK;CAAI;CAAI;CAAI;CAAI;CAAI;CAAI;CAAK;CAAI;CAAI;CAAI;CAAG;AAC1E,IAAM,SAAS;CACb,iBAAiB;CACjB,YAAY;CACZ,SAAS;CACT,cAAc;CACd,WAAW;CACX,oBAAoB;CACpB,yBAAyB;CACzB,aAAa;CACb,cAAc;CACd,aAAa;CACb,0BAA0B;CAC1B,iBAAiB;CACjB,yBAAyB;CACzB,yBAAyB;CAC1B;AACD,IAAM,mBAAmB;AACzB,IAAM,aAAa;AACnB,IAAM,+BAA+B;EAClC,OAA2B;EAC3B,OAA4B;EAC5B,OAAiB;EACjB,OAA0B;EAC1B,OAAmB;EACnB,QAAyB;CAC3B;AACD,IAAM,wBAAwB;EAC3B,OAAkB;EAClB,OAAiB;EACjB,QAAiB;EACjB,OAAiB;EACjB,OAAuB;EACvB,OAA6B;EAC7B,OAAmB;CACrB;AACD,IAAM,2BAA2B;EAC9B,QAAqC;EACrC,QAAqC;EACrC,QAAmC;CACrC;AAyDD,IAAM,MAAM;CACV;CACA;CACA;CACA,oCA5DyC;GACxC,QAA2C;GAC3C,QAA4C;GAC5C,QAA4C;GAC5C,QAA4C;GAC5C,QAA4C;GAC5C,QAAkD;GAClD,QAAkD;GAClD,QAAkD;GAClD,QAAuC;GACvC,QAA8C;GAC9C,QAA6C;GAC7C,QAAoD;GACpD,QAAiC;GACjC,QAAwC;GACxC,QAAkC;GAClC,QAAyC;GACzC,QAAmC;GACnC,QAAwC;GACxC,QAAoC;GACpC,QAA+C;GAC/C,QAAuD;GACvD,QAAwD;GACxD,QAA2C;GAC3C,QAAmD;GACnD,QAA2C;GAC3C,QAAmD;GACnD,QAA2C;GAC3C,QAAmD;GACnD,QAA2C;GAC3C,QAAmD;GACnD,QAA2C;GAC3C,QAAmD;GACnD,QAA2C;GAC3C,QAAmD;GACnD,QAA2C;GAC3C,QAAmD;GACnD,QAA2C;GAC3C,QAAmD;GACnD,QAA4C;GAC5C,QAAoD;GACpD,QAA4C;GAC5C,QAAoD;GACpD,QAA4C;GAC5C,QAAoD;GACpD,QAA6C;GAC7C,QAAqD;GACrD,QAA6C;GAC7C,QAAqD;GACrD,QAA6C;GAC7C,QAAqD;GACrD,QAA6C;GAC7C,QAAmD;GACnD,QAAmD;GACnD,QAAqD;EACvD;CAMC;CACA;CACA;CACA;CACA;CACD;;;;AC3QD,SAAS,SAAS,aAAa,kBAAkB;CAC/C,MAAM,WAAW,IAAI,SAAS,YAAY;AAC1C,KAAI,CAAC,SAAS,SAAS,CACrB,OAAM,IAAI,MAAM,mCAAmC;CAErD,MAAM,EACJ,cACA,QACA,UACA,kBACA,YACA,aACA,sBACA,WACE,eAAe,SAAS;CAC5B,MAAM,gBAAgB,IAAI,mCAAmC;AAC7D,KAAI,CAAC,cACH,OAAM,IAAI,MAAM,0BAA0B,mBAAmB;AAE/D,KAAI,CAAC,iBAAiB,SAAS,cAAc,CAC3C,OAAM,IAAI,MAAM,+BAA+B,cAAc,sBAAsB,mBAAmB;CAExG,MAAM,qBAAqB,sBAAsB,QAAQ,UAAU,iBAAiB;CACpF,MAAM,eAAe,gBACnB,UACA,QACA,oBACA,YACA,aACA,QACA,sBACA,aACD;AACD,QAAO;EACL,QAAQ;EACR,OAAO;EACP,QAAQ;EACR,UAAU;EACV,WAAW;EACZ;;AAEH,SAAS,gBAAgB,UAAU,QAAQ,oBAAoB,YAAY,aAAa,QAAQ,sBAAsB,cAAc;CAClI,MAAM,eAAe,aAAa,IAAI;CACtC,MAAM,gBAAgB,cAAc,IAAI;CACxC,IAAI,cAAc,aAAa;AAC/B,KAAI,WAAW,EACb,eAAc,eAAe;CAE/B,IAAI,cAAc,cAAc;CAChC,IAAI,WAAW;CACf,IAAI,YAAY;CAChB,IAAI,kBAAkB;CACtB,IAAI,mBAAmB;CACvB,IAAI,cAAc;CAClB,MAAM,eAAe,IAAI,MAAM,qBAAqB;AACpD,MAAK,IAAI,cAAc,GAAG,cAAc,sBAAsB,eAAe;EAC3E,MAAM,YAAY,SAAS,UAAU,aAAa,aAAa;EAC/D,IAAI,gBAAgB,cAAc;AAClC,eAAa,eAAe,IAAI,WAAW,SAAS,QAAQ,eAAe,YAAY;AACvF,mBAAiB;AACjB,iBAAe,YAAY;AAC3B,gBAAc,cAAc,MAAM,IAAI,cAAc,IAAI,cAAc,IAAI;AAC1E,aAAW,YAAY,KAAK;AAC5B,cAAY,aAAa,KAAK;AAC9B,oBAAkB,WAAW,IAAI,IAAI;AACrC,qBAAmB,YAAY,IAAI,IAAI;AACvC,gBAAc,kBAAkB,mBAAmB;;AAErD,QAAO;;AAET,SAAS,sBAAsB,QAAQ,UAAU,kBAAkB;CACjE,IAAI,qBAAqB,IAAI,mCAAmC;AAChE,KAAI,WAAW,EACb,KAAI,IAAI,6BAA6B,QACnC,sBAAqB,IAAI,6BAA6B,UAAU,IAAI,sBAAsB;KAE1F,sBAAqB,IAAI,yBAAyB;AAGtD,KAAI,uBAAuB,KAAK,EAC9B,OAAM,IAAI,MAAM,+DAA+D;AAEjF,QAAO;;AAET,SAAS,eAAe,UAAU;CAChC,MAAM,eAAe,SAAS,UAAU,IAAI,OAAO,YAAY,KAAK,KAAK,IAAI;CAC7E,MAAM,SAAS,SAAS,UAAU,IAAI,OAAO,SAAS,aAAa;CACnE,MAAM,WAAW,SAAS,UAAU,IAAI,OAAO,WAAW,aAAa;CACvE,MAAM,mBAAmB,SAAS,UAAU,IAAI,OAAO,oBAAoB,aAAa;CACxF,MAAM,aAAa,SAAS,UAAU,IAAI,OAAO,aAAa,aAAa;CAC3E,MAAM,cAAc,SAAS,UAAU,IAAI,OAAO,cAAc,aAAa,IAAI;CACjF,MAAM,aAAa,SAAS,UAAU,IAAI,OAAO,aAAa,aAAa,IAAI;CAC/E,MAAM,wBAAwB,SAAS,UAAU,IAAI,OAAO,0BAA0B,aAAa,IAAI;CACvG,MAAM,gBAAgB,SAAS,UAAU,IAAI,OAAO,iBAAiB,aAAa;CAClF,MAAM,uBAAuB,SAAS,UAAU,IAAI,OAAO,yBAAyB,aAAa;CACjG,MAAM,sBAAsB,SAAS,UAAU,IAAI,OAAO,yBAAyB,aAAa;AAChG,KAAI,gBAAgB,KAAK,eAAe,EACtC,OAAM,IAAI,MAAM,iCAAiC;AAEnD,KAAI,kBAAkB,EACpB,OAAM,IAAI,MAAM,mDAAmD;AAErE,KAAI,0BAA0B,EAC5B,OAAM,IAAI,MAAM,wCAAwC;AAE1D,QAAO;EACL;EACA;EACA;EACA;EACA;EACA;EACA;EACA,QAAQ,IAAI,mBAAmB;EAChC;;AAEH,SAAS,SAAS,UAAU;AAC1B,MAAK,IAAI,IAAI,GAAG,IAAI,IAAI,gBAAgB,QAAQ,IAC9C,KAAI,SAAS,SAAS,EAAE,KAAK,IAAI,gBAAgB,GAC/C,QAAO;AAGX,QAAO;;;;;ACpHT,IAAM,UAAU;CACd,WAAW;EACT,MAAM,cAAc;EACpB,UAAU,qBAAqB;EAC/B,MAAM;EACP;CAED,MAAM;CACN,IAAI;CACJ,KAAK,KAAK;AACR,SAAO,eAAe,KAAK,OAAO;;CAEpC,MAAM,KAAK,KAAK,QAAQ,QAAQ;EAC9B,MAAM,oBAAoB,MAAM,4BAA4B;EAE5D,MAAM,iBAAiB,OADH,MAAM,MAAM,IAAI,EACK,aAAa;EACtD,MAAM,iBAAiB,SAAS,gBAAgB,kBAAkB;EAClE,MAAM,0BAA0B,IAAI,iBAAiB,eAAe;AACpE,SAAO,cAAc,yBAAyB,QAAQ,IAAI;;CAE5D,OAAO,SAAS;AACd,MAAI,MAAM,QAAQ,QAAQ,CACxB,SAAQ,SAAS,MAAM,EAAE,QAAQ,KAAK,CAAC;MAEvC,SAAQ,QAAQ,KAAK;;CAG1B;;;;ACpCD,IAAM,cAAc;AACpB,IAAI,aAAa;AACjB,IAAM,iBAAN,MACA;CACI,cACA;AACI,MAAI,CAAC,WAED,cAAa,IAAI,gBAAgB,IAAI,KAAK,CAAC,YAAY,EAAE,EAAE,MAAM,0BAA0B,CAAC,CAAC;AAEjG,OAAK,SAAS,IAAI,OAAO,WAAW;;;AAG5C,eAAe,kBAAkB,SAAS,kBAC1C;AACI,KAAI,YACJ;AACI,MAAI,gBAAgB,WAAW;AAC/B,eAAa;;;;;;ACjBrB,IAAM,oBAAoB;CACxB,OAAO;CACP,SAAS;CACV;AACD,SAAS,qBAAqB,QAAQ;AACpC,QAAO,OAAO,mBAAmB,OAAO;;;;;ACF1C,IAAI;AACJ,IAAM,UAAU,EAAE;AAClB,SAAS,cAAc,mBAAmB;AACxC,KAAI,CAAC,WAAW;AACd,cAAY,IAAI,gBAAgB,CAAC;AACjC,YAAU,aAAa,iBAAiB;GACtC,MAAM,EAAE,SAAS,KAAK,mBAAmB,aAAa;AACtD,OAAI,CAAC,QACH,SAAQ,KAAK,8BAA8B,IAAI;AAEjD,WAAQ,KAAK,eAAe;;AAE9B,YAAU,YAAY;GACpB,MAAM;GACN,OAAO,kBAAkB;GACzB,SAAS,kBAAkB;GAC3B;GACD,CAAC;;AAEJ,QAAO;;AAET,SAAS,iBAAiB,KAAK,mBAAmB;CAChD,MAAM,aAAa,cAAc,kBAAkB;AACnD,QAAO,IAAI,SAAS,YAAY;AAC9B,UAAQ,OAAO;AACf,aAAW,YAAY;GAAE,MAAM;GAAQ;GAAK,CAAC;GAC7C;;;;;ACrBJ,IAAM,WAAW;CACf,WAAW;EACT,MAAM,cAAc;EACpB,UAAU,qBAAqB;EAC/B,MAAM;EACP;CAED,MAAM;CACN,IAAI;CACJ,KAAK,KAAK;AACR,SAAO,eAAe,KAAK,QAAQ;;CAErC,MAAM,KAAK,KAAK,QAAQ,QAAQ;EAC9B,MAAM,oBAAoB,MAAM,4BAA4B;EAC5D,MAAM,iBAAiB,MAAM,iBAAiB,KAAK,kBAAkB;EACrE,MAAM,0BAA0B,IAAI,iBAAiB,eAAe;AACpE,SAAO,cAAc,yBAAyB,QAAQ,IAAI;;CAE5D,MAAM,OAAO,SAAS;AACpB,MAAI,MAAM,QAAQ,QAAQ,CACxB,SAAQ,SAAS,MAAM,EAAE,QAAQ,KAAK,CAAC;MAEvC,SAAQ,QAAQ,KAAK;;CAG1B;;;;ACjCD,IAAM,aAAa;CACjB,WAAW;EACT,iBAAiB;EACjB,iBAAiB;EAClB;CACD,kBAAkB;EAChB,iBAAiB;EACjB,iBAAiB;EAClB;CACF;AACD,SAAS,wBAAwB,gBAAgB;CAC/C,MAAM,SAAS,eAAe;AAC9B,KAAI,WAAW,SAAS;EACtB,MAAM,kBAAkB,WAAW,QAAQ;EAC3C,MAAM,eAAe,eAAe;AACpC,OAAK,IAAI,IAAI,GAAG,IAAI,aAAa,QAAQ,IACvC,cAAa,KAAK,gBAAgB,aAAa,GAAG;AAEpD,iBAAe,SAAS,WAAW,QAAQ;;;AAG/C,SAAS,iBAAiB,aAAa;CACrC,MAAM,aAAa,YAAY,aAAa;CAC5C,MAAM,uBAAuB,IAAI,YAAY,WAAW;AACxD,MAAK,IAAI,IAAI,GAAG,IAAI,YAAY,EAAE,EAChC,sBAAqB,KAAK,YAAY,IAAI,MAAM,YAAY,IAAI,IAAI,MAAM,MAAM,YAAY,IAAI,IAAI,MAAM,MAAM;AAElH,QAAO,IAAI,WAAW,qBAAqB,OAAO;;;;;AC3BpD,SAAS,0BAA0B,YAAY;CAC7C,MAAM,eAAe,EAAE;AACvB,MAAK,IAAI,IAAI,GAAG,IAAI,WAAW,WAAW,KAAK;EAC7C,MAAM,YAAY,WAAW,aAAa,GAAG,GAAG,EAAE;EAClD,MAAM,cAAc,IAAI,WAAW,UAAU,WAAW;AACxD,cAAY,IAAI,UAAU;AAC1B,eAAa,KAAK,YAAY;;AAEhC,QAAO;;;;;ACRT,IAAM,yBAAyB;CAC7B,MAAM;CACN,OAAO;CAEP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CAEP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACP,OAAO;CACR;AACD,SAAS,oBAAoB,kBAAkB;CAC7C,MAAM,SAAS,uBAAuB;AACtC,KAAI,OACF,QAAO;AAET,OAAM,IAAI,MAAM,iCAAiC,mBAAmB;;;;;ACvDtE,IAAM,yBAAyB;CAC7B,IAAI;CAEJ,IAAI;CAEJ,IAAI;CAGL;AACD,SAAS,oBAAoB,UAAU;CACrC,MAAM,SAAS,uBAAuB;AACtC,KAAI,OACF,QAAO;AAET,OAAM,IAAI,MAAM,yBAAyB,WAAW;;;;;ACXtD,SAAS,+BAA+B,YAAY;AAClD,KAAI,WAAW,YAAY,EACzB,QAAO,oBAAoB,WAAW,SAAS;AAEjD,QAAO,oBAAoB,WAAW,iBAAiB;;;;;ACPzD,IAAM,sCAAsC;CAC1C,kBAAkB;CAClB,kBAAkB;CAClB,mBAAmB;CACnB,kBAAkB;CAElB,YAAY;CACZ,eAAe;CAChB;AACD,SAAS,oCAAoC,kBAAkB;CAC7D,MAAM,SAAS,oCAAoC;AACnD,KAAI,OACF,QAAO;AAET,OAAM,IAAI,MAAM,iCAAiC,mBAAmB;;;;;ACVtE,IAAM,eAAe;CAAC;CAAS;CAAO;CAAQ;CAAQ;CAAQ;CAAO;CAAO;CAAO;CAAO;CAAO;CAAM;AACvG,IAAM,8BAA8B;CAClC,WAAW,cAAc;CACzB,OAAO,UAAU,eAAe,OAAO;EAAC;EAAQ;EAAS;EAAO,CAAC;CACjE,QAAQ,UAAU;EAChB,IAAI;EACJ,MAAM,aAAa,MAAM,MAAM,IAAI;AACnC,MAAI,WAAW,SAAS,GAAG;GACzB,MAAM,YAAY,WAAW,WAAW,SAAS;AACjD,OAAI,aAAa,SAAS,UAAU,CAClC,UAAS;QAGX,UAAS,WAAW,WAAW,SAAS;AAE1C,SAAO;GACL,YAAY,WAAW,SAAS,cAAc,KAAK,MAAM,GAAG,MAAM,IAAI;GACtE;GACA,KAAK;GACN;;CAEJ;;;;ACnBD,IAAI;AACJ,IAAM,mBAAmB;CACvB,WAAW;EACT,MAAM,cAAc;EACpB,UAAU;EACX;CACD,MAAM,YAAY;AAChB,MAAI,MAAM,mBAAmB,CAC3B,QAAO;AACT,MAAI,kBAAkB,CACpB,QAAO;AACT,SAAO;;CAET,KAAK,OAAO,YAAY;EACtB,MAAMC,sCAAoC,MAAM,sCAAsC;AACtF,gCAA8B,6CAA6CA,oCAAkC;AAC7G,SAAO,CAAC,GAAG,6BAA6B,GAAG,QAAQ;;CAErD,QAAQ,OAAO,YAAY;AACzB,MAAI,4BACF,QAAO,QAAQ,QAAQ,MAAM,EAAE,KAAK,6BAA6B;AAEnE,SAAO;;CAEV;AACD,SAAS,6CAA6C,SAAS;CAC7D,MAAMC,eAAa,CAAC,QAAQ;CAC5B,MAAM,UAAU,EAAE;AAClB,SAAQ,SAAS,WAAW;EAC1B,MAAM,YAAY,OAAO,MAAM,IAAI,CAAC;AACpC,MAAI,aAAa,CAAC,QAAQ,YAAY;AACpC,WAAQ,aAAa;AACrB,gBAAW,KAAK,UAAU;;GAE5B;AACF,cAAW,MAAM,GAAG,MAAM;EACxB,MAAM,SAAS,aAAa,QAAQ,EAAE;EACtC,MAAM,SAAS,aAAa,QAAQ,EAAE;AACtC,MAAI,WAAW,GACb,QAAO;AAET,MAAI,WAAW,GACb,QAAO;AAET,SAAO,SAAS;GAChB;AACF,QAAOA;;;;;ACjDT,IAAM,aAAa,IAAI,QAAQ;AAC/B,IAAM,UAAU,MAAMC,UAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA4B5B,KAAK,WAAW,MAAM,sBAAsB,MAAM;AAChD,OAAK,eAAe,WAAW,MAAM,oBAAoB;;CAE3D,eAAe,WAAW,MAAM,sBAAsB,MAAM;AAC1D,MAAI,UAAU,YAAY,UAAU,cAAc,UAAU,gBAAgB;GAC1E,MAAM,SAAS,UAAU,YAAY,gBAAgB,WAAW,qBAAqB,WAAW;AAChG,aAAU,SAAS,OAAO,KAAK,KAAK,IAAI,KAAK,SAAS,OAAO,KAAK,KAAK,IAAI,KAAK,UAAU,OAAO,IAAI,OAAO,SAAS,KAAK,KAAK,OAAO,IAAI,OAAO,UAAU,KAAK;QAEhK,WAAU,SAAS;AAErB,MAAI,CAAC,UAAU,oBAAoB,UAAU,UAAU,CAAC,UAAU,cAAc,CAAC,UAAU,cAAc,CAAC,UAAU,eAClH;AACF,OAAK,IAAI,IAAI,GAAG,IAAI,UAAU,SAAS,QAAQ,IAC7C,MAAK,eAAe,UAAU,SAAS,IAAI,MAAM,oBAAoB;;;;;;;;;;;;;;;;;AAkB3E,QAAQ,SAAS,IAAI,SAAS;AAC9B,IAAI,SAAS;;;;AC7Db,IAAM,eAAN,MAAmB;;;;;;CAMjB,OAAO,KAAK,SAAS;AACnB,OAAK,aAAa,KAAK,OAAO,KAAK,KAAK;AACxC,OAAK,eAAe;GAClB,MAAM,kBAAkB,SAAS,QAAQ,oBAAoB;AAC7D,UAAO,OAAO,KAAK,KAAK,OAAO,KAAK,SAAS,QAAQ,gBAAgB;AACrE,QAAK,SAAS,OAAO,EAAE,WAAW,KAAK,OAAO,CAAC;;;;CAInD,OAAO,UAAU;AACf,OAAK,SAAS,KAAK;;;;AAIvB,aAAa,YAAY;CACvB,UAAU;CACV,MAAM,cAAc;CACpB,MAAM;CACP;;;;;;;;;;;;;;;;;;;;CCXD,SAASC,OAAK,MAAM,WAAW,IAAI;AAClC,MAAI,OAAO,OACV,MAAK,MAAM;AAEZ,MAAI,QAAQ,OAAO,GAAG,SAAS,WAC9B,QAAO,GAAG,KAAK,KAAK,MAAM,UAAU;AAErC,OAAK,IAAI,IAAI,GAAG,IAAI,KAAK,QAAQ,IAChC,KAAI,OAAO,UAAU,eAAe,KAAK,MAAM,EAAE,EAAE;GAClD,IAAI,OAAO,KAAK;AAChB,OAAI,UAAU,KAAK,QAAW,MAAM,GAAG,KAAK,CAC3C,QAAO;;;;;;;;;;;;;;;;;;CAqBX,SAASC,SAAO,QAAQ,IAAI;AAC3B,MAAI,OAAO,OACV,MAAK;AAEN,SAAO,MAAM,OAAO,GAAG,WAAW,aAAa,GAAG,OAAO,OAAO,GAAG;;;;;;;;;;;;;;;CAgBpE,SAAS,OAAO,QAAQ,UAAQ;AAC/B,MAAI,WAAW,QAAQ,OAAO,WAAW,SACxC,OAAM,IAAI,UAAU,0BAA0B;AAE/C,OAAK,IAAI,OAAOC,SACf,KAAI,OAAO,UAAU,eAAe,KAAKA,UAAQ,IAAI,CACpD,QAAO,OAAOA,SAAO;AAGvB,SAAO;;;;;;;;;CAUR,IAAI,YAAYD,SAAO;EAUtB,MAAM;EAYN,QAAQ,SAAU,OAAO;AACxB,UAAO,UAAU,UAAU;;EAU5B,iBAAiB;EASjB,UAAU;EAUV,uBAAuB;EASvB,eAAe;EACf,CAAC;;;;;;CAOF,IAAIE,cAAYF,SAAO;EAMtB,MAAM;EASN,QAAQ,SAAU,KAAK;AACtB,UAAO,QAAQE,YAAU;;EAQ1B,KAAK;EAOL,KAAK;EAOL,OAAO;EACP,CAAC;AAEF,SAAQ,SAAS;AACjB,SAAQ,OAAOH;AACf,SAAQ,SAASC;AACjB,SAAQ,YAAY;AACpB,SAAQ,YAAYE;;;;;;CC1MpB,IAAIC;CAEJ,IAAI,OAAOA,cAAY;CACvB,IAAIC,cAAYD,cAAY;;;;;;CAO5B,SAAS,eAAgB,OAAO;AAC/B,SAAO,UAAU;;;;;;;;;CASlB,SAAS,uBAAuB,OAAO;AAEtC,SAAO,QAAQ,MAAM,MAAM,eAAe,CAAC,OAAO,eAAe,GAAG,EAAE;;;;;;;;;CAUvE,SAAS,kBAAmB,SAAS,SAAS;AAC7C,MAAI,CAAC,QAAQ,eAAe,QAAQ,CACnC,SAAQ,WAAW;AAEpB,SAAO;;;;;;;CAQR,SAAS,aAAa,OAAO;AAC5B,MAAI,CAAC,MAAO,QAAO,EAAE;EACrB,IAAI,OAAO,uBAAuB,MAAM;AACxC,SAAO,OAAO,KAAK,KAAK,OAAO,mBAAmB,EAAE,CAAC,CAAC;;;;;;;;;CAUvD,SAAS,cAAe,MAAM;AAC7B,SAAO,SAAS,SAAS;AACxB,UAAO,QAAQ,KAAK,QAAQ,QAAQ,KAAK;;;CAI3C,SAAS,KAAK,KAAI,MAAK;AACtB,OAAI,IAAI,KAAK,IACZ,KAAI,OAAO,UAAU,eAAe,KAAK,KAAK,EAAE,CAC/C,MAAK,KAAK,IAAI;;;;;;CASjB,SAAS,SAAS,OAAM,OAAM;EAC7B,IAAI,KAAK,MAAM;AACf,MAAG,EAAE,cAAc,QAAO;GACzB,SAAS,IAAG;AACZ,KAAE,YAAY,MAAM;AACpB,OAAI,IAAI,GAAG;AACX,QAAK,IAAG,EAAE;AACV,SAAM,YAAY,KAAK;;AAExB,MAAG,GAAG,eAAe,OAAM;AAC1B,OAAG,OAAO,SAAS,WAClB,SAAQ,MAAM,mBAAiB,MAAM;AAEtC,MAAG,cAAc;;;CAKnB,IAAI,WAAW,EAAE;CACjB,IAAI,eAA8B,SAAS,eAA8B;CACzE,IAAI,iBAA8B,SAAS,iBAA8B;CACzE,IAAI,YAA8B,SAAS,YAA8B;CACzE,IAAI,qBAA8B,SAAS,qBAA8B;CACzE,IAAI,wBAA8B,SAAS,wBAA8B;CACzE,IAAI,cAA8B,SAAS,cAA8B;CACzE,IAAI,8BAA8B,SAAS,8BAA8B;CACzE,IAAI,eAA8B,SAAS,eAA8B;CACzE,IAAI,gBAA8B,SAAS,gBAA8B;CACzE,IAAI,qBAA8B,SAAS,qBAA8B;CACzE,IAAI,yBAA8B,SAAS,yBAA8B;CACzE,IAAI,gBAA8B,SAAS,gBAA8B;CAGzE,IAAI,gBAAgB,EAAE;CACtB,IAAI,mBAAmB,EAAE;AACS,eAAc,kBAAgC,iBAAiB,KAAG,oBAAoB;AACtF,eAAc,sBAAgC,iBAAiB,KAAG,wBAAwB;CAC5H,IAAI,wBAA8B,cAAc,yBAAgC,iBAAiB,KAAG,2BAA2B;AAC7F,eAAc,sBAAgC,iBAAiB,KAAG,kBAAkB;AACpF,eAAc,yBAAgC,iBAAiB,KAAG,qBAAqB;AACvF,eAAc,uBAAgC,iBAAiB,KAAG,mBAAmB;AACrF,eAAc,+BAAgC,iBAAiB,KAAG,2BAA2B;CAC/H,IAAI,gBAA8B,cAAc,iBAAgC,iBAAiB,KAAG,aAAa;AAC/E,eAAc,qBAAgC,iBAAiB,KAAG,iBAAiB;CACrH,IAAI,sBAA8B,cAAc,uBAAgC,iBAAiB,MAAI,oBAAoB;AAEzF,eAAc,qBAA8B,iBAAiB,MAAI,iBAAiB;AAClF,eAAc,cAA8B,iBAAiB,MAAI,gBAAgB;AACjF,eAAc,4BAA8B,iBAAiB,MAAI,wBAAwB;AACzF,eAAc,iBAA6B,iBAAiB,MAAI,qBAAqB;AACrF,eAAc,sBAA6B,iBAAiB,MAAI,kBAAkB;;;;;;;CAQlH,SAAS,aAAa,MAAM,SAAS;AACpC,MAAG,mBAAmB,OACrB,IAAI,QAAQ;OACR;AACJ,WAAQ;AACR,SAAM,KAAK,MAAM,iBAAiB,MAAM;AACxC,QAAK,UAAU,iBAAiB;AAChC,OAAG,MAAM,kBAAmB,OAAM,kBAAkB,MAAM,aAAa;;AAExE,QAAM,OAAO;AACb,MAAG,QAAS,MAAK,UAAU,KAAK,UAAU,OAAO;AACjD,SAAO;;AAER,cAAa,YAAY,MAAM;AAC/B,MAAK,eAAc,aAAa;;;;;;CAOhC,SAAS,WAAW;AAEpB,UAAS,YAAY;EAKpB,QAAO;EASP,MAAM,SAAS,OAAO;AACrB,UAAO,SAAS,KAAK,QAAQ,KAAK,SAAS,KAAK,SAAS;;EAE1D,UAAS,SAAS,QAAO,YAAW;AACnC,QAAI,IAAI,MAAM,EAAE,EAAE,IAAI,GAAE,IAAE,KAAK,QAAO,IACrC,mBAAkB,KAAK,IAAG,KAAI,QAAO,WAAW;AAEjD,UAAO,IAAI,KAAK,GAAG;;EAOpB,QAAQ,SAAU,WAAW;AAC5B,UAAO,MAAM,UAAU,OAAO,KAAK,MAAM,UAAU;;EAOpD,SAAS,SAAU,MAAM;AACxB,UAAO,MAAM,UAAU,QAAQ,KAAK,MAAM,KAAK;;EAEhD;CAED,SAAS,aAAa,MAAK,SAAQ;AAClC,OAAK,QAAQ;AACb,OAAK,WAAW;AAChB,kBAAgB,KAAK;;CAEtB,SAAS,gBAAgB,MAAK;EAC7B,IAAI,MAAM,KAAK,MAAM,QAAQ,KAAK,MAAM,cAAc;AACtD,MAAI,KAAK,SAAS,KAAK;GACtB,IAAI,KAAK,KAAK,SAAS,KAAK,MAAM;AAClC,WAAQ,MAAK,UAAS,GAAG,OAAO;AAChC,OAAI,CAAC,KAAK,YAAY,GAAG,SAAS,KAAK,UACtC;SAAK,IAAI,IAAI,GAAG,QAAQ,KAAK,MAAM,IAClC,KAAI,OAAO,UAAU,eAAe,KAAK,MAAM,EAAE,CAChD,QAAO,KAAK;;AAIf,QAAK,IAAG,KAAK;AACb,QAAK,OAAO;;;AAGd,cAAa,UAAU,OAAO,SAAS,GAAE;AACxC,kBAAgB,KAAK;AACrB,SAAO,KAAK,MAAM;;AAGnB,UAAS,cAAa,SAAS;;;;;;;;;;;;CAa/B,SAAS,eAAe;CAGxB,SAAS,eAAe,MAAK,MAAK;EACjC,IAAI,IAAI,KAAK;AACb,SAAM,IACL,KAAG,KAAK,OAAO,KAAM,QAAO;;CAI9B,SAAS,cAAc,IAAG,MAAK,SAAQ,SAAQ;AAC9C,MAAG,QACF,MAAK,eAAe,MAAK,QAAQ,IAAI;MAErC,MAAK,KAAK,YAAY;AAEvB,MAAG,IAAG;AACL,WAAQ,eAAe;GACvB,IAAI,MAAM,GAAG;AACb,OAAG,KAAI;AACN,eAAW,mBAAmB,KAAI,IAAG,QAAQ;AAC7C,oBAAgB,KAAI,IAAG,QAAQ;;;;CAIlC,SAAS,iBAAiB,IAAG,MAAK,MAAK;EAEtC,IAAI,IAAI,eAAe,MAAK,KAAK;AACjC,MAAG,KAAG,GAAE;GACP,IAAI,YAAY,KAAK,SAAO;AAC5B,UAAM,IAAE,UACP,MAAK,KAAK,KAAK,EAAE;AAElB,QAAK,SAAS;AACd,OAAG,IAAG;IACL,IAAI,MAAM,GAAG;AACb,QAAG,KAAI;AACN,wBAAmB,KAAI,IAAG,KAAK;AAC/B,UAAK,eAAe;;;QAItB,OAAM,IAAI,aAAa,+BAAc,IAAI,MAAM,GAAG,UAAQ,MAAI,KAAK,CAAC;;AAGtE,cAAa,YAAY;EACxB,QAAO;EACP,MAAK,SAAS,UAAU;EACxB,cAAc,SAAS,KAAK;GAK3B,IAAI,IAAI,KAAK;AACb,UAAM,KAAI;IACT,IAAI,OAAO,KAAK;AAEhB,QAAG,KAAK,YAAY,IACnB,QAAO;;;EAIV,cAAc,SAAS,MAAM;GAC5B,IAAI,KAAK,KAAK;AACd,OAAG,MAAM,MAAI,KAAK,cACjB,OAAM,IAAI,aAAa,oBAAoB;GAE5C,IAAI,UAAU,KAAK,aAAa,KAAK,SAAS;AAC9C,iBAAc,KAAK,eAAc,MAAK,MAAK,QAAQ;AACnD,UAAO;;EAGR,gBAAgB,SAAS,MAAM;GAC9B,IAAI,KAAK,KAAK,cAAc;AAC5B,OAAG,MAAM,MAAI,KAAK,cACjB,OAAM,IAAI,aAAa,oBAAoB;AAE5C,aAAU,KAAK,eAAe,KAAK,cAAa,KAAK,UAAU;AAC/D,iBAAc,KAAK,eAAc,MAAK,MAAK,QAAQ;AACnD,UAAO;;EAIR,iBAAiB,SAAS,KAAK;GAC9B,IAAI,OAAO,KAAK,aAAa,IAAI;AACjC,oBAAiB,KAAK,eAAc,MAAK,KAAK;AAC9C,UAAO;;EAMR,mBAAkB,SAAS,cAAa,WAAU;GACjD,IAAI,OAAO,KAAK,eAAe,cAAa,UAAU;AACtD,oBAAiB,KAAK,eAAc,MAAK,KAAK;AAC9C,UAAO;;EAER,gBAAgB,SAAS,cAAc,WAAW;GACjD,IAAI,IAAI,KAAK;AACb,UAAM,KAAI;IACT,IAAI,OAAO,KAAK;AAChB,QAAG,KAAK,aAAa,aAAa,KAAK,gBAAgB,aACtD,QAAO;;AAGT,UAAO;;EAER;;;;;;;;;;;;;;;;CAiBD,SAASE,sBAAoB;AAG7B,qBAAkB,YAAY;EAgB7B,YAAY,SAAS,SAAS,SAAS;AACrC,UAAO;;EAwBT,gBAAgB,SAAS,cAAe,eAAe,SAAQ;GAC9D,IAAI,MAAM,IAAI,UAAU;AACxB,OAAI,iBAAiB;AACrB,OAAI,aAAa,IAAI,UAAU;AAC/B,OAAI,UAAU,WAAW;AACzB,OAAI,QACH,KAAI,YAAY,QAAQ;AAEzB,OAAI,eAAc;IACjB,IAAI,OAAO,IAAI,gBAAgB,cAAc,cAAc;AAC3D,QAAI,YAAY,KAAK;;AAEtB,UAAO;;EAuBR,oBAAoB,SAAS,eAAe,UAAU,UAAS;GAC9D,IAAI,OAAO,IAAI,cAAc;AAC7B,QAAK,OAAO;AACZ,QAAK,WAAW;AAChB,QAAK,WAAW,YAAY;AAC5B,QAAK,WAAW,YAAY;AAE5B,UAAO;;EAER;;;;CAOD,SAAS,OAAO;AAGhB,MAAK,YAAY;EAChB,YAAa;EACb,WAAY;EACZ,iBAAkB;EAClB,aAAc;EACd,YAAa;EACb,YAAa;EACb,YAAa;EACb,eAAgB;EAChB,WAAY;EACZ,cAAe;EACf,QAAS;EACT,WAAY;EAEZ,cAAa,SAAS,UAAU,UAAS;AACxC,UAAO,cAAc,MAAK,UAAS,SAAS;;EAE7C,cAAa,SAAS,UAAU,UAAS;AACxC,iBAAc,MAAM,UAAS,UAAU,uCAAuC;AAC9E,OAAG,SACF,MAAK,YAAY,SAAS;;EAG5B,aAAY,SAAS,UAAS;AAC7B,UAAO,aAAa,MAAK,SAAS;;EAEnC,aAAY,SAAS,UAAS;AAC7B,UAAO,KAAK,aAAa,UAAS,KAAK;;EAExC,eAAc,WAAU;AACvB,UAAO,KAAK,cAAc;;EAE3B,WAAU,SAAS,MAAK;AACvB,UAAO,UAAU,KAAK,iBAAe,MAAK,MAAK,KAAK;;EAGrD,WAAU,WAAU;GACnB,IAAI,QAAQ,KAAK;AACjB,UAAM,OAAM;IACX,IAAI,OAAO,MAAM;AACjB,QAAG,QAAQ,KAAK,YAAY,aAAa,MAAM,YAAY,WAAU;AACpE,UAAK,YAAY,KAAK;AACtB,WAAM,WAAW,KAAK,KAAK;WACvB;AACJ,WAAM,WAAW;AACjB,aAAQ;;;;EAKX,aAAY,SAAS,SAAS,SAAQ;AACrC,UAAO,KAAK,cAAc,eAAe,WAAW,SAAQ,QAAQ;;EAGlE,eAAc,WAAU;AACvB,UAAO,KAAK,WAAW,SAAO;;EAgB/B,cAAa,SAAS,cAAa;GAClC,IAAI,KAAK;AACT,UAAM,IAAG;IACR,IAAI,MAAM,GAAG;AAEb,QAAG,KACF;UAAI,IAAI,KAAK,IACd,KAAI,OAAO,UAAU,eAAe,KAAK,KAAK,EAAE,IAAI,IAAI,OAAO,aAC9D,QAAO;;AAIR,SAAK,GAAG,YAAY,iBAAe,GAAG,gBAAgB,GAAG;;AAE1D,UAAO;;EAGR,oBAAmB,SAAS,QAAO;GAClC,IAAI,KAAK;AACT,UAAM,IAAG;IACR,IAAI,MAAM,GAAG;AAEb,QAAG,KACF;SAAG,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,CACnD,QAAO,IAAI;;AAGb,SAAK,GAAG,YAAY,iBAAe,GAAG,gBAAgB,GAAG;;AAE1D,UAAO;;EAGR,oBAAmB,SAAS,cAAa;AAExC,UADa,KAAK,aAAa,aAAa,IAC3B;;EAErB;CAGD,SAAS,YAAY,GAAE;AACtB,SAAO,KAAK,OAAO,UACX,KAAK,OAAO,UACZ,KAAK,OAAO,WACZ,KAAK,QAAO,YACZ,OAAK,EAAE,YAAY,GAAC;;AAI7B,MAAK,UAAS,KAAK;AACnB,MAAK,UAAS,KAAK,UAAU;;;;;CAM7B,SAAS,WAAW,MAAK,UAAS;AACjC,MAAG,SAAS,KAAK,CAChB,QAAO;AAER,MAAG,OAAO,KAAK,WACd;AACC,OAAG,WAAW,MAAK,SAAS,CAAE,QAAO;SACzB,OAAK,KAAK;;CAMzB,SAAS,WAAU;AAClB,OAAK,gBAAgB;;CAGtB,SAAS,gBAAgB,KAAI,IAAG,SAAQ;AACvC,SAAO,IAAI;AAEX,MADS,QAAQ,iBACPD,YAAU,MAEnB,IAAG,OAAO,QAAQ,SAAO,QAAQ,YAAU,MAAM,QAAQ;;CAI3D,SAAS,mBAAmB,KAAI,IAAG,SAAQ,QAAO;AACjD,SAAO,IAAI;AAEX,MADS,QAAQ,iBACPA,YAAU,MAEnB,QAAO,GAAG,OAAO,QAAQ,SAAO,QAAQ,YAAU;;;;;;;;;;;;;;CAgBpD,SAAS,eAAgB,KAAK,IAAI,UAAU;AAC3C,MAAG,OAAO,IAAI,MAAK;AAClB,OAAI;GAEJ,IAAI,KAAK,GAAG;AACZ,OAAI,SACH,IAAG,GAAG,YAAY;QACZ;IACN,IAAI,QAAQ,GAAG;IACf,IAAI,IAAI;AACR,WAAO,OAAO;AACb,QAAG,OAAO;AACV,aAAQ,MAAM;;AAEf,OAAG,SAAS;AACZ,WAAO,GAAG,GAAG;;;;;;;;;;;;;;;;CAiBhB,SAAS,aAAc,YAAY,OAAO;EACzC,IAAI,WAAW,MAAM;EACrB,IAAI,OAAO,MAAM;AACjB,MAAI,SACH,UAAS,cAAc;MAEvB,YAAW,aAAa;AAEzB,MAAI,KACH,MAAK,kBAAkB;MAEvB,YAAW,YAAY;AAExB,QAAM,aAAa;AACnB,QAAM,kBAAkB;AACxB,QAAM,cAAc;AACpB,iBAAe,WAAW,eAAe,WAAW;AACpD,SAAO;;;;;;;CAQR,SAAS,uBAAuB,MAAM;AACrC,SACC,SACC,KAAK,aAAa,KAAK,iBAAiB,KAAK,aAAa,KAAK,0BAA0B,KAAK,aAAa,KAAK;;;;;;;CASnH,SAAS,sBAAsB,MAAM;AACpC,SACC,SACC,cAAc,KAAK,IACnB,WAAW,KAAK,IAChB,cAAc,KAAK,IACnB,KAAK,aAAa,KAAK,0BACvB,KAAK,aAAa,KAAK,gBACvB,KAAK,aAAa,KAAK;;;;;;;CAS1B,SAAS,cAAc,MAAM;AAC5B,SAAO,QAAQ,KAAK,aAAa,KAAK;;;;;;;CAQvC,SAAS,cAAc,MAAM;AAC5B,SAAO,QAAQ,KAAK,aAAa,KAAK;;;;;;;CAOvC,SAAS,WAAW,MAAM;AACzB,SAAO,QAAQ,KAAK,aAAa,KAAK;;;;;;;;;;;;CAavC,SAAS,2BAA2B,KAAK,OAAO;EAC/C,IAAI,mBAAmB,IAAI,cAAc,EAAE;AAC3C,MAAI,KAAK,kBAAkB,cAAc,IAAI,cAAc,MAAM,CAChE,QAAO;EAER,IAAI,cAAc,KAAK,kBAAkB,cAAc;AACvD,SAAO,EAAE,SAAS,eAAe,iBAAiB,QAAQ,YAAY,GAAG,iBAAiB,QAAQ,MAAM;;;;;;;;;;;;CAazG,SAAS,6BAA6B,KAAK,OAAO;EACjD,IAAI,mBAAmB,IAAI,cAAc,EAAE;EAE3C,SAAS,8BAA8B,MAAM;AAC5C,UAAO,cAAc,KAAK,IAAI,SAAS;;AAGxC,MAAI,KAAK,kBAAkB,8BAA8B,CACxD,QAAO;EAER,IAAI,cAAc,KAAK,kBAAkB,cAAc;AACvD,SAAO,EAAE,SAAS,eAAe,iBAAiB,QAAQ,YAAY,GAAG,iBAAiB,QAAQ,MAAM;;;;;;;;;;;;;;;CAgBzG,SAAS,+BAA+B,QAAQ,MAAM,OAAO;AAE5D,MAAI,CAAC,uBAAuB,OAAO,CAClC,OAAM,IAAI,aAAa,uBAAuB,iCAAiC,OAAO,SAAS;AAKhG,MAAI,SAAS,MAAM,eAAe,OACjC,OAAM,IAAI,aAAa,eAAe,sBAAsB;AAE7D,MAEC,CAAC,sBAAsB,KAAK,IAK3B,cAAc,KAAK,IAAI,OAAO,aAAa,KAAK,cAEjD,OAAM,IAAI,aACT,uBACA,0BAA0B,KAAK,WAAW,2BAA2B,OAAO,SAC5E;;;;;;;;;;;;;;;CAiBH,SAAS,qCAAqC,QAAQ,MAAM,OAAO;EAClE,IAAI,mBAAmB,OAAO,cAAc,EAAE;EAC9C,IAAI,iBAAiB,KAAK,cAAc,EAAE;AAG1C,MAAI,KAAK,aAAa,KAAK,wBAAwB;GAClD,IAAI,oBAAoB,eAAe,OAAO,cAAc;AAE5D,OAAI,kBAAkB,SAAS,KAAK,KAAK,gBAAgB,WAAW,CACnE,OAAM,IAAI,aAAa,uBAAuB,4CAA4C;AAI3F,OAAI,kBAAkB,WAAW,KAAK,CAAC,2BAA2B,QAAQ,MAAM,CAC/E,OAAM,IAAI,aAAa,uBAAuB,yDAAyD;;AAIzG,MAAI,cAAc,KAAK,EAGtB;OAAI,CAAC,2BAA2B,QAAQ,MAAM,CAC7C,OAAM,IAAI,aAAa,uBAAuB,uDAAuD;;AAIvG,MAAI,cAAc,KAAK,EAAE;AAExB,OAAI,KAAK,kBAAkB,cAAc,CACxC,OAAM,IAAI,aAAa,uBAAuB,8BAA8B;GAE7E,IAAI,qBAAqB,KAAK,kBAAkB,cAAc;AAE9D,OAAI,SAAS,iBAAiB,QAAQ,mBAAmB,GAAG,iBAAiB,QAAQ,MAAM,CAC1F,OAAM,IAAI,aAAa,uBAAuB,iDAAiD;AAGhG,OAAI,CAAC,SAAS,mBACb,OAAM,IAAI,aAAa,uBAAuB,uDAAuD;;;;;;;;;;;;;;;;CAkBxG,SAAS,uCAAuC,QAAQ,MAAM,OAAO;EACpE,IAAI,mBAAmB,OAAO,cAAc,EAAE;EAC9C,IAAI,iBAAiB,KAAK,cAAc,EAAE;AAG1C,MAAI,KAAK,aAAa,KAAK,wBAAwB;GAClD,IAAI,oBAAoB,eAAe,OAAO,cAAc;AAE5D,OAAI,kBAAkB,SAAS,KAAK,KAAK,gBAAgB,WAAW,CACnE,OAAM,IAAI,aAAa,uBAAuB,4CAA4C;AAG3F,OAAI,kBAAkB,WAAW,KAAK,CAAC,6BAA6B,QAAQ,MAAM,CACjF,OAAM,IAAI,aAAa,uBAAuB,yDAAyD;;AAIzG,MAAI,cAAc,KAAK,EAEtB;OAAI,CAAC,6BAA6B,QAAQ,MAAM,CAC/C,OAAM,IAAI,aAAa,uBAAuB,uDAAuD;;AAIvG,MAAI,cAAc,KAAK,EAAE;GACxB,SAAS,8BAA8B,QAAM;AAC5C,WAAO,cAAcE,OAAK,IAAIA,WAAS;;AAIxC,OAAI,KAAK,kBAAkB,8BAA8B,CACxD,OAAM,IAAI,aAAa,uBAAuB,8BAA8B;GAE7E,IAAI,qBAAqB,KAAK,kBAAkB,cAAc;AAE9D,OAAI,SAAS,iBAAiB,QAAQ,mBAAmB,GAAG,iBAAiB,QAAQ,MAAM,CAC1F,OAAM,IAAI,aAAa,uBAAuB,iDAAiD;;;;;;;;;;;;;CAelG,SAAS,cAAc,QAAQ,MAAM,OAAO,sBAAsB;AAEjE,iCAA+B,QAAQ,MAAM,MAAM;AAInD,MAAI,OAAO,aAAa,KAAK,cAC5B,EAAC,wBAAwB,sCAAsC,QAAQ,MAAM,MAAM;EAGpF,IAAI,KAAK,KAAK;AACd,MAAG,GACF,IAAG,YAAY,KAAK;AAErB,MAAG,KAAK,aAAa,wBAAuB;GAC3C,IAAI,WAAW,KAAK;AACpB,OAAI,YAAY,KACf,QAAO;GAER,IAAI,UAAU,KAAK;QAEnB,YAAW,UAAU;EAEtB,IAAI,MAAM,QAAQ,MAAM,kBAAkB,OAAO;AAEjD,WAAS,kBAAkB;AAC3B,UAAQ,cAAc;AAGtB,MAAG,IACF,KAAI,cAAc;MAElB,QAAO,aAAa;AAErB,MAAG,SAAS,KACX,QAAO,YAAY;MAEnB,OAAM,kBAAkB;AAEzB,KAAE;AACD,YAAS,aAAa;GAEtB,IAAI,YAAY,OAAO,iBAAiB;AACxC,wBAAqB,UAAU,UAAU;WACnC,aAAa,YAAY,WAAU,SAAS;AACnD,iBAAe,OAAO,iBAAe,QAAQ,OAAO;AAEpD,MAAI,KAAK,YAAY,uBACpB,MAAK,aAAa,KAAK,YAAY;AAEpC,SAAO;;;;;;;;CASR,SAAS,qBAAqB,MAAM,kBAAkB;AACrD,MAAI,KAAK,kBAAkB,iBAC1B;AAGD,OAAK,gBAAgB;AAGrB,MAAI,KAAK,aAAa,gBAAgB,KAAK,WAC1C,MAAK,IAAI,IAAI,GAAG,IAAI,KAAK,WAAW,QAAQ,KAAK;GAChD,IAAI,OAAO,KAAK,WAAW,KAAK,EAAE;AAClC,OAAI,KACH,MAAK,gBAAgB;;EAMxB,IAAI,QAAQ,KAAK;AACjB,SAAO,OAAO;AACb,wBAAqB,OAAO,iBAAiB;AAC7C,WAAQ,MAAM;;;;;;;;;;;;;;CAehB,SAAS,mBAAoB,YAAY,UAAU;AAClD,MAAI,SAAS,WACZ,UAAS,WAAW,YAAY,SAAS;AAE1C,WAAS,aAAa;AACtB,WAAS,kBAAkB,WAAW;AACtC,WAAS,cAAc;AACvB,MAAI,SAAS,gBACZ,UAAS,gBAAgB,cAAc;MAEvC,YAAW,aAAa;AAEzB,aAAW,YAAY;AACvB,iBAAe,WAAW,eAAe,YAAY,SAAS;EAG9D,IAAI,YAAY,WAAW,iBAAiB;AAC5C,uBAAqB,UAAU,UAAU;AAEzC,SAAO;;AAGR,UAAS,YAAY;EAEpB,UAAY;EACZ,UAAY;EAOZ,SAAW;EACX,iBAAmB;EACnB,MAAO;EAEP,cAAgB,SAAS,UAAU,UAAS;AAC3C,OAAG,SAAS,YAAY,wBAAuB;IAC9C,IAAI,QAAQ,SAAS;AACrB,WAAM,OAAM;KACX,IAAI,OAAO,MAAM;AACjB,UAAK,aAAa,OAAM,SAAS;AACjC,aAAQ;;AAET,WAAO;;AAER,iBAAc,MAAM,UAAU,SAAS;AACvC,wBAAqB,UAAU,KAAK;AACpC,OAAI,KAAK,oBAAoB,QAAQ,SAAS,aAAa,aAC1D,MAAK,kBAAkB;AAGxB,UAAO;;EAER,aAAe,SAAS,UAAS;AAChC,OAAG,KAAK,mBAAmB,SAC1B,MAAK,kBAAkB;AAExB,UAAO,aAAa,MAAK,SAAS;;EAEnC,cAAc,SAAU,UAAU,UAAU;AAE3C,iBAAc,MAAM,UAAU,UAAU,uCAAuC;AAC/E,wBAAqB,UAAU,KAAK;AACpC,OAAI,SACH,MAAK,YAAY,SAAS;AAE3B,OAAI,cAAc,SAAS,CAC1B,MAAK,kBAAkB;;EAIzB,YAAa,SAAS,cAAa,MAAK;AACvC,UAAO,WAAW,MAAK,cAAa,KAAK;;EAG1C,gBAAiB,SAAS,IAAG;GAC5B,IAAI,MAAM;AACV,cAAW,KAAK,iBAAgB,SAAS,MAAK;AAC7C,QAAG,KAAK,YAAY,cACnB;SAAG,KAAK,aAAa,KAAK,IAAI,IAAG;AAChC,YAAM;AACN,aAAO;;;KAGR;AACF,UAAO;;EAoBR,wBAAwB,SAAS,YAAY;GAC5C,IAAI,gBAAgB,aAAa,WAAW;AAC5C,UAAO,IAAI,aAAa,MAAM,SAAS,MAAM;IAC5C,IAAI,KAAK,EAAE;AACX,QAAI,cAAc,SAAS,EAC1B,YAAW,KAAK,iBAAiB,SAAS,MAAM;AAC/C,SAAG,SAAS,QAAQ,KAAK,aAAa,cAAc;MACnD,IAAI,iBAAiB,KAAK,aAAa,QAAQ;AAE/C,UAAI,gBAAgB;OAEnB,IAAI,UAAU,eAAe;AAC7B,WAAI,CAAC,SAAS;QACb,IAAI,oBAAoB,aAAa,eAAe;AACpD,kBAAU,cAAc,MAAM,cAAc,kBAAkB,CAAC;;AAEhE,WAAG,QACF,IAAG,KAAK,KAAK;;;MAIf;AAEH,WAAO;KACN;;EAIH,eAAgB,SAAS,SAAQ;GAChC,IAAI,OAAO,IAAI,SAAS;AACxB,QAAK,gBAAgB;AACrB,QAAK,WAAW;AAChB,QAAK,UAAU;AACf,QAAK,YAAY;AACjB,QAAK,aAAa,IAAI,UAAU;GAChC,IAAI,QAAQ,KAAK,aAAa,IAAI,cAAc;AAChD,SAAM,gBAAgB;AACtB,UAAO;;EAER,wBAAyB,WAAU;GAClC,IAAI,OAAO,IAAI,kBAAkB;AACjC,QAAK,gBAAgB;AACrB,QAAK,aAAa,IAAI,UAAU;AAChC,UAAO;;EAER,gBAAiB,SAAS,MAAK;GAC9B,IAAI,OAAO,IAAIC,QAAM;AACrB,QAAK,gBAAgB;AACrB,QAAK,WAAW,KAAK;AACrB,UAAO;;EAER,eAAgB,SAAS,MAAK;GAC7B,IAAI,OAAO,IAAI,SAAS;AACxB,QAAK,gBAAgB;AACrB,QAAK,WAAW,KAAK;AACrB,UAAO;;EAER,oBAAqB,SAAS,MAAK;GAClC,IAAI,OAAO,IAAI,cAAc;AAC7B,QAAK,gBAAgB;AACrB,QAAK,WAAW,KAAK;AACrB,UAAO;;EAER,6BAA8B,SAAS,QAAO,MAAK;GAClD,IAAI,OAAO,IAAI,uBAAuB;AACtC,QAAK,gBAAgB;AACrB,QAAK,UAAU,KAAK,WAAW,KAAK,SAAS;AAC7C,QAAK,YAAY,KAAK,OAAO;AAC7B,UAAO;;EAER,iBAAkB,SAAS,MAAK;GAC/B,IAAI,OAAO,IAAI,MAAM;AACrB,QAAK,gBAAgB;AACrB,QAAK,OAAO;AACZ,QAAK,WAAW;AAChB,QAAK,YAAY;AACjB,QAAK,YAAY;AACjB,UAAO;;EAER,uBAAwB,SAAS,MAAK;GACrC,IAAI,OAAO,IAAI,iBAAiB;AAChC,QAAK,gBAAgB;AACrB,QAAK,WAAW;AAChB,UAAO;;EAGR,iBAAkB,SAAS,cAAa,eAAc;GACrD,IAAI,OAAO,IAAI,SAAS;GACxB,IAAI,KAAK,cAAc,MAAM,IAAI;GACjC,IAAI,QAAQ,KAAK,aAAa,IAAI,cAAc;AAChD,QAAK,aAAa,IAAI,UAAU;AAChC,QAAK,gBAAgB;AACrB,QAAK,WAAW;AAChB,QAAK,UAAU;AACf,QAAK,eAAe;AACpB,OAAG,GAAG,UAAU,GAAE;AACjB,SAAK,SAAS,GAAG;AACjB,SAAK,YAAY,GAAG;SAGpB,MAAK,YAAY;AAElB,SAAM,gBAAgB;AACtB,UAAO;;EAGR,mBAAoB,SAAS,cAAa,eAAc;GACvD,IAAI,OAAO,IAAI,MAAM;GACrB,IAAI,KAAK,cAAc,MAAM,IAAI;AACjC,QAAK,gBAAgB;AACrB,QAAK,WAAW;AAChB,QAAK,OAAO;AACZ,QAAK,eAAe;AACpB,QAAK,YAAY;AACjB,OAAG,GAAG,UAAU,GAAE;AACjB,SAAK,SAAS,GAAG;AACjB,SAAK,YAAY,GAAG;SAGpB,MAAK,YAAY;AAElB,UAAO;;EAER;AACD,UAAS,UAAS,KAAK;CAGvB,SAAS,UAAU;AAClB,OAAK,SAAS,EAAE;;AAEjB,SAAQ,YAAY;EACnB,UAAW;EACX,cAAe,SAAS,MAAK;AAC5B,UAAO,KAAK,iBAAiB,KAAK,IAAE;;EAErC,cAAe,SAAS,MAAK;GAC5B,IAAI,OAAO,KAAK,iBAAiB,KAAK;AACtC,UAAO,QAAQ,KAAK,SAAS;;EAE9B,kBAAmB,SAAS,MAAK;AAChC,UAAO,KAAK,WAAW,aAAa,KAAK;;EAE1C,cAAe,SAAS,MAAM,OAAM;GACnC,IAAI,OAAO,KAAK,cAAc,gBAAgB,KAAK;AACnD,QAAK,QAAQ,KAAK,YAAY,KAAK;AACnC,QAAK,iBAAiB,KAAK;;EAE5B,iBAAkB,SAAS,MAAK;GAC/B,IAAI,OAAO,KAAK,iBAAiB,KAAK;AACtC,WAAQ,KAAK,oBAAoB,KAAK;;EAIvC,aAAY,SAAS,UAAS;AAC7B,OAAG,SAAS,aAAa,uBACxB,QAAO,KAAK,aAAa,UAAS,KAAK;OAEvC,QAAO,mBAAmB,MAAK,SAAS;;EAG1C,kBAAmB,SAAS,SAAQ;AACnC,UAAO,KAAK,WAAW,aAAa,QAAQ;;EAE7C,oBAAqB,SAAS,SAAQ;AACrC,UAAO,KAAK,WAAW,eAAe,QAAQ;;EAE/C,qBAAsB,SAAS,SAAQ;AAEtC,UAAO,KAAK,WAAW,gBAAgB,QAAQ,SAAS;;EAGzD,mBAAoB,SAAS,cAAc,WAAU;GACpD,IAAI,MAAM,KAAK,mBAAmB,cAAc,UAAU;AAC1D,UAAO,KAAK,oBAAoB,IAAI;;EAGrC,gBAAiB,SAAS,cAAc,WAAU;AACjD,UAAO,KAAK,mBAAmB,cAAc,UAAU,IAAE;;EAE1D,gBAAiB,SAAS,cAAc,WAAU;GACjD,IAAI,OAAO,KAAK,mBAAmB,cAAc,UAAU;AAC3D,UAAO,QAAQ,KAAK,SAAS;;EAE9B,gBAAiB,SAAS,cAAc,eAAe,OAAM;GAC5D,IAAI,OAAO,KAAK,cAAc,kBAAkB,cAAc,cAAc;AAC5E,QAAK,QAAQ,KAAK,YAAY,KAAK;AACnC,QAAK,iBAAiB,KAAK;;EAE5B,oBAAqB,SAAS,cAAc,WAAU;AACrD,UAAO,KAAK,WAAW,eAAe,cAAc,UAAU;;EAG/D,sBAAuB,SAAS,SAAQ;AACvC,UAAO,IAAI,aAAa,MAAK,SAAS,MAAK;IAC1C,IAAI,KAAK,EAAE;AACX,eAAW,MAAK,SAAS,MAAK;AAC7B,SAAG,SAAS,QAAQ,KAAK,YAAY,iBAAiB,YAAY,OAAO,KAAK,WAAW,SACxF,IAAG,KAAK,KAAK;MAEb;AACF,WAAO;KACN;;EAEH,wBAAyB,SAAS,cAAc,WAAU;AACzD,UAAO,IAAI,aAAa,MAAK,SAAS,MAAK;IAC1C,IAAI,KAAK,EAAE;AACX,eAAW,MAAK,SAAS,MAAK;AAC7B,SAAG,SAAS,QAAQ,KAAK,aAAa,iBAAiB,iBAAiB,OAAO,KAAK,iBAAiB,kBAAkB,cAAc,OAAO,KAAK,aAAa,WAC7J,IAAG,KAAK,KAAK;MAEb;AACF,WAAO;KAEN;;EAEH;AACD,UAAS,UAAU,uBAAuB,QAAQ,UAAU;AAC5D,UAAS,UAAU,yBAAyB,QAAQ,UAAU;AAG9D,UAAS,SAAQ,KAAK;CACtB,SAAS,OAAO;AAEhB,MAAK,UAAU,WAAW;AAC1B,UAAS,MAAK,KAAK;CAGnB,SAAS,gBAAgB;AAEzB,eAAc,YAAY;EACzB,MAAO;EACP,eAAgB,SAAS,QAAQ,OAAO;AACvC,UAAO,KAAK,KAAK,UAAU,QAAQ,SAAO,MAAM;;EAEjD,YAAY,SAAS,MAAM;AAC1B,UAAO,KAAK,OAAK;AACjB,QAAK,YAAY,KAAK,OAAO;AAC7B,QAAK,SAAS,KAAK;;EAEpB,YAAY,SAAS,QAAO,MAAM;AACjC,QAAK,YAAY,QAAO,GAAE,KAAK;;EAGhC,aAAY,SAAS,UAAS;AAC7B,SAAM,IAAI,MAAM,iBAAiB,uBAAuB;;EAEzD,YAAY,SAAS,QAAQ,OAAO;AACnC,QAAK,YAAY,QAAO,OAAM,GAAG;;EAElC,aAAa,SAAS,QAAQ,OAAO,MAAM;GAC1C,IAAI,QAAQ,KAAK,KAAK,UAAU,GAAE,OAAO;GACzC,IAAI,MAAM,KAAK,KAAK,UAAU,SAAO,MAAM;AAC3C,UAAO,QAAQ,OAAO;AACtB,QAAK,YAAY,KAAK,OAAO;AAC7B,QAAK,SAAS,KAAK;;EAEpB;AACD,UAAS,eAAc,KAAK;CAC5B,SAASA,SAAO;AAEhB,QAAK,YAAY;EAChB,UAAW;EACX,UAAW;EACX,WAAY,SAAS,QAAQ;GAC5B,IAAI,OAAO,KAAK;GAChB,IAAI,UAAU,KAAK,UAAU,OAAO;AACpC,UAAO,KAAK,UAAU,GAAG,OAAO;AAChC,QAAK,OAAO,KAAK,YAAY;AAC7B,QAAK,SAAS,KAAK;GACnB,IAAI,UAAU,KAAK,cAAc,eAAe,QAAQ;AACxD,OAAG,KAAK,WACP,MAAK,WAAW,aAAa,SAAS,KAAK,YAAY;AAExD,UAAO;;EAER;AACD,UAASA,QAAK,cAAc;CAC5B,SAAS,UAAU;AAEnB,SAAQ,YAAY;EACnB,UAAW;EACX,UAAW;EACX;AACD,UAAS,SAAQ,cAAc;CAE/B,SAAS,eAAe;AAExB,cAAa,YAAY;EACxB,UAAW;EACX,UAAW;EACX;AACD,UAAS,cAAa,cAAc;CAGpC,SAAS,eAAe;AAExB,cAAa,UAAU,WAAW;AAClC,UAAS,cAAa,KAAK;CAE3B,SAAS,WAAW;AAEpB,UAAS,UAAU,WAAW;AAC9B,UAAS,UAAS,KAAK;CAEvB,SAAS,SAAS;AAElB,QAAO,UAAU,WAAW;AAC5B,UAAS,QAAO,KAAK;CAErB,SAAS,kBAAkB;AAE3B,iBAAgB,UAAU,WAAW;AACrC,UAAS,iBAAgB,KAAK;CAE9B,SAAS,mBAAmB;AAE5B,kBAAiB,UAAU,WAAW;AACtC,kBAAiB,UAAU,WAAW;AACtC,UAAS,kBAAiB,KAAK;CAG/B,SAAS,wBAAwB;AAEjC,uBAAsB,UAAU,WAAW;AAC3C,UAAS,uBAAsB,KAAK;CACpC,SAAS,gBAAe;AACxB,eAAc,UAAU,oBAAoB,SAAS,MAAK,QAAO,YAAW;AAC3E,SAAO,sBAAsB,KAAK,MAAK,QAAO,WAAW;;AAE1D,MAAK,UAAU,WAAW;CAC1B,SAAS,sBAAsB,QAAO,YAAW;EAChD,IAAI,MAAM,EAAE;EACZ,IAAI,UAAU,KAAK,YAAY,KAAK,KAAK,mBAAmB;EAC5D,IAAI,SAAS,QAAQ;EACrB,IAAI,MAAM,QAAQ;AAElB,MAAG,OAAO,UAAU,MAAK;GAExB,IAAI,SAAS,QAAQ,aAAa,IAAI;AACtC,OAAG,UAAU,MAEZ,IAAI,oBAAkB,CACtB;IAAC,WAAU;IAAI,QAAO;IAAK,CAE1B;;AAGH,oBAAkB,MAAK,KAAI,QAAO,YAAW,kBAAkB;AAE/D,SAAO,IAAI,KAAK,GAAG;;CAGpB,SAAS,oBAAoB,MAAM,QAAQ,mBAAmB;EAC7D,IAAI,SAAS,KAAK,UAAU;EAC5B,IAAI,MAAM,KAAK;AAQf,MAAI,CAAC,IACJ,QAAO;AAER,MAAI,WAAW,SAAS,QAAQH,YAAU,OAAO,QAAQA,YAAU,MAClE,QAAO;EAGR,IAAI,IAAI,kBAAkB;AAC1B,SAAO,KAAK;GACX,IAAI,KAAK,kBAAkB;AAE3B,OAAI,GAAG,WAAW,OACjB,QAAO,GAAG,cAAc;;AAG1B,SAAO;;;;;;;;;;;;;;;CAeR,SAAS,uBAAuB,KAAK,eAAe,OAAO;AAC1D,MAAI,KAAK,KAAK,eAAe,OAAM,MAAM,QAAQ,iBAAiB,YAAY,EAAE,KAAI;;CAGrF,SAAS,kBAAkB,MAAK,KAAI,QAAO,YAAW,mBAAkB;AACvE,MAAI,CAAC,kBACJ,qBAAoB,EAAE;AAGvB,MAAG,YAAW;AACb,UAAO,WAAW,KAAK;AACvB,OAAG,MACF;QAAG,OAAO,QAAQ,UAAS;AAC1B,SAAI,KAAK,KAAK;AACd;;SAGD;;AAKF,UAAO,KAAK,UAAZ;GACA,KAAK;IACJ,IAAI,QAAQ,KAAK;IACjB,IAAI,MAAM,MAAM;IAChB,IAAI,QAAQ,KAAK;IACjB,IAAI,WAAW,KAAK;AAEpB,aAASA,YAAU,OAAO,KAAK,aAAa,IAAI;IAEhD,IAAI,mBAAmB;AACvB,QAAI,CAAC,UAAU,CAAC,KAAK,UAAU,KAAK,cAAc;KACjD,IAAI;AAEJ,UAAK,IAAI,KAAK,GAAG,KAAK,MAAM,QAAQ,KACnC,KAAI,MAAM,KAAK,GAAG,CAAC,SAAS,SAAS;AACpC,kBAAY,MAAM,KAAK,GAAG,CAAC;AAC3B;;AAGF,SAAI,CAAC,UAEJ,MAAK,IAAI,MAAM,kBAAkB,SAAS,GAAG,OAAO,GAAG,OAAO;MAC7D,IAAI,YAAY,kBAAkB;AAClC,UAAI,UAAU,WAAW,MAAM,UAAU,cAAc,KAAK,cAAc;AACzE,mBAAY,UAAU;AACtB;;;AAIH,SAAI,cAAc,KAAK,aACtB,MAAK,IAAI,MAAM,kBAAkB,SAAS,GAAG,OAAO,GAAG,OAAO;MAC7D,IAAI,YAAY,kBAAkB;AAClC,UAAI,UAAU,cAAc,KAAK,cAAc;AAC9C,WAAI,UAAU,OACb,oBAAmB,UAAU,SAAS,MAAM;AAE7C;;;;AAMJ,QAAI,KAAK,KAAK,iBAAiB;AAE/B,SAAI,IAAI,IAAE,GAAE,IAAE,KAAI,KAAI;KAErB,IAAI,OAAO,MAAM,KAAK,EAAE;AACxB,SAAI,KAAK,UAAU,QAClB,mBAAkB,KAAK;MAAE,QAAQ,KAAK;MAAW,WAAW,KAAK;MAAO,CAAC;cACjE,KAAK,YAAY,QACzB,mBAAkB,KAAK;MAAE,QAAQ;MAAI,WAAW,KAAK;MAAO,CAAC;;AAI/D,SAAI,IAAI,IAAE,GAAE,IAAE,KAAI,KAAI;KACrB,IAAI,OAAO,MAAM,KAAK,EAAE;AACxB,SAAI,oBAAoB,MAAK,QAAQ,kBAAkB,EAAE;MACxD,IAAI,SAAS,KAAK,UAAQ;MAC1B,IAAI,MAAM,KAAK;AACf,6BAAuB,KAAK,SAAS,WAAW,SAAS,SAAS,IAAI;AACtE,wBAAkB,KAAK;OAAU;OAAQ,WAAU;OAAK,CAAC;;AAE1D,uBAAkB,MAAK,KAAI,QAAO,YAAW,kBAAkB;;AAIhE,QAAI,aAAa,oBAAoB,oBAAoB,MAAM,QAAQ,kBAAkB,EAAE;KAC1F,IAAI,SAAS,KAAK,UAAQ;KAC1B,IAAI,MAAM,KAAK;AACf,4BAAuB,KAAK,SAAS,WAAW,SAAS,SAAS,IAAI;AACtE,uBAAkB,KAAK;MAAU;MAAQ,WAAU;MAAK,CAAC;;AAG1D,QAAG,SAAS,UAAU,CAAC,mCAAmC,KAAK,SAAS,EAAC;AACxE,SAAI,KAAK,IAAI;AAEb,SAAG,UAAU,YAAY,KAAK,SAAS,CACtC,QAAM,OAAM;AACX,UAAG,MAAM,KACR,KAAI,KAAK,MAAM,KAAK;UAEpB,mBAAkB,OAAO,KAAK,QAAQ,YAAY,kBAAkB,OAAO,CAAC;AAE7E,cAAQ,MAAM;;SAIf,QAAM,OAAM;AACX,wBAAkB,OAAO,KAAK,QAAQ,YAAY,kBAAkB,OAAO,CAAC;AAC5E,cAAQ,MAAM;;AAGhB,SAAI,KAAK,MAAK,kBAAiB,IAAI;UAEnC,KAAI,KAAK,KAAK;AAIf;GACD,KAAK;GACL,KAAK;IACJ,IAAI,QAAQ,KAAK;AACjB,WAAM,OAAM;AACX,uBAAkB,OAAO,KAAK,QAAQ,YAAY,kBAAkB,OAAO,CAAC;AAC5E,aAAQ,MAAM;;AAEf;GACD,KAAK,eACJ,QAAO,uBAAuB,KAAK,KAAK,MAAM,KAAK,MAAM;GAC1D,KAAK;;;;;;;;;;;;;;;;;AAiBJ,UAAO,IAAI,KAAK,KAAK,KACnB,QAAQ,UAAS,YAAY,CAC9B;GACF,KAAK,mBACJ,QAAO,IAAI,KAAM,aAAY,KAAK,MAAK,MAAM;GAC9C,KAAK,aACJ,QAAO,IAAI,KAAM,QAAO,KAAK,MAAK,MAAM;GACzC,KAAK;IACJ,IAAI,QAAQ,KAAK;IACjB,IAAI,QAAQ,KAAK;AACjB,QAAI,KAAK,cAAa,KAAK,KAAK;AAChC,QAAG,OAAM;AACR,SAAI,KAAK,YAAY,MAAM;AAC3B,SAAI,SAAS,SAAO,IACnB,KAAI,KAAK,KAAK,MAAM;AAErB,SAAI,KAAK,IAAI;eACL,SAAS,SAAO,IACxB,KAAI,KAAK,YAAY,OAAO,IAAI;SAC5B;KACJ,IAAI,MAAM,KAAK;AACf,SAAG,IACF,KAAI,KAAK,MAAK,KAAI,IAAI;AAEvB,SAAI,KAAK,IAAI;;AAEd;GACD,KAAK,4BACJ,QAAO,IAAI,KAAM,MAAK,KAAK,QAAO,KAAI,KAAK,MAAK,KAAK;GACtD,KAAK,sBACJ,QAAO,IAAI,KAAM,KAAI,KAAK,UAAS,IAAI;GAGxC,QACC,KAAI,KAAK,MAAK,KAAK,SAAS;;;CAG9B,SAAS,WAAW,KAAI,MAAK,MAAK;EACjC,IAAI;AACJ,UAAQ,KAAK,UAAb;GACA,KAAK;AACJ,YAAQ,KAAK,UAAU,MAAM;AAC7B,UAAM,gBAAgB;GAMvB,KAAK,uBACJ;GACD,KAAK;AACJ,WAAO;AACP;;AAgBD,MAAG,CAAC,MACH,SAAQ,KAAK,UAAU,MAAM;AAE9B,QAAM,gBAAgB;AACtB,QAAM,aAAa;AACnB,MAAG,MAAK;GACP,IAAI,QAAQ,KAAK;AACjB,UAAM,OAAM;AACX,UAAM,YAAY,WAAW,KAAI,OAAM,KAAK,CAAC;AAC7C,YAAQ,MAAM;;;AAGhB,SAAO;;CAKR,SAAS,UAAU,KAAI,MAAK,MAAK;EAChC,IAAI,QAAQ,IAAI,KAAK,aAAa;AAClC,OAAK,IAAI,KAAK,KACb,KAAI,OAAO,UAAU,eAAe,KAAK,MAAM,EAAE,EAAE;GAClD,IAAI,IAAI,KAAK;AACb,OAAI,OAAO,KAAK,UACf;QAAI,KAAK,MAAM,GACd,OAAM,KAAK;;;AAKf,MAAG,KAAK,WACP,OAAM,aAAa,IAAI,UAAU;AAElC,QAAM,gBAAgB;AACtB,UAAQ,MAAM,UAAd;GACA,KAAK;IACJ,IAAI,QAAQ,KAAK;IACjB,IAAI,SAAS,MAAM,aAAa,IAAI,cAAc;IAClD,IAAI,MAAM,MAAM;AAChB,WAAO,gBAAgB;AACvB,SAAI,IAAI,IAAE,GAAE,IAAE,KAAI,IACjB,OAAM,iBAAiB,UAAU,KAAI,MAAM,KAAK,EAAE,EAAC,KAAK,CAAC;AAE1D;GACD,KAAK,eACJ,QAAO;;AAER,MAAG,MAAK;GACP,IAAI,QAAQ,KAAK;AACjB,UAAM,OAAM;AACX,UAAM,YAAY,UAAU,KAAI,OAAM,KAAK,CAAC;AAC5C,YAAQ,MAAM;;;AAGhB,SAAO;;CAGR,SAAS,QAAQ,QAAO,KAAI,OAAM;AACjC,SAAO,OAAO;;AAGf,KAAG;AACF,MAAG,OAAO,gBAAe;AACxB,UAAO,eAAe,aAAa,WAAU,UAAS,EACrD,KAAI,WAAU;AACb,oBAAgB,KAAK;AACrB,WAAO,KAAK;MAEb,CAAC;AAEF,UAAO,eAAe,KAAK,WAAU,eAAc;IAClD,KAAI,WAAU;AACb,YAAO,eAAe,KAAK;;IAG5B,KAAI,SAAS,MAAK;AACjB,aAAO,KAAK,UAAZ;MACA,KAAK;MACL,KAAK;AACJ,cAAM,KAAK,WACV,MAAK,YAAY,KAAK,WAAW;AAElC,WAAG,QAAQ,OAAO,KAAK,CACtB,MAAK,YAAY,KAAK,cAAc,eAAe,KAAK,CAAC;AAE1D;MAED;AACC,YAAK,OAAO;AACZ,YAAK,QAAQ;AACb,YAAK,YAAY;;;IAGnB,CAAC;GAEF,SAAS,eAAe,MAAK;AAC5B,YAAO,KAAK,UAAZ;KACA,KAAK;KACL,KAAK;MACJ,IAAI,MAAM,EAAE;AACZ,aAAO,KAAK;AACZ,aAAM,MAAK;AACV,WAAG,KAAK,aAAW,KAAK,KAAK,aAAY,EACxC,KAAI,KAAK,eAAe,KAAK,CAAC;AAE/B,cAAO,KAAK;;AAEb,aAAO,IAAI,KAAK,GAAG;KACpB,QACC,QAAO,KAAK;;;AAId,aAAU,SAAS,QAAO,KAAI,OAAM;AAEnC,WAAO,OAAK,OAAO;;;UAGf,GAAE;AAIR,SAAQ,eAAe;AACvB,SAAQ,eAAe;AACvB,SAAQ,oBAAoBC;AAC5B,SAAQ,UAAU;AAClB,SAAQ,OAAO;AACf,SAAQ,WAAW;AACnB,SAAQ,gBAAgB;;;;;;CCn1DzB,IAAI,+BAAkC;;;;;;;;AAStC,SAAQ,eAAe,OAAO;EAC7B,KAAK;EACL,MAAM;EACN,IAAI;EACJ,IAAI;EACJ,MAAM;EACN,CAAC;;;;;;;;;;;;;;;AAgBF,SAAQ,gBAAgB,OAAO;EAC9B,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,IAAI;EACJ,KAAK;EACL,KAAK;EACL,OAAO;EACP,OAAO;EACP,OAAO;EACP,KAAK;EACL,KAAK;EACL,OAAO;EACP,OAAO;EACP,IAAI;EACJ,KAAK;EACL,KAAK;EACL,QAAQ;EACR,QAAQ;EACR,SAAS;EACT,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,QAAQ;EACR,MAAM;EACN,UAAU;EACV,MAAM;EACN,KAAK;EACL,MAAM;EACN,OAAO;EACP,QAAQ;EACR,UAAU;EACV,UAAU;EACV,UAAU;EACV,UAAU;EACV,UAAU;EACV,UAAU;EACV,UAAU;EACV,UAAU;EACV,OAAO;EACP,SAAS;EACT,UAAU;EACV,QAAQ;EACR,OAAO;EACP,SAAS;EACT,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,IAAI;EACJ,QAAQ;EACR,KAAK;EACL,KAAK;EACL,MAAM;EACN,MAAM;EACN,eAAe;EACf,QAAQ;EACR,UAAU;EACV,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,QAAQ;EACR,KAAK;EACL,OAAO;EACP,SAAS;EACT,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,UAAU;EACV,OAAO;EACP,UAAU;EACV,aAAa;EACb,WAAW;EACX,SAAS;EACT,WAAW;EACX,WAAW;EACX,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,UAAU;EACV,MAAM;EACN,UAAU;EACV,OAAO;EACP,KAAK;EACL,KAAK;EACL,OAAO;EACP,QAAQ;EACR,SAAS;EACT,SAAS;EACT,SAAS;EACT,OAAO;EACP,QAAQ;EACR,YAAY;EACZ,MAAM;EACN,MAAM;EACN,MAAM;EACN,SAAS;EACT,KAAK;EACL,KAAK;EACL,QAAQ;EACR,SAAS;EACT,QAAQ;EACR,SAAS;EACT,UAAU;EACV,WAAW;EACX,UAAU;EACV,SAAS;EACT,iBAAiB;EACjB,eAAe;EACf,UAAU;EACV,QAAQ;EACR,UAAU;EACV,QAAQ;EACR,cAAc;EACd,aAAa;EACb,eAAe;EACf,mBAAmB;EACnB,mBAAmB;EACnB,oBAAoB;EACpB,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,KAAK;EACL,SAAS;EACT,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,KAAK;EACL,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,UAAU;EACV,SAAS;EACT,UAAU;EACV,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,QAAQ;EACR,OAAO;EACP,OAAO;EACP,QAAQ;EACR,MAAM;EACN,MAAM;EACN,OAAO;EACP,MAAM;EACN,OAAO;EACP,MAAM;EACN,OAAO;EACP,UAAU;EACV,MAAM;EACN,QAAQ;EACR,MAAM;EACN,OAAO;EACP,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,KAAK;EACL,QAAQ;EACR,UAAU;EACV,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,sBAAsB;EACtB,MAAM;EACN,OAAO;EACP,OAAO;EACP,SAAS;EACT,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,OAAO;EACP,SAAS;EACT,OAAO;EACP,SAAS;EACT,MAAM;EACN,MAAM;EACN,OAAO;EACP,SAAS;EACT,SAAS;EACT,MAAM;EACN,WAAW;EACX,WAAW;EACX,KAAK;EACL,KAAK;EACL,MAAM;EACN,MAAM;EACN,OAAO;EACP,WAAW;EACX,KAAK;EACL,KAAK;EACL,KAAK;EACL,MAAM;EACN,QAAQ;EACR,iBAAiB;EACjB,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,aAAa;EACb,WAAW;EACX,UAAU;EACV,UAAU;EACV,aAAa;EACb,YAAY;EACZ,aAAa;EACb,MAAM;EACN,MAAM;EACN,UAAU;EACV,QAAQ;EACR,SAAS;EACT,0BAA0B;EAC1B,uBAAuB;EACvB,iBAAiB;EACjB,OAAO;EACP,UAAU;EACV,OAAO;EACP,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,SAAS;EACT,OAAO;EACP,QAAQ;EACR,MAAM;EACN,QAAQ;EACR,YAAY;EACZ,WAAW;EACX,MAAM;EACN,SAAS;EACT,WAAW;EACX,QAAQ;EACR,QAAQ;EACR,iBAAiB;EACjB,MAAM;EACN,MAAM;EACN,QAAQ;EACR,WAAW;EACX,MAAM;EACN,MAAM;EACN,QAAQ;EACR,iCAAiC;EACjC,OAAO;EACP,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,MAAM;EACN,OAAO;EACP,MAAM;EACN,OAAO;EACP,OAAO;EACP,SAAS;EACT,SAAS;EACT,OAAO;EACP,OAAO;EACP,QAAQ;EACR,SAAS;EACT,KAAK;EACL,KAAK;EACL,UAAU;EACV,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,MAAM;EACN,QAAQ;EACR,SAAS;EACT,aAAa;EACb,aAAa;EACb,UAAU;EACV,YAAY;EACZ,QAAQ;EACR,gBAAgB;EAChB,iBAAiB;EACjB,OAAO;EACP,OAAO;EACP,UAAU;EACV,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,OAAO;EACP,OAAO;EACP,SAAS;EACT,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,KAAK;EACL,IAAI;EACJ,IAAI;EACJ,SAAS;EACT,OAAO;EACP,UAAU;EACV,SAAS;EACT,KAAK;EACL,KAAK;EACL,OAAO;EACP,OAAO;EACP,SAAS;EACT,QAAQ;EACR,KAAK;EACL,KAAK;EACL,MAAM;EACN,OAAO;EACP,OAAO;EACP,kBAAkB;EAClB,gBAAgB;EAChB,wBAAwB;EACxB,kBAAkB;EAClB,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,SAAS;EACT,aAAa;EACb,OAAO;EACP,KAAK;EACL,eAAe;EACf,SAAS;EACT,OAAO;EACP,KAAK;EACL,QAAQ;EACR,eAAe;EACf,QAAQ;EACR,MAAM;EACN,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,KAAK;EACL,KAAK;EACL,QAAQ;EACR,OAAO;EACP,UAAU;EACV,UAAU;EACV,UAAU;EACV,SAAS;EACT,WAAW;EACX,gBAAgB;EAChB,uBAAuB;EACvB,WAAW;EACX,iBAAiB;EACjB,iBAAiB;EACjB,sBAAsB;EACtB,eAAe;EACf,qBAAqB;EACrB,0BAA0B;EAC1B,sBAAsB;EACtB,kBAAkB;EAClB,gBAAgB;EAChB,eAAe;EACf,mBAAmB;EACnB,mBAAmB;EACnB,WAAW;EACX,WAAW;EACX,WAAW;EACX,cAAc;EACd,kBAAkB;EAClB,WAAW;EACX,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,qBAAqB;EACrB,mBAAmB;EACnB,gBAAgB;EAChB,mBAAmB;EACnB,oBAAoB;EACpB,iBAAiB;EACjB,oBAAoB;EACpB,SAAS;EACT,cAAc;EACd,UAAU;EACV,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,MAAM;EACN,OAAO;EACP,OAAO;EACP,OAAO;EACP,SAAS;EACT,MAAM;EACN,MAAM;EACN,UAAU;EACV,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,OAAO;EACP,OAAO;EACP,QAAQ;EACR,KAAK;EACL,KAAK;EACL,OAAO;EACP,MAAM;EACN,MAAM;EACN,MAAM;EACN,IAAI;EACJ,OAAO;EACP,KAAK;EACL,KAAK;EACL,IAAI;EACJ,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,QAAQ;EACR,IAAI;EACJ,SAAS;EACT,UAAU;EACV,KAAK;EACL,KAAK;EACL,QAAQ;EACR,OAAO;EACP,OAAO;EACP,OAAO;EACP,UAAU;EACV,kBAAkB;EAClB,QAAQ;EACR,sBAAsB;EACtB,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,KAAK;EACL,MAAM;EACN,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,MAAM;EACN,QAAQ;EACR,OAAO;EACP,MAAM;EACN,SAAS;EACT,SAAS;EACT,OAAO;EACP,QAAQ;EACR,SAAS;EACT,OAAO;EACP,YAAY;EACZ,aAAa;EACb,OAAO;EACP,QAAQ;EACR,YAAY;EACZ,QAAQ;EACR,aAAa;EACb,OAAO;EACP,SAAS;EACT,UAAU;EACV,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,OAAO;EACP,MAAM;EACN,MAAM;EACN,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,OAAO;EACP,QAAQ;EACR,aAAa;EACb,cAAc;EACd,cAAc;EACd,eAAe;EACf,KAAK;EACL,KAAK;EACL,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,QAAQ;EACR,KAAK;EACL,KAAK;EACL,OAAO;EACP,mBAAmB;EACnB,uBAAuB;EACvB,OAAO;EACP,MAAM;EACN,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,OAAO;EACP,YAAY;EACZ,UAAU;EACV,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,QAAQ;EACR,OAAO;EACP,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,OAAO;EACP,KAAK;EACL,KAAK;EACL,MAAM;EACN,MAAM;EACN,IAAI;EACJ,IAAI;EACJ,KAAK;EACL,KAAK;EACL,KAAK;EACL,MAAM;EACN,UAAU;EACV,KAAK;EACL,OAAO;EACP,QAAQ;EACR,SAAS;EACT,UAAU;EACV,MAAM;EACN,QAAQ;EACR,KAAK;EACL,KAAK;EACL,IAAI;EACJ,IAAI;EACJ,KAAK;EACL,OAAO;EACP,MAAM;EACN,MAAM;EACN,IAAI;EACJ,KAAK;EACL,KAAK;EACL,KAAK;EACL,MAAM;EACN,UAAU;EACV,KAAK;EACL,KAAK;EACL,MAAM;EACN,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,OAAO;EACP,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,gBAAgB;EAChB,aAAa;EACb,mBAAmB;EACnB,cAAc;EACd,MAAM;EACN,MAAM;EACN,MAAM;EACN,OAAO;EACP,OAAO;EACP,IAAI;EACJ,IAAI;EACJ,IAAI;EACJ,MAAM;EACN,OAAO;EACP,OAAO;EACP,QAAQ;EACR,SAAS;EACT,WAAW;EACX,QAAQ;EACR,QAAQ;EACR,WAAW;EACX,YAAY;EACZ,SAAS;EACT,QAAQ;EACR,WAAW;EACX,MAAM;EACN,OAAO;EACP,QAAQ;EACR,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,SAAS;EACT,OAAO;EACP,KAAK;EACL,MAAM;EACN,OAAO;EACP,OAAO;EACP,QAAQ;EACR,WAAW;EACX,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,KAAK;EACL,cAAc;EACd,UAAU;EACV,UAAU;EACV,OAAO;EACP,QAAQ;EACR,eAAe;EACf,gBAAgB;EAChB,MAAM;EACN,MAAM;EACN,QAAQ;EACR,gBAAgB;EAChB,MAAM;EACN,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,cAAc;EACd,WAAW;EACX,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,IAAI;EACJ,OAAO;EACP,OAAO;EACP,KAAK;EACL,KAAK;EACL,MAAM;EACN,MAAM;EACN,MAAM;EACN,OAAO;EACP,KAAK;EACL,KAAK;EACL,KAAK;EACL,QAAQ;EACR,QAAQ;EACR,IAAI;EACJ,QAAQ;EACR,OAAO;EACP,QAAQ;EACR,OAAO;EACP,OAAO;EACP,OAAO;EACP,IAAI;EACJ,OAAO;EACP,OAAO;EACP,OAAO;EACP,YAAY;EACZ,UAAU;EACV,UAAU;EACV,OAAO;EACP,MAAM;EACN,OAAO;EACP,SAAS;EACT,IAAI;EACJ,QAAQ;EACR,OAAO;EACP,UAAU;EACV,QAAQ;EACR,KAAK;EACL,KAAK;EACL,QAAQ;EACR,UAAU;EACV,UAAU;EACV,UAAU;EACV,cAAc;EACd,UAAU;EACV,SAAS;EACT,gBAAgB;EAChB,gBAAgB;EAChB,MAAM;EACN,MAAM;EACN,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,OAAO;EACP,QAAQ;EACR,MAAM;EACN,MAAM;EACN,MAAM;EACN,SAAS;EACT,OAAO;EACP,OAAO;EACP,QAAQ;EACR,OAAO;EACP,IAAI;EACJ,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,OAAO;EACP,OAAO;EACP,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,OAAO;EACP,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,QAAQ;EACR,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,UAAU;EACV,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,OAAO;EACP,QAAQ;EACR,KAAK;EACL,YAAY;EACZ,OAAO;EACP,MAAM;EACN,MAAM;EACN,MAAM;EACN,OAAO;EACP,SAAS;EACT,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,SAAS;EACT,QAAQ;EACR,KAAK;EACL,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,SAAS;EACT,SAAS;EACT,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,MAAM;EACN,KAAK;EACL,KAAK;EACL,MAAM;EACN,OAAO;EACP,QAAQ;EACR,SAAS;EACT,UAAU;EACV,MAAM;EACN,IAAI;EACJ,IAAI;EACJ,kBAAkB;EAClB,WAAW;EACX,WAAW;EACX,WAAW;EACX,cAAc;EACd,qBAAqB;EACrB,eAAe;EACf,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,gBAAgB;EAChB,mBAAmB;EACnB,WAAW;EACX,iBAAiB;EACjB,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,gBAAgB;EAChB,gBAAgB;EAChB,iBAAiB;EACjB,mBAAmB;EACnB,qBAAqB;EACrB,iBAAiB;EACjB,SAAS;EACT,cAAc;EACd,eAAe;EACf,gBAAgB;EAChB,cAAc;EACd,iBAAiB;EACjB,mBAAmB;EACnB,kBAAkB;EAClB,iBAAiB;EACjB,cAAc;EACd,iBAAiB;EACjB,YAAY;EACZ,eAAe;EACf,KAAK;EACL,KAAK;EACL,KAAK;EACL,MAAM;EACN,UAAU;EACV,KAAK;EACL,OAAO;EACP,QAAQ;EACR,SAAS;EACT,UAAU;EACV,MAAM;EACN,QAAQ;EACR,YAAY;EACZ,SAAS;EACT,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,aAAa;EACb,SAAS;EACT,UAAU;EACV,SAAS;EACT,gBAAgB;EAChB,WAAW;EACX,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,KAAK;EACL,IAAI;EACJ,KAAK;EACL,MAAM;EACN,OAAO;EACP,OAAO;EACP,QAAQ;EACR,OAAO;EACP,MAAM;EACN,MAAM;EACN,IAAI;EACJ,IAAI;EACJ,OAAO;EACP,UAAU;EACV,YAAY;EACZ,QAAQ;EACR,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,YAAY;EACZ,MAAM;EACN,UAAU;EACV,KAAK;EACL,KAAK;EACL,MAAM;EACN,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,eAAe;EACf,eAAe;EACf,eAAe;EACf,oBAAoB;EACpB,oBAAoB;EACpB,oBAAoB;EACpB,YAAY;EACZ,gBAAgB;EAChB,gBAAgB;EAChB,gBAAgB;EAChB,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,MAAM;EACN,MAAM;EACN,QAAQ;EACR,SAAS;EACT,QAAQ;EACR,QAAQ;EACR,gBAAgB;EAChB,iBAAiB;EACjB,KAAK;EACL,SAAS;EACT,MAAM;EACN,MAAM;EACN,QAAQ;EACR,OAAO;EACP,UAAU;EACV,OAAO;EACP,QAAQ;EACR,KAAK;EACL,OAAO;EACP,QAAQ;EACR,MAAM;EACN,MAAM;EACN,KAAK;EACL,KAAK;EACL,MAAM;EACN,OAAO;EACP,OAAO;EACP,MAAM;EACN,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,IAAI;EACJ,IAAI;EACJ,IAAI;EACJ,MAAM;EACN,OAAO;EACP,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,SAAS;EACT,MAAM;EACN,OAAO;EACP,OAAO;EACP,QAAQ;EACR,UAAU;EACV,SAAS;EACT,WAAW;EACX,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,SAAS;EACT,KAAK;EACL,KAAK;EACL,QAAQ;EACR,YAAY;EACZ,YAAY;EACZ,UAAU;EACV,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,KAAK;EACL,OAAO;EACP,OAAO;EACP,eAAe;EACf,aAAa;EACb,WAAW;EACX,KAAK;EACL,KAAK;EACL,KAAK;EACL,OAAO;EACP,KAAK;EACL,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,SAAS;EACT,WAAW;EACX,MAAM;EACN,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,IAAI;EACJ,MAAM;EACN,MAAM;EACN,QAAQ;EACR,IAAI;EACJ,IAAI;EACJ,UAAU;EACV,OAAO;EACP,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,KAAK;EACL,MAAM;EACN,OAAO;EACP,OAAO;EACP,SAAS;EACT,OAAO;EACP,SAAS;EACT,UAAU;EACV,MAAM;EACN,OAAO;EACP,QAAQ;EACR,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,UAAU;EACV,MAAM;EACN,KAAK;EACL,KAAK;EACL,OAAO;EACP,IAAI;EACJ,QAAQ;EACR,OAAO;EACP,OAAO;EACP,SAAS;EACT,OAAO;EACP,qBAAqB;EACrB,oBAAoB;EACpB,mBAAmB;EACnB,uBAAuB;EACvB,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,sBAAsB;EACtB,gBAAgB;EAChB,SAAS;EACT,QAAQ;EACR,SAAS;EACT,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,MAAM;EACN,OAAO;EACP,WAAW;EACX,MAAM;EACN,KAAK;EACL,OAAO;EACP,KAAK;EACL,KAAK;EACL,MAAM;EACN,MAAM;EACN,OAAO;EACP,OAAO;EACP,OAAO;EACP,IAAI;EACJ,KAAK;EACL,MAAM;EACN,KAAK;EACL,MAAM;EACN,MAAM;EACN,OAAO;EACP,OAAO;EACP,MAAM;EACN,KAAK;EACL,KAAK;EACL,YAAY;EACZ,YAAY;EACZ,iBAAiB;EACjB,iBAAiB;EACjB,MAAM;EACN,OAAO;EACP,WAAW;EACX,MAAM;EACN,OAAO;EACP,KAAK;EACL,OAAO;EACP,KAAK;EACL,KAAK;EACL,OAAO;EACP,QAAQ;EACR,MAAM;EACN,MAAM;EACN,SAAS;EACT,kBAAkB;EAClB,MAAM;EACN,MAAM;EACN,KAAK;EACL,KAAK;EACL,cAAc;EACd,WAAW;EACX,sBAAsB;EACtB,YAAY;EACZ,UAAU;EACV,eAAe;EACf,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,qBAAqB;EACrB,mBAAmB;EACnB,gBAAgB;EAChB,sBAAsB;EACtB,iBAAiB;EACjB,iBAAiB;EACjB,cAAc;EACd,OAAO;EACP,UAAU;EACV,QAAQ;EACR,SAAS;EACT,SAAS;EACT,SAAS;EACT,iBAAiB;EACjB,oBAAoB;EACpB,sBAAsB;EACtB,SAAS;EACT,cAAc;EACd,gBAAgB;EAChB,aAAa;EACb,mBAAmB;EACnB,cAAc;EACd,yBAAyB;EACzB,mBAAmB;EACnB,OAAO;EACP,SAAS;EACT,SAAS;EACT,SAAS;EACT,aAAa;EACb,kBAAkB;EAClB,uBAAuB;EACvB,mBAAmB;EACnB,kBAAkB;EAClB,qBAAqB;EACrB,uBAAuB;EACvB,iBAAiB;EACjB,sBAAsB;EACtB,mBAAmB;EACnB,wBAAwB;EACxB,WAAW;EACX,gBAAgB;EAChB,aAAa;EACb,kBAAkB;EAClB,uBAAuB;EACvB,kBAAkB;EAClB,aAAa;EACb,kBAAkB;EAClB,UAAU;EACV,eAAe;EACf,mBAAmB;EACnB,eAAe;EACf,gBAAgB;EAChB,MAAM;EACN,WAAW;EACX,QAAQ;EACR,OAAO;EACP,SAAS;EACT,KAAK;EACL,QAAQ;EACR,MAAM;EACN,OAAO;EACP,SAAS;EACT,OAAO;EACP,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,aAAa;EACb,aAAa;EACb,OAAO;EACP,QAAQ;EACR,KAAK;EACL,QAAQ;EACR,MAAM;EACN,MAAM;EACN,MAAM;EACN,WAAW;EACX,gBAAgB;EAChB,MAAM;EACN,OAAO;EACP,QAAQ;EACR,OAAO;EACP,OAAO;EACP,SAAS;EACT,SAAS;EACT,MAAM;EACN,OAAO;EACP,OAAO;EACP,SAAS;EACT,WAAW;EACX,YAAY;EACZ,OAAO;EACP,SAAS;EACT,MAAM;EACN,OAAO;EACP,OAAO;EACP,SAAS;EACT,WAAW;EACX,YAAY;EACZ,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,eAAe;EACf,iBAAiB;EACjB,gBAAgB;EAChB,kBAAkB;EAClB,IAAI;EACJ,IAAI;EACJ,KAAK;EACL,QAAQ;EACR,OAAO;EACP,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,QAAQ;EACR,SAAS;EACT,QAAQ;EACR,MAAM;EACN,MAAM;EACN,SAAS;EACT,QAAQ;EACR,SAAS;EACT,OAAO;EACP,QAAQ;EACR,OAAO;EACP,OAAO;EACP,SAAS;EACT,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,OAAO;EACP,OAAO;EACP,KAAK;EACL,KAAK;EACL,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,QAAQ;EACR,OAAO;EACP,OAAO;EACP,OAAO;EACP,KAAK;EACL,KAAK;EACL,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,OAAO;EACP,KAAK;EACL,MAAM;EACN,OAAO;EACP,OAAO;EACP,SAAS;EACT,OAAO;EACP,KAAK;EACL,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,SAAS;EACT,SAAS;EACT,MAAM;EACN,QAAQ;EACR,MAAM;EACN,MAAM;EACN,MAAM;EACN,sBAAsB;EACtB,gBAAgB;EAChB,OAAO;EACP,OAAO;EACP,IAAI;EACJ,IAAI;EACJ,OAAO;EACP,KAAK;EACL,OAAO;EACP,SAAS;EACT,MAAM;EACN,MAAM;EACN,QAAQ;EACR,MAAM;EACN,SAAS;EACT,KAAK;EACL,IAAI;EACJ,MAAM;EACN,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,UAAU;EACV,MAAM;EACN,MAAM;EACN,OAAO;EACP,SAAS;EACT,WAAW;EACX,aAAa;EACb,iBAAiB;EACjB,KAAK;EACL,MAAM;EACN,UAAU;EACV,QAAQ;EACR,OAAO;EACP,MAAM;EACN,UAAU;EACV,KAAK;EACL,KAAK;EACL,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,SAAS;EACT,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,MAAM;EACN,QAAQ;EACR,OAAO;EACP,IAAI;EACJ,IAAI;EACJ,WAAW;EACX,KAAK;EACL,QAAQ;EACR,SAAS;EACT,QAAQ;EACR,MAAM;EACN,UAAU;EACV,OAAO;EACP,SAAS;EACT,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,WAAW;EACX,QAAQ;EACR,SAAS;EACT,SAAS;EACT,IAAI;EACJ,eAAe;EACf,UAAU;EACV,MAAM;EACN,MAAM;EACN,OAAO;EACP,IAAI;EACJ,IAAI;EACJ,MAAM;EACN,OAAO;EACP,KAAK;EACL,KAAK;EACL,MAAM;EACN,YAAY;EACZ,aAAa;EACb,UAAU;EACV,eAAe;EACf,oBAAoB;EACpB,eAAe;EACf,QAAQ;EACR,aAAa;EACb,UAAU;EACV,UAAU;EACV,SAAS;EACT,OAAO;EACP,OAAO;EACP,QAAQ;EACR,OAAO;EACP,MAAM;EACN,QAAQ;EACR,MAAM;EACN,SAAS;EACT,UAAU;EACV,UAAU;EACV,UAAU;EACV,MAAM;EACN,YAAY;EACZ,cAAc;EACd,QAAQ;EACR,OAAO;EACP,QAAQ;EACR,MAAM;EACN,MAAM;EACN,KAAK;EACL,KAAK;EACL,QAAQ;EACR,KAAK;EACL,KAAK;EACL,MAAM;EACN,MAAM;EACN,MAAM;EACN,QAAQ;EACR,MAAM;EACN,MAAM;EACN,aAAa;EACb,SAAS;EACT,OAAO;EACP,SAAS;EACT,MAAM;EACN,MAAM;EACN,OAAO;EACP,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,UAAU;EACV,MAAM;EACN,MAAM;EACN,OAAO;EACP,OAAO;EACP,QAAQ;EACR,OAAO;EACP,MAAM;EACN,MAAM;EACN,MAAM;EACN,QAAQ;EACR,OAAO;EACP,SAAS;EACT,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,SAAS;EACT,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,WAAW;EACX,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,SAAS;EACT,SAAS;EACT,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,MAAM;EACN,KAAK;EACL,KAAK;EACL,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;EACR,MAAM;EACN,IAAI;EACJ,MAAM;EACN,SAAS;EACT,UAAU;EACV,OAAO;EACP,MAAM;EACN,KAAK;EACL,KAAK;EACL,gBAAgB;EAChB,oBAAoB;EACpB,sBAAsB;EACtB,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,KAAK;EACL,MAAM;EACN,OAAO;EACP,OAAO;EACP,QAAQ;EACR,KAAK;EACL,KAAK;EACL,MAAM;EACN,mBAAmB;EACnB,YAAY;EACZ,YAAY;EACZ,YAAY;EACZ,eAAe;EACf,qBAAqB;EACrB,gBAAgB;EAChB,cAAc;EACd,oBAAoB;EACpB,oBAAoB;EACpB,iBAAiB;EACjB,oBAAoB;EACpB,YAAY;EACZ,kBAAkB;EAClB,gBAAgB;EAChB,iBAAiB;EACjB,mBAAmB;EACnB,kBAAkB;EAClB,iBAAiB;EACjB,UAAU;EACV,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,eAAe;EACf,kBAAkB;EAClB,oBAAoB;EACpB,mBAAmB;EACnB,kBAAkB;EAClB,eAAe;EACf,kBAAkB;EAClB,aAAa;EACb,gBAAgB;EAChB,MAAM;EACN,cAAc;EACd,OAAO;EACP,OAAO;EACP,KAAK;EACL,QAAQ;EACR,YAAY;EACZ,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,QAAQ;EACR,SAAS;EACT,cAAc;EACd,MAAM;EACN,QAAQ;EACR,UAAU;EACV,OAAO;EACP,aAAa;EACb,QAAQ;EACR,MAAM;EACN,MAAM;EACN,KAAK;EACL,KAAK;EACL,MAAM;EACN,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,OAAO;EACP,OAAO;EACP,UAAU;EACV,aAAa;EACb,SAAS;EACT,IAAI;EACJ,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,IAAI;EACJ,IAAI;EACJ,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,KAAK;EACL,KAAK;EACL,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,OAAO;EACP,OAAO;EACP,MAAM;EACN,QAAQ;EACR,UAAU;EACV,OAAO;EACP,KAAK;EACL,KAAK;EACL,MAAM;EACN,OAAO;EACP,OAAO;EACP,QAAQ;EACR,OAAO;EACP,OAAO;EACP,SAAS;EACT,MAAM;EACN,MAAM;EACN,QAAQ;EACR,UAAU;EACV,OAAO;EACP,MAAM;EACN,KAAK;EACL,KAAK;EACL,QAAQ;EACR,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,gBAAgB;EAChB,gBAAgB;EAChB,UAAU;EACV,eAAe;EACf,iBAAiB;EACjB,cAAc;EACd,KAAK;EACL,OAAO;EACP,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,QAAQ;EACR,MAAM;EACN,OAAO;EACP,MAAM;EACN,OAAO;EACP,MAAM;EACN,OAAO;EACP,OAAO;EACP,SAAS;EACT,SAAS;EACT,OAAO;EACP,aAAa;EACb,eAAe;EACf,QAAQ;EACR,UAAU;EACV,MAAM;EACN,OAAO;EACP,KAAK;EACL,MAAM;EACN,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,MAAM;EACN,QAAQ;EACR,MAAM;EACN,MAAM;EACN,QAAQ;EACR,WAAW;EACX,MAAM;EACN,OAAO;EACP,QAAQ;EACR,OAAO;EACP,QAAQ;EACR,MAAM;EACN,OAAO;EACP,QAAQ;EACR,UAAU;EACV,YAAY;EACZ,OAAO;EACP,QAAQ;EACR,UAAU;EACV,YAAY;EACZ,KAAK;EACL,QAAQ;EACR,QAAQ;EACR,oBAAoB;EACpB,cAAc;EACd,mBAAmB;EACnB,gBAAgB;EAChB,qBAAqB;EACrB,aAAa;EACb,QAAQ;EACR,MAAM;EACN,OAAO;EACP,MAAM;EACN,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,OAAO;EACP,iBAAiB;EACjB,aAAa;EACb,OAAO;EACP,KAAK;EACL,KAAK;EACL,QAAQ;EACR,MAAM;EACN,MAAM;EACN,SAAS;EACT,SAAS;EACT,OAAO;EACP,OAAO;EACP,SAAS;EACT,SAAS;EACT,QAAQ;EACR,QAAQ;EACR,UAAU;EACV,WAAW;EACX,aAAa;EACb,WAAW;EACX,YAAY;EACZ,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,YAAY;EACZ,aAAa;EACb,UAAU;EACV,eAAe;EACf,oBAAoB;EACpB,eAAe;EACf,QAAQ;EACR,aAAa;EACb,UAAU;EACV,UAAU;EACV,SAAS;EACT,UAAU;EACV,KAAK;EACL,KAAK;EACL,MAAM;EACN,KAAK;EACL,KAAK;EACL,MAAM;EACN,MAAM;EACN,MAAM;EACN,QAAQ;EACR,SAAS;EACT,MAAM;EACN,MAAM;EACN,SAAS;EACT,UAAU;EACV,eAAe;EACf,SAAS;EACT,SAAS;EACT,SAAS;EACT,SAAS;EACT,OAAO;EACP,OAAO;EACP,SAAS;EACT,QAAQ;EACR,QAAQ;EACR,UAAU;EACV,WAAW;EACX,WAAW;EACX,YAAY;EACZ,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,OAAO;EACP,SAAS;EACT,QAAQ;EACR,OAAO;EACP,KAAK;EACL,QAAQ;EACR,KAAK;EACL,KAAK;EACL,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,KAAK;EACL,MAAM;EACN,QAAQ;EACR,KAAK;EACL,KAAK;EACL,QAAQ;EACR,WAAW;EACX,WAAW;EACX,OAAO;EACP,OAAO;EACP,UAAU;EACV,QAAQ;EACR,aAAa;EACb,UAAU;EACV,YAAY;EACZ,QAAQ;EACR,WAAW;EACX,OAAO;EACP,QAAQ;EACR,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,YAAY;EACZ,gBAAgB;EAChB,YAAY;EACZ,OAAO;EACP,QAAQ;EACR,UAAU;EACV,QAAQ;EACR,MAAM;EACN,MAAM;EACN,KAAK;EACL,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,SAAS;EACT,MAAM;EACN,QAAQ;EACR,OAAO;EACP,OAAO;EACP,UAAU;EACV,cAAc;EACd,cAAc;EACd,gBAAgB;EAChB,WAAW;EACX,eAAe;EACf,iBAAiB;EACjB,QAAQ;EACR,MAAM;EACN,UAAU;EACV,WAAW;EACX,SAAS;EACT,OAAO;EACP,SAAS;EACT,UAAU;EACV,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,OAAO;EACP,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,kBAAkB;EAClB,mBAAmB;EACnB,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,MAAM;EACN,UAAU;EACV,OAAO;EACP,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,OAAO;EACP,KAAK;EACL,KAAK;EACL,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,QAAQ;EACR,KAAK;EACL,KAAK;EACL,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,OAAO;EACP,OAAO;EACP,OAAO;EACP,QAAQ;EACR,UAAU;EACV,QAAQ;EACR,OAAO;EACP,OAAO;EACP,OAAO;EACP,KAAK;EACL,UAAU;EACV,YAAY;EACZ,cAAc;EACd,kBAAkB;EAClB,OAAO;EACP,WAAW;EACX,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,SAAS;EACT,SAAS;EACT,SAAS;EACT,YAAY;EACZ,kBAAkB;EAClB,aAAa;EACb,aAAa;EACb,aAAa;EACb,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,gBAAgB;EAChB,iBAAiB;EACjB,MAAM;EACN,MAAM;EACN,OAAO;EACP,SAAS;EACT,SAAS;EACT,OAAO;EACP,YAAY;EACZ,YAAY;EACZ,QAAQ;EACR,UAAU;EACV,QAAQ;EACR,OAAO;EACP,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,SAAS;EACT,QAAQ;EACR,YAAY;EACZ,UAAU;EACV,YAAY;EACZ,QAAQ;EACR,OAAO;EACP,WAAW;EACX,MAAM;EACN,MAAM;EACN,QAAQ;EACR,UAAU;EACV,cAAc;EACd,eAAe;EACf,cAAc;EACd,eAAe;EACf,UAAU;EACV,iBAAiB;EACjB,kBAAkB;EAClB,MAAM;EACN,MAAM;EACN,OAAO;EACP,KAAK;EACL,KAAK;EACL,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,QAAQ;EACR,KAAK;EACL,KAAK;EACL,QAAQ;EACR,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,aAAa;EACb,cAAc;EACd,mBAAmB;EACnB,eAAe;EACf,eAAe;EACf,KAAK;EACL,KAAK;EACL,OAAO;EACP,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,SAAS;EACT,OAAO;EACP,OAAO;EACP,QAAQ;EACR,OAAO;EACP,OAAO;EACP,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,KAAK;EACL,MAAM;EACN,MAAM;EACN,IAAI;EACJ,IAAI;EACJ,QAAQ;EACR,MAAM;EACN,MAAM;EACN,MAAM;EACN,OAAO;EACP,MAAM;EACN,OAAO;EACP,KAAK;EACL,KAAK;EACL,OAAO;EACP,OAAO;EACP,IAAI;EACJ,IAAI;EACJ,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,OAAO;EACP,MAAM;EACN,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,OAAO;EACP,MAAM;EACN,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,OAAO;EACP,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,MAAM;EACN,MAAM;EACN,OAAO;EACP,OAAO;EACP,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,QAAQ;EACR,KAAK;EACL,KAAK;EACL,MAAM;EACN,MAAM;EACN,QAAQ;EACR,gBAAgB;EAChB,MAAM;EACN,MAAM;EACN,KAAK;EACL,KAAK;EACL,MAAM;EACN,MAAM;EACN,SAAS;EACT,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,KAAK;EACL,MAAM;EACN,CAAC;;;;;AAMF,SAAQ,YAAY,QAAQ;;;;;;CCrnE5B,IAAIG,oCAAqC;CAKzC,IAAI,gBAAgB;CACpB,IAAI,2BAAW,IAAI,OAAO,eAAa,cAAc,OAAO,MAAM,GAAE,GAAG,GAAC,yCAAyC;CACjH,IAAI,iCAAiB,IAAI,OAAO,MAAI,cAAc,SAAO,SAAS,SAAO,UAAS,cAAc,SAAO,SAAS,SAAO,OAAO;CAM9H,IAAI,QAAQ;CACZ,IAAI,SAAS;CACb,IAAI,eAAa;CACjB,IAAI,OAAO;CACX,IAAI,sBAAsB;CAC1B,IAAI,aAAa;CACjB,IAAI,cAAc;CAClB,IAAI,cAAc;;;;;;;;CASlB,SAASC,aAAW,SAAS,SAAS;AACrC,OAAK,UAAU;AACf,OAAK,UAAU;AACf,MAAG,MAAM,kBAAmB,OAAM,kBAAkB,MAAMA,aAAW;;AAEtE,cAAW,4BAAY,IAAI,OAAO;AAClC,cAAW,UAAU,OAAOA,aAAW;CAEvC,SAASC,cAAW;AAIpB,aAAU,YAAY,EACrB,OAAM,SAAS,UAAO,cAAa,WAAU;EAC5C,IAAI,aAAa,KAAK;AACtB,aAAW,eAAe;AAC1B,QAAM,cAAc,eAAe,EAAE,CAAC;AACtC,QAAMC,UAAO,cAAa,WACxB,YAAW,KAAK,aAAa;AAC/B,aAAW,aAAa;IAEzB;CACD,SAAS,MAAM,UAAO,kBAAiB,WAAU,YAAW,cAAa;EACxE,SAAS,kBAAkB,MAAM;AAGhC,OAAI,OAAO,OAAQ;AAClB,YAAQ;IACR,IAAI,aAAa,SAAU,QAAQ,KAChC,aAAa,SAAU,OAAO;AAEjC,WAAO,OAAO,aAAa,YAAY,WAAW;SAElD,QAAO,OAAO,aAAa,KAAK;;EAGlC,SAAS,eAAe,KAAE;GACzB,IAAI,IAAIC,IAAE,MAAM,GAAE,GAAG;AACrB,OAAI,OAAO,eAAe,KAAK,WAAW,EAAE,CAC3C,QAAO,UAAU;YACT,EAAE,OAAO,EAAE,KAAK,IACxB,QAAO,kBAAkB,SAAS,EAAE,OAAO,EAAE,CAAC,QAAQ,KAAI,KAAK,CAAC,CAAC;QAC7D;AACJ,iBAAa,MAAM,sBAAoBA,IAAE;AACzC,WAAOA;;;EAGT,SAAS,WAAW,OAAI;AACvB,OAAGC,QAAI,OAAM;IACZ,IAAI,KAAKF,SAAO,UAAU,OAAME,MAAI,CAAC,QAAQ,YAAW,eAAe;AACvE,eAASC,WAAS,MAAM;AACxB,eAAW,WAAW,IAAG,GAAED,QAAI,MAAM;AACrC,YAAQA;;;EAGV,SAASC,WAAS,GAAE,GAAE;AACrB,UAAM,KAAG,YAAY,IAAI,YAAY,KAAKH,SAAO,GAAE;AAClD,gBAAY,EAAE;AACd,cAAU,YAAY,EAAE,GAAG;AAC3B,YAAQ;;AAGT,WAAQ,eAAe,IAAE,YAAU;;EAEpC,IAAI,YAAY;EAChB,IAAI,UAAU;EACd,IAAI,cAAc;EAClB,IAAI,UAAU,WAAW;EAEzB,IAAI,aAAa,CAAC,EAAC,cAAa,kBAAiB,CAAC;EAClD,IAAI,WAAW,EAAE;EACjB,IAAI,QAAQ;AACZ,SAAM,MAAK;AACV,OAAG;IACF,IAAI,WAAWA,SAAO,QAAQ,KAAI,MAAM;AACxC,QAAG,WAAS,GAAE;AACb,SAAG,CAACA,SAAO,OAAO,MAAM,CAAC,MAAM,QAAQ,EAAC;MACvC,IAAI,MAAM,WAAW;MAClB,IAAI,OAAO,IAAI,eAAeA,SAAO,OAAO,MAAM,CAAC;AACnD,UAAI,YAAY,KAAK;AACrB,iBAAW,iBAAiB;;AAEhC;;AAED,QAAG,WAAS,MACX,YAAW,SAAS;AAErB,YAAOA,SAAO,OAAO,WAAS,EAAE,EAAhC;KACA,KAAK;MACJ,IAAI,MAAMA,SAAO,QAAQ,KAAI,WAAS,EAAE;MACxC,IAAI,UAAUA,SAAO,UAAU,WAAW,GAAG,IAAI,CAAC,QAAQ,gBAAgB,GAAG;MAC7E,IAAI,SAAS,WAAW,KAAK;AAC7B,UAAG,MAAI,GAAE;AAEF,iBAAUA,SAAO,UAAU,WAAS,EAAE,CAAC,QAAQ,WAAU,GAAG;AAC5D,oBAAa,MAAM,mBAAiB,UAAQ,sBAAoB,OAAO,QAAQ;AAC/E,aAAM,WAAS,IAAE,QAAQ;iBACjB,QAAQ,MAAM,MAAM,EAAC;AAC7B,iBAAU,QAAQ,QAAQ,WAAU,GAAG;AACvC,oBAAa,MAAM,mBAAiB,UAAQ,sBAAsB;AAClE,aAAM,WAAS,IAAE,QAAQ;;MAEhC,IAAI,aAAa,OAAO;MACxB,IAAI,WAAW,OAAO,WAAW;AAE3B,UADkB,YAAY,OAAO,WAAS,OAAO,QAAQ,aAAa,IAAI,QAAQ,aAAa,EAC9E;AACpB,kBAAW,WAAW,OAAO,KAAI,OAAO,WAAU,QAAQ;AAChE,WAAG,YACF;aAAK,IAAI,UAAU,WAClB,KAAI,OAAO,UAAU,eAAe,KAAK,YAAY,OAAO,CAC3D,YAAW,iBAAiB,OAAO;;AAItC,WAAG,CAAC,SACM,cAAa,WAAW,mBAAiB,UAAQ,6CAA2C,OAAO,QAAS;YAGhH,YAAW,KAAK,OAAO;AAG9B;AACA;KAED,KAAK;AACJ,iBAASG,WAAS,SAAS;AAC3B,YAAM,iBAAiBH,UAAO,UAAS,WAAW;AAClD;KACD,KAAK;AACJ,iBAASG,WAAS,SAAS;AAC3B,YAAM,SAASH,UAAO,UAAS,YAAW,aAAa;AACvD;KACD;AACC,iBAASG,WAAS,SAAS;MAC3B,IAAI,KAAK,IAAI,mBAAmB;MAChC,IAAI,eAAe,WAAW,WAAW,SAAO,GAAG;MAEnD,IAAI,MAAM,sBAAsBH,UAAO,UAAS,IAAG,cAAa,gBAAe,aAAa;MAC5F,IAAI,MAAM,GAAG;AAGb,UAAG,CAAC,GAAG,UAAU,cAAcA,UAAO,KAAI,GAAG,SAAQ,SAAS,EAAC;AAC9D,UAAG,SAAS;AACZ,WAAG,CAAC,UAAU,KACb,cAAa,QAAQ,yBAAyB;;AAGhD,UAAG,WAAW,KAAI;OACjB,IAAI,WAAW,YAAY,SAAQ,EAAE,CAAC;AAEtC,YAAI,IAAI,IAAI,GAAE,IAAE,KAAI,KAAI;QACvB,IAAI,IAAI,GAAG;AACX,mBAAS,EAAE,OAAO;AAClB,UAAE,UAAU,YAAY,SAAQ,EAAE,CAAC;;AAEpC,kBAAW,UAAU;AACrB,WAAGI,gBAAc,IAAG,YAAW,aAAa,CAC3C,YAAW,KAAK,GAAG;AAEpB,kBAAW,UAAU;iBAElBA,gBAAc,IAAG,YAAW,aAAa,CAC3C,YAAW,KAAK,GAAG;AAIrB,UAAIP,YAAU,OAAO,GAAG,IAAI,IAAI,CAAC,GAAG,OACnC,OAAM,wBAAwBG,UAAO,KAAI,GAAG,SAAQ,gBAAe,WAAW;UAE9E;;YAGI,GAAE;AACR,QAAI,aAAaF,aAChB,OAAM;AAEP,iBAAa,MAAM,0BAAwB,EAAE;AAC7C,UAAM;;AAEP,OAAG,MAAI,MACN,SAAQ;OAGR,YAAW,KAAK,IAAI,UAAS,MAAM,GAAC,EAAE;;;CAIzC,SAAS,YAAY,GAAE,GAAE;AACxB,IAAE,aAAa,EAAE;AACjB,IAAE,eAAe,EAAE;AACnB,SAAO;;;;;;CAOR,SAAS,sBAAsB,UAAO,OAAM,IAAG,cAAa,gBAAe,cAAa;;;;;;EAOvF,SAAS,aAAa,OAAO,SAAO,YAAY;AAC/C,OAAI,GAAG,eAAe,eAAe,MAAM,CAC1C,cAAa,WAAW,eAAe,QAAQ,aAAa;AAE7D,MAAG,SACF,OAKAO,QAAM,QAAQ,aAAa,IAAI,CAAC,QAAQ,YAAY,eAAe,EACnE,WACA;;EAEF,IAAI;EACJ,IAAI;EACJ,IAAI,IAAI,EAAE;EACV,IAAI,IAAI;AACR,SAAM,MAAK;GACV,IAAI,IAAIL,SAAO,OAAO,EAAE;AACxB,WAAO,GAAP;IACA,KAAK;AACJ,SAAG,MAAM,QAAO;AACf,iBAAWA,SAAO,MAAM,OAAM,EAAE;AAChC,UAAI;gBACI,MAAM,aACd,KAAI;SAGJ,OAAM,IAAI,MAAM,sCAAsC;AAEvD;IACD,KAAK;IACL,KAAK;AACJ,SAAG,MAAM,QAAQ,MAAM,QACrB;AACD,UAAG,MAAM,QAAO;AACf,oBAAa,QAAQ,mCAAiC;AACtD,kBAAWA,SAAO,MAAM,OAAM,EAAE;;AAEjC,cAAQ,IAAE;AACV,UAAIA,SAAO,QAAQ,GAAE,MAAM;AAC3B,UAAG,IAAE,GAAE;AACN,eAAQA,SAAO,MAAM,OAAO,EAAE;AAC9B,oBAAa,UAAU,OAAO,QAAM,EAAE;AACtC,WAAI;YAGJ,OAAM,IAAI,MAAM,6BAA4B,IAAE,UAAW;gBAElD,KAAK,qBAAoB;AACjC,cAAQA,SAAO,MAAM,OAAO,EAAE;AAC9B,mBAAa,UAAU,OAAO,MAAM;AACpC,mBAAa,QAAQ,iBAAc,WAAS,0BAAuB,IAAE,MAAM;AAC3E,cAAQ,IAAE;AACV,UAAI;WAGJ,OAAM,IAAI,MAAM,mCAAiC;AAElD;IACD,KAAK;AACJ,aAAO,GAAP;MACA,KAAK,MACJ,IAAG,WAAWA,SAAO,MAAM,OAAM,EAAE,CAAC;MACrC,KAAK;MACL,KAAK;MACL,KAAK;AACJ,WAAG;AACH,UAAG,SAAS;MACb,KAAK;MACL,KAAK,OACJ;MACA,KAAK;AACJ,UAAG,SAAS;AACb;MAED,QACC,OAAM,IAAI,MAAM,oCAAoC;;AAErD;IACD,KAAK;AACJ,kBAAa,MAAM,0BAA0B;AAC7C,SAAG,KAAK,MACP,IAAG,WAAWA,SAAO,MAAM,OAAM,EAAE,CAAC;AAErC,YAAO;IACR,KAAK;AACJ,aAAO,GAAP;MACA,KAAK,MACJ,IAAG,WAAWA,SAAO,MAAM,OAAM,EAAE,CAAC;MACrC,KAAK;MACL,KAAK;MACL,KAAK,YACJ;MACD,KAAK;MACL,KAAK;AACJ,eAAQA,SAAO,MAAM,OAAM,EAAE;AAC7B,WAAG,MAAM,MAAM,GAAG,KAAK,KAAI;AAC1B,WAAG,SAAU;AACb,gBAAQ,MAAM,MAAM,GAAE,GAAG;;MAE3B,KAAK;AACJ,WAAG,MAAM,aACR,SAAQ;AAET,WAAG,KAAK,qBAAoB;AAC3B,qBAAa,QAAQ,iBAAc,QAAM,sBAAoB;AAC7D,qBAAa,UAAU,OAAO,MAAM;cAChC;AACJ,YAAG,CAACH,YAAU,OAAO,aAAa,IAAI,IAAI,CAAC,MAAM,MAAM,mCAAmC,CACzF,cAAa,QAAQ,iBAAc,QAAM,yBAAqB,QAAM,eAAc;AAEnF,qBAAa,OAAO,OAAO,MAAM;;AAElC;MACD,KAAK,KACJ,OAAM,IAAI,MAAM,2BAA2B;;AAG5C,YAAO;IAER,KAAK,IACJ,KAAI;IACL,QACC,KAAG,KAAI,IACN,SAAO,GAAP;KACA,KAAK;AACJ,SAAG,WAAWG,SAAO,MAAM,OAAM,EAAE,CAAC;AACpC,UAAI;AACJ;KACD,KAAK;AACJ,iBAAWA,SAAO,MAAM,OAAM,EAAE;AAChC,UAAI;AACJ;KACD,KAAK;MACJ,IAAI,QAAQA,SAAO,MAAM,OAAO,EAAE;AAClC,mBAAa,QAAQ,iBAAc,QAAM,uBAAqB;AAC9D,mBAAa,UAAU,OAAO,MAAM;KACrC,KAAK;AACJ,UAAI;AACJ;;QAWD,SAAO,GAAP;KAIA,KAAK;AACW,SAAG;AAClB,UAAI,CAACH,YAAU,OAAO,aAAa,IAAI,IAAI,CAAC,SAAS,MAAM,mCAAmC,CAC7F,cAAa,QAAQ,iBAAc,WAAS,yBAAqB,WAAS,gBAAe;AAE1F,mBAAa,UAAU,UAAU,MAAM;AACvC,cAAQ;AACR,UAAI;AACJ;KACD,KAAK,WACJ,cAAa,QAAQ,kCAA+B,WAAS,OAAM;KACpE,KAAK;AACJ,UAAI;AACJ,cAAQ;AACR;KACD,KAAK;AACJ,UAAI;AACJ,cAAQ;AACR;KACD,KAAK,YACJ,OAAM,IAAI,MAAM,6DAA6D;;;AAKhF;;;;;;CAMF,SAASO,gBAAc,IAAG,YAAW,cAAa;EACjD,IAAI,UAAU,GAAG;EACjB,IAAI,aAAa;EAEjB,IAAI,IAAI,GAAG;AACX,SAAM,KAAI;GACT,IAAI,IAAI,GAAG;GACX,IAAI,QAAQ,EAAE;GACd,IAAI,QAAQ,EAAE;GACd,IAAI,MAAM,MAAM,QAAQ,IAAI;AAC5B,OAAG,MAAI,GAAE;IACR,IAAI,SAAS,EAAE,SAAS,MAAM,MAAM,GAAE,IAAI;IAC1C,IAAI,YAAY,MAAM,MAAM,MAAI,EAAE;IAClC,IAAI,WAAW,WAAW,WAAW;UACjC;AACJ,gBAAY;AACZ,aAAS;AACT,eAAW,UAAU,WAAW;;AAGjC,KAAE,YAAY;AAEd,OAAG,aAAa,OAAM;AACrB,QAAG,cAAc,MAAK;AACrB,kBAAa,EAAE;AAEf,WAAM,cAAa,eAAa,EAAE,CAAC;;AAGpC,iBAAa,YAAY,WAAW,YAAY;AAChD,MAAE,MAAMP,YAAU;AAClB,eAAW,mBAAmB,UAAU,MAAM;;;EAGhD,IAAI,IAAI,GAAG;AACX,SAAM,KAAI;AACT,OAAI,GAAG;GACP,IAAI,SAAS,EAAE;AACf,OAAG,QAAO;AACT,QAAG,WAAW,MACb,GAAE,MAAMA,YAAU;AAClB,QAAG,WAAW,QACd,GAAE,MAAM,aAAa,UAAU;;;EAMlC,IAAI,MAAM,QAAQ,QAAQ,IAAI;AAC9B,MAAG,MAAI,GAAE;AACR,YAAS,GAAG,SAAS,QAAQ,MAAM,GAAE,IAAI;AACzC,eAAY,GAAG,YAAY,QAAQ,MAAM,MAAI,EAAE;SAC3C;AACJ,YAAS;AACT,eAAY,GAAG,YAAY;;EAG5B,IAAI,KAAK,GAAG,MAAM,aAAa,UAAU;AACzC,aAAW,aAAa,IAAG,WAAU,SAAQ,GAAG;AAGhD,MAAG,GAAG,QAAO;AACZ,cAAW,WAAW,IAAG,WAAU,QAAQ;AAC3C,OAAG,YACF;SAAK,UAAU,WACd,KAAI,OAAO,UAAU,eAAe,KAAK,YAAY,OAAO,CAC3D,YAAW,iBAAiB,OAAO;;SAIlC;AACJ,MAAG,eAAe;AAClB,MAAG,aAAa;AAEhB,UAAO;;;CAGT,SAAS,wBAAwB,UAAO,YAAW,SAAQ,gBAAe,YAAW;AACpF,MAAG,yBAAyB,KAAK,QAAQ,EAAC;GACzC,IAAI,aAAcG,SAAO,QAAQ,OAAK,UAAQ,KAAI,WAAW;GAC7D,IAAI,OAAOA,SAAO,UAAU,aAAW,GAAE,WAAW;AACpD,OAAG,OAAO,KAAK,KAAK,EAAC;AACpB,QAAG,YAAY,KAAK,QAAQ,EAAC;AAG3B,gBAAW,WAAW,MAAK,GAAE,KAAK,OAAO;AAEzC,YAAO;;AAGR,WAAO,KAAK,QAAQ,YAAW,eAAe;AAC9C,eAAW,WAAW,MAAK,GAAE,KAAK,OAAO;AACzC,WAAO;;;AAKV,SAAO,aAAW;;CAEnB,SAAS,cAAc,UAAO,YAAW,SAAQ,UAAS;EAEzD,IAAI,MAAM,SAAS;AACnB,MAAG,OAAO,MAAK;AAEd,SAAOA,SAAO,YAAY,OAAK,UAAQ,IAAI;AAC3C,OAAG,MAAI,WACN,OAAMA,SAAO,YAAY,OAAK,QAAQ;AAEvC,YAAS,WAAU;;AAEpB,SAAO,MAAI;;CAIZ,SAAS,MAAO,UAAQ,QAAQ;AAC/B,OAAK,IAAI,KAAKA,SACb,KAAI,OAAO,UAAU,eAAe,KAAKA,UAAQ,EAAE,CAClD,QAAO,KAAKA,SAAO;;CAKtB,SAAS,SAAS,UAAO,OAAM,YAAW,cAAa;AAEtD,UADUA,SAAO,OAAO,QAAM,EAAE,EAChC;GACA,KAAK,IACJ,KAAGA,SAAO,OAAO,QAAQ,EAAE,KAAK,KAAI;IACnC,IAAI,MAAMA,SAAO,QAAQ,OAAM,QAAM,EAAE;AAEvC,QAAG,MAAI,OAAM;AACZ,gBAAW,QAAQA,UAAO,QAAM,GAAE,MAAI,QAAM,EAAE;AAC9C,YAAO,MAAI;WACP;AACJ,kBAAa,MAAM,mBAAmB;AACtC,YAAO;;SAIR,QAAO;GAET;AACC,QAAGA,SAAO,OAAO,QAAM,GAAE,EAAE,IAAI,UAAS;KACvC,IAAI,MAAMA,SAAO,QAAQ,OAAM,QAAM,EAAE;AACvC,gBAAW,YAAY;AACvB,gBAAW,WAAWA,UAAO,QAAM,GAAE,MAAI,QAAM,EAAE;AACjD,gBAAW,UAAU;AACrB,YAAO,MAAI;;IAIZ,IAAI,SAAS,MAAMA,UAAO,MAAM;IAChC,IAAI,MAAM,OAAO;AACjB,QAAG,MAAI,KAAK,YAAY,KAAK,OAAO,GAAG,GAAG,EAAC;KAC1C,IAAI,OAAO,OAAO,GAAG;KACrB,IAAI,QAAQ;KACZ,IAAI,QAAQ;AACZ,SAAG,MAAI,GACN;UAAG,YAAY,KAAK,OAAO,GAAG,GAAG,EAAC;AACjC,eAAQ,OAAO,GAAG;AAClB,eAAQ,MAAI,KAAK,OAAO,GAAG;iBACnB,YAAY,KAAK,OAAO,GAAG,GAAG,CACtC,SAAQ,OAAO,GAAG;;KAGpB,IAAI,YAAY,OAAO,MAAI;AAC3B,gBAAW,SAAS,MAAM,OAAO,MAAM;AACvC,gBAAW,QAAQ;AAEnB,YAAO,UAAU,QAAM,UAAU,GAAG;;;AAGtC,SAAO;;CAKR,SAAS,iBAAiB,UAAO,OAAM,YAAW;EACjD,IAAI,MAAMA,SAAO,QAAQ,MAAK,MAAM;AACpC,MAAG,KAAI;GACN,IAAI,QAAQA,SAAO,UAAU,OAAM,IAAI,CAAC,MAAM,6BAA6B;AAC3E,OAAG,OAAM;AACE,UAAM,GAAG;AACnB,eAAW,sBAAsB,MAAM,IAAI,MAAM,GAAG;AACpD,WAAO,MAAI;SAEX,QAAO;;AAGT,SAAO;;CAGR,SAAS,oBAAmB;AAC3B,OAAK,iBAAiB,EAAE;;AAEzB,mBAAkB,YAAY;EAC7B,YAAW,SAAS,SAAQ;AAC3B,OAAG,CAAC,eAAe,KAAK,QAAQ,CAC/B,OAAM,IAAI,MAAM,qBAAmB,QAAQ;AAE5C,QAAK,UAAU;;EAEhB,UAAS,SAAS,OAAO,OAAO,QAAQ;AACvC,OAAG,CAAC,eAAe,KAAK,MAAM,CAC7B,OAAM,IAAI,MAAM,uBAAqB,MAAM;AAE5C,QAAK,eAAe,SAAS,KAAK;AAClC,QAAK,KAAK,YAAY;IAAO;IAAY;IAAa;IAAO;;EAE9D,QAAO;EACP,cAAa,SAAS,GAAE;AAAC,UAAO,KAAK,GAAG;;EACxC,YAAW,SAAS,GAAE;AAAC,UAAO,KAAK,GAAG;;EACtC,UAAS,SAAS,GAAE;AAAC,UAAO,KAAK,GAAG;;EACpC,QAAO,SAAS,GAAE;AAAC,UAAO,KAAK,GAAG;;EAClC,UAAS,SAAS,GAAE;AAAC,UAAO,KAAK,GAAG;;EAWpC;CAID,SAAS,MAAM,UAAO,OAAM;EAC3B,IAAI;EACJ,IAAI,MAAM,EAAE;EACZ,IAAI,MAAM;AACV,MAAI,YAAY;AAChB,MAAI,KAAKA,SAAO;AAChB,SAAM,QAAQ,IAAI,KAAKA,SAAO,EAAC;AAC9B,OAAI,KAAK,MAAM;AACf,OAAG,MAAM,GAAG,QAAO;;;AAIrB,SAAQ,YAAYD;AACpB,SAAQ,aAAaD;;;;;;CCrpBrB,IAAI;CACJ,IAAIQ;CACJ,IAAI;CACJ,IAAI;CAEJ,IAAI,oBAAoBA,MAAI;CAE5B,IAAI,YAAY,YAAY;CAE5B,IAAI,aAAa,IAAI;CACrB,IAAI,YAAY,IAAI;;;;;;;;;;;;;;;;;;;;;;CAuBpB,SAAS,qBAAqB,OAAO;AACpC,SAAO,MACL,QAAQ,iBAAiB,KAAK,CAC9B,QAAQ,qBAAqB,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAkCrC,SAASC,YAAU,SAAQ;AAC1B,OAAK,UAAU,WAAU,EAAC,SAAQ,EAAE,EAAC;;AAGtC,aAAU,UAAU,kBAAkB,SAAS,UAAO,UAAS;EAC9D,IAAI,UAAU,KAAK;EACnB,IAAIC,QAAO,IAAI,WAAW;EAC1B,IAAI,aAAa,QAAQ,cAAc,IAAI,YAAY;EACvD,IAAI,eAAe,QAAQ;EAC3B,IAAI,UAAU,QAAQ;EACtB,IAAI,eAAe,QAAQ,SAAO,EAAE;EACpC,IAAI,SAAS,aAAa,KAAK,SAAS;EACtC,IAAI,YAAY,SAAS,SAAS,gBAAgB,SAAS;AAC7D,MAAG,QACF,YAAW,mBAAmB,QAAQ;AAGvC,QAAI,eAAe,kBAAkB,cAAa,YAAW,QAAQ;AACrE,QAAI,aAAa,QAAQ,cAAc;AACvC,MAAG,OACF,cAAa,MAAM,UAAU;AAE9B,eAAa,MAAM,aAAa,OAAO,UAAU;EACjD,IAAI,YAAY,QAAQ,wBAAwB;AAChD,MAAIC,YAAU,OAAOA,aAAW,SAC/B,OAAI,MACH,UAAUA,SAAO,EACjB,cACA,UACA;MAED,OAAI,aAAa,MAAM,qBAAqB;AAE7C,SAAO,WAAW;;CAEnB,SAAS,kBAAkB,WAAU,YAAW,SAAQ;AACvD,MAAG,CAAC,WAAU;AACb,OAAG,sBAAsB,WACxB,QAAO;AAER,eAAY;;EAEb,IAAI,eAAe,EAAE;EACrB,IAAI,aAAa,qBAAqB;AACtC,YAAU,WAAS,EAAE;EACrB,SAAS,MAAM,KAAI;GAClB,IAAI,KAAK,UAAU;AACnB,OAAG,CAAC,MAAM,WACT,MAAK,UAAU,UAAU,IAAE,SAAS,KAAI;AAAC,cAAU,KAAI,IAAI;OAAE;AAE9D,gBAAa,OAAO,MAAM,SAAS,KAAI;AACtC,OAAG,aAAW,MAAI,OAAM,MAAI,SAAS,QAAQ,CAAC;QAC5C,WAAU;;AAEd,QAAM,UAAU;AAChB,QAAM,QAAQ;AACd,QAAM,aAAa;AACnB,SAAO;;;;;;;;;;;CAaR,SAAS,aAAa;AAClB,OAAK,QAAQ;;CAEjB,SAAS,SAAS,SAAQ,MAAK;AAC9B,OAAK,aAAa,QAAQ;AAC1B,OAAK,eAAe,QAAQ;;;;;;AAM7B,YAAW,YAAY;EACtB,eAAgB,WAAW;AACvB,QAAK,MAAM,IAAI,mBAAmB,CAAC,eAAe,MAAM,MAAM,KAAK;AACnE,OAAI,KAAK,QACL,MAAK,IAAI,cAAc,KAAK,QAAQ;;EAG5C,cAAa,SAAS,cAAc,WAAW,OAAO,OAAO;GAC5D,IAAI,MAAM,KAAK;GACZ,IAAI,KAAK,IAAI,gBAAgB,cAAc,SAAO,UAAU;GAC5D,IAAI,MAAM,MAAM;AAChB,iBAAc,MAAM,GAAG;AACvB,QAAK,iBAAiB;AAEzB,QAAK,WAAW,SAAS,KAAK,SAAQ,GAAG;AACtC,QAAK,IAAI,IAAI,GAAI,IAAI,KAAK,KAAK;IAC3B,IAAI,eAAe,MAAM,OAAO,EAAE;IAClC,IAAI,QAAQ,MAAM,SAAS,EAAE;IAC7B,IAAI,QAAQ,MAAM,SAAS,EAAE;IACnC,IAAI,OAAO,IAAI,kBAAkB,cAAc,MAAM;AACrD,SAAK,WAAU,SAAS,MAAM,WAAW,EAAE,EAAC,KAAK;AACjD,SAAK,QAAQ,KAAK,YAAY;AAC9B,OAAG,iBAAiB,KAAK;;;EAG3B,YAAW,SAAS,cAAc,WAAW,OAAO;GACnD,IAAI,UAAU,KAAK;AACL,WAAQ;AACtB,QAAK,iBAAiB,QAAQ;;EAE/B,oBAAmB,SAAS,QAAQ,KAAK;EAEzC,kBAAiB,SAAS,QAAQ;EAElC,uBAAsB,SAAS,QAAQ,MAAM;GACzC,IAAI,MAAM,KAAK,IAAI,4BAA4B,QAAQ,KAAK;AAC5D,QAAK,WAAW,SAAS,KAAK,SAAQ,IAAI;AAC1C,iBAAc,MAAM,IAAI;;EAE5B,qBAAoB,SAAS,IAAI,OAAO,QAAQ;EAEhD,YAAW,SAAS,OAAO,OAAO,QAAQ;AACzC,WAAQ,UAAU,MAAM,MAAK,UAAU;AAEvC,OAAG,OAAM;AACR,QAAI,KAAK,OACR,IAAI,WAAW,KAAK,IAAI,mBAAmB,MAAM;SAEjD,IAAI,WAAW,KAAK,IAAI,eAAe,MAAM;AAE9C,QAAG,KAAK,eACP,MAAK,eAAe,YAAY,SAAS;aACjC,QAAQ,KAAK,MAAM,CAC3B,MAAK,IAAI,YAAY,SAAS;AAG/B,SAAK,WAAW,SAAS,KAAK,SAAQ,SAAS;;;EAGjD,eAAc,SAAS,MAAM;EAE7B,aAAY,WAAW;AACtB,QAAK,IAAI,WAAW;;EAErB,oBAAmB,SAAU,SAAS;AAClC,OAAG,KAAK,UAAU,QACjB,SAAQ,aAAa;;EAI1B,SAAQ,SAAS,OAAO,OAAO,QAAQ;AACtC,WAAQ,UAAU,MAAM,MAAK,UAAU;GACpC,IAAI,OAAO,KAAK,IAAI,cAAc,MAAM;AACxC,QAAK,WAAW,SAAS,KAAK,SAAQ,KAAK;AAC3C,iBAAc,MAAM,KAAK;;EAG7B,YAAW,WAAW;AAElB,QAAK,QAAQ;;EAEjB,UAAS,WAAW;AAChB,QAAK,QAAQ;;EAGjB,UAAS,SAAS,MAAM,UAAU,UAAU;GAC3C,IAAI,OAAO,KAAK,IAAI;AACjB,OAAI,QAAQ,KAAK,oBAAoB;IACjC,IAAI,KAAK,KAAK,mBAAmB,MAAM,UAAU,SAAS;AAC1D,SAAK,WAAW,SAAS,KAAK,SAAQ,GAAG;AACzC,kBAAc,MAAM,GAAG;AAC3B,SAAK,IAAI,UAAU;;;EAOvB,SAAQ,SAAS,OAAO;AACvB,WAAQ,KAAK,sBAAqB,OAAM,SAAS,KAAK,QAAQ,CAAC;;EAEhE,OAAM,SAAS,OAAO;AACrB,WAAQ,MAAM,oBAAmB,OAAM,SAAS,KAAK,QAAQ,CAAC;;EAE/D,YAAW,SAAS,OAAO;AAC1B,SAAM,IAAI,WAAW,OAAO,KAAK,QAAQ;;EAE1C;CACD,SAAS,SAAS,GAAE;AACnB,MAAG,EACF,QAAO,SAAO,EAAE,YAAW,MAAI,YAAU,EAAE,aAAW,UAAQ,EAAE,eAAa;;CAG/E,SAAS,UAAU,OAAM,OAAM,QAAO;AACrC,MAAG,OAAO,SAAS,SAClB,QAAO,MAAM,OAAO,OAAM,OAAO;OAC7B;AACJ,OAAG,MAAM,UAAU,QAAM,UAAU,MAClC,QAAO,IAAI,KAAK,KAAK,OAAO,OAAM,OAAM,OAAO,GAAC;AAEjD,UAAO;;;AAmCT,gKAA+J,QAAQ,QAAO,SAAS,KAAI;AAC1L,aAAW,UAAU,OAAO,WAAU;AAAC,UAAO;;GAC7C;CAGF,SAAS,cAAe,QAAO,MAAM;AACjC,MAAI,CAAC,OAAO,eACR,QAAO,IAAI,YAAY,KAAK;MAE5B,QAAO,eAAe,YAAY,KAAK;;AAI/C,SAAQ,eAAe;AACvB,SAAQ,uBAAuB;AAC/B,SAAQ,YAAYF;;;;;;CCjUpB,IAAI;AACJ,SAAQ,oBAAoB,IAAI;AAChC,SAAQ,gBAAgB,IAAI;AAC5B,SAAQ,iCAAoC;;;;;;ACA5C,IAAM,mBAAmB;CACvB,eAAe,OAAO,WAAW,IAAI,gBAAgB,SAAS,GAAG,UAAU,EAAE;CAC7E,mBAAmB,IAAI,OAAO;CAC9B,mCAAmC;CACnC,gCAAgC;CAChC,oBAAoB;CACpB,kBAAkB,WAAW,SAAS;CACtC,sBAAsB,WAAW;CACjC,QAAQ,KAAK,YAAY,MAAM,KAAK,QAAQ;CAC5C,WAAW,QAAQ;AAEjB,SADe,IAAIG,sBAAW,CAChB,gBAAgB,KAAK,WAAW;;CAEjD;;;;AChBD,IAAI,WAAW;;;;ACAf,IAAI,SAAS;;;;ACSb,IAAM,eAAe,MAAMC,uBAAqB,OAAO;CACrD,YAAY,SAAS;AACnB,YAAU;GAAE,GAAGA,eAAa;GAAgB,GAAG;GAAS;EACxD,MAAM,aAAa,WAAW,KAAK;GACjC,QAAQ;IACN;IACA,YAAY;IACb;GACD,UAAU;IACR;IACA,YAAY;IACb;GACF,CAAC;EACF,MAAM,YAAY,UAAU,KAAK;GAC/B;GACA;GACA,MAAM;GACP,CAAC;EACF,MAAM,EAAE,MAAO,GAAG,SAAS;EAC3B,MAAM,gBAAgB,IAAI,aAAa,EACrC,QAAQ;GAAE,OAAO;GAAO,MAAM;GAAO,EACtC,CAAC;AACF,QAAM;GACJ,GAAG;GACH;GACA;GACA,WAAW,EACT,eACD;GACF,CAAC;;;;;;;;;;;;;;;;;;;CAmBJ,IAAI,QAAQ;AACV,SAAO,KAAK,UAAU,cAAc,SAAS;;CAE/C,IAAI,MAAM,OAAO;AACf,OAAK,UAAU,cAAc,SAAS,SAAS;;;;;;;;;;;;;;AAcnD,aAAa,iBAAiB,EAO5B,OAAO,GACR;AACD,IAAI,cAAc;;;;ACnFlB,IAAM,kBAAkB;CACtB,GAAG;EAAC;EAAU;EAAU;EAAS;CACjC,GAAG;EAAC;EAAU;EAAU;EAAU;EAAS;CAC3C,GAAG;EAAC;EAAU;EAAU;EAAU;EAAU;EAAQ;CACpD,IAAI;EAAC;EAAO;EAAU;EAAU;EAAU;EAAU;EAAS;CAC7D,IAAI;EAAC;EAAS;EAAS;EAAU;EAAU;EAAU;EAAU;EAAS;CACxE,IAAI;EAAC;EAAQ;EAAS;EAAS;EAAS;EAAU;EAAU;EAAU;EAAS;CAChF;;;;ACLD,IAAM,eAAe;CACnB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACD,CAAC,KAAK,KAAK;AACZ,SAAS,uBAAuB,YAAY;CAC1C,MAAM,SAAS,gBAAgB;CAC/B,MAAM,aAAa,OAAO;CAC1B,IAAI,aAAa;CACjB,IAAI,WAAW;CACf,MAAM,WAAW;CACjB,IAAI;AACJ,MAAK,IAAI,IAAI,GAAG,IAAI,YAAY,KAAK;EACnC,IAAI,OAAO,SAAS,QAAQ,WAAW,EAAE,UAAU,CAAC;AACpD,UAAQ;AACR,MAAI,KAAK,WACP,SAAQ,aAAa,IAAI;AAE3B,SAAO,KAAK,QAAQ,WAAW,OAAO,OAAO,UAAU,CAAC;AACxD,cAAY;AACZ,cAAY;;AAEd,cAAa,WAAW,QAAQ,UAAU,SAAS;AACnD,cAAa,WAAW,QAAQ,UAAU,WAAW,UAAU,CAAC;AAChE,QAAO;;;;;AC/BT,IAAM,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCrB,SAAS,uBAAuB,YAAY,GAAG;CAC7C,MAAM,aAAa,KAAK,KAAK,aAAa,EAAE;CAC5C,IAAI,aAAa;CACjB,IAAI,WAAW;CACf,IAAI;AACJ,KAAI,EACF,YAAW;KAEX,YAAW;AAEb,MAAK,IAAI,IAAI,GAAG,IAAI,YAAY,KAAK;EACnC,IAAI,OAAO,SAAS,QAAQ,WAAW,EAAE,UAAU,CAAC;AACpD,SAAO,KAAK,QAAQ,iBAAiB,GAAG,KAAK,aAAa,GAAG,IAAI;AACjE,cAAY;AACZ,cAAY;;AAEd,cAAa,WAAW,QAAQ,UAAU,SAAS;AACnD,cAAa,WAAW,QAAQ,UAAU,WAAW,UAAU,CAAC;AAChE,cAAa,WAAW,QAAQ,eAAe,IAAI,MAAM,IAAI;AAC7D,QAAO;;;;;AClDT,SAAS,sBAAsB,YAAY,YAAY;CACrD,MAAMC,WAAS,uBAAuB,YAAY,WAAW;CAC7D,MAAMC,aAAW,uBAAuB,WAAW;AACnD,QAAO,UAAU,KAAK;EACpB;EACA;EACA,MAAM,QAAQ,aAAa,eAAe,WAAW;EACtD,CAAC;;;;;ACZJ,IAAIC,WAAS;;;;ACKb,SAAS,oBAAoB,YAAY,YAAY;CACnD,MAAM,SAAS,gBAAgB;CAC/B,MAAM,aAAa,OAAO;CAC1B,MAAM,mBAAmB,EAAE;CAC3B,MAAM,gBAAgB,EAAE;CACxB,MAAM,qBAAqB,EAAE;AAC7B,MAAK,IAAI,IAAI,GAAG,IAAI,YAAY,KAAK;AACnC,mBAAiB,KAAK,aAAa,EAAE,UAAU,EAAE;AACjD,MAAI,WACF,eAAc,KAAK,uBAAuB,IAAI,aAAa,EAAE;MAE7D,eAAc,KAAK,4BAA4B,IAAI,aAAa,EAAE;EAEpE,MAAM,cAAc,IAAI,aAAa,IAAI,aAAa,IAAI;EAC1D,MAAM,cAAc,OAAO,aAAa,UAAU;AAClD,qBAAmB,KAAK,yDAAyD,EAAE,MAAM,YAAY;;CAEvG,MAAM,aAAa,iBAAiB,KAAK,KAAK;CAC9C,MAAM,UAAU,cAAc,KAAK,KAAK;CACxC,MAAM,eAAe,mBAAmB,KAAK,KAAK;CAClD,MAAM,cAAcC,SAAO,QAAQ,iBAAiB,WAAW,CAAC,QAAQ,qBAAqB,QAAQ,CAAC,QAAQ,sBAAsB,WAAW,CAAC,QAAQ,mBAAmB,aAAa,CAAC,QAAQ,eAAe,aAAa,MAAM,IAAI;AACvO,QAAO,WAAW,KAAK;EACrB,QAAQ;GACN,QAAQ;GACR,YAAY;GACb;EACD,UAAU;GACR,QAAQ;GACR,YAAY;GACb;EACF,CAAC;;;;;AC5BJ,IAAM,kBAAkB,MAAMC,0BAAwB,OAAO;;;;;;;;CAQ3D,YAAY,SAAS;AACnB,YAAU;GAAE,GAAGA,kBAAgB;GAAgB,GAAG;GAAS;EAC3D,MAAM,YAAY,sBAAsB,QAAQ,YAAY,QAAQ,WAAW;EAC/E,MAAM,aAAa,oBAAoB,QAAQ,YAAY,QAAQ,WAAW;AAC9E,QAAM;GACJ;GACA;GACA,WAAW,EACT,cAAc,EACZ,WAAW;IAAE,OAAO;IAAG,MAAM;IAAO,EACrC,EACF;GACD,GAAG;GACJ,CAAC;AACF,OAAK,aAAa,QAAQ;AAC1B,OAAK,WAAW;AAChB,OAAK,UAAU,QAAQ;AACvB,OAAK,OAAO,QAAQ;AACpB,OAAK,YAAY,KAAK,UAAU,aAAa;;;;;;;;;CAS/C,MAAM,eAAe,OAAO,QAAQ,WAAW;AAC7C,OAAK,UAAU,YAAY,KAAK,WAAW,KAAK;AAChD,MAAI,KAAK,WAAW,EAClB,eAAc,YAAY,MAAM,OAAO,QAAQ,UAAU;OACpD;GACL,MAAM,cAAc,YAAY,mBAAmB,MAAM;GACzD,IAAI,OAAO;GACX,IAAI,OAAO;AACX,QAAK,OAAO,QAAQ;GACpB,MAAM,cAAc,cAAc,SAAS,SAAS,aAAa;AACjE,QAAK,IAAI,IAAI,GAAG,IAAI,KAAK,SAAS,GAAG,KAAK;AACxC,kBAAc,YAAY,MAAM,MAAM,MAAM,MAAM,IAAI,OAAO,YAAY;IACzE,MAAM,OAAO;AACb,WAAO;AACP,WAAO;;AAET,QAAK,OAAO,QAAQ;AACpB,iBAAc,YAAY,MAAM,MAAM,QAAQ,UAAU;AACxD,eAAY,cAAc,YAAY;;;;;;;CAO1C,IAAI,OAAO;AACT,SAAO,KAAK;;CAEd,IAAI,KAAK,OAAO;AACd,OAAK,UAAU,IAAI,KAAK,IAAI,MAAM,GAAG;AACrC,OAAK,WAAW;;;;;;;CAOlB,IAAI,UAAU;AACZ,SAAO,KAAK;;CAEd,IAAI,QAAQ,OAAO;AACjB,OAAK,WAAW;AAChB,OAAK,SAAS;;;;AAIlB,gBAAgB,iBAAiB;CAE/B,UAAU;CAEV,SAAS;CAET,YAAY;CACb;AACD,IAAI,iBAAiB;;;;ACzFrB,IAAM,aAAN,cAAyB,OAAO;CAC9B,YAAY,GAAG,MAAM;EACnB,IAAI,UAAU,KAAK,MAAM,EAAE;AAC3B,MAAI,OAAO,YAAY,UAAU;AAC/B,eAAY,QAAQ,kHAAkH;AACtI,aAAU,EAAE,UAAU,SAAS;AAC/B,OAAI,KAAK,OAAO,KAAK,EACnB,SAAQ,UAAU,KAAK;AACzB,OAAI,KAAK,OAAO,KAAK,EACnB,SAAQ,aAAa,KAAK,MAAM;AAClC,OAAI,KAAK,OAAO,KAAK,EACnB,SAAQ,aAAa,KAAK;;AAE9B,YAAU;GAAE,GAAG,eAAe;GAAgB,GAAG;GAAS;EAC1D,MAAM,EAAE,UAAU,WAAW,WAAW,QAAS,GAAG,SAAS;AAC7D,QAAM;GACJ,GAAG;GACH,qBAAqB,aAAa;GAClC,WAAW,EAAE;GACd,CAAC;AACF,OAAK,oBAAoB;AACzB,OAAK,cAAc,IAAI,eAAe;GAAE,YAAY;GAAM,GAAG;GAAS,CAAC;AACvE,OAAK,cAAc,IAAI,eAAe;GAAE,YAAY;GAAO,GAAG;GAAS,CAAC;AACxE,OAAK,UAAU;AACf,OAAK,YAAY,aAAa;AAC9B,OAAK,YAAY,aAAa;AAC9B,OAAK,mBAAmB;;;;;;;;;;CAU1B,MAAM,eAAe,OAAO,QAAQ,WAAW;EAC7C,MAAM,YAAY,KAAK,IAAI,KAAK,YAAY,SAAS;EACrD,MAAM,YAAY,KAAK,IAAI,KAAK,YAAY,SAAS;AACrD,MAAI,aAAa,WAAW;GAC1B,MAAM,cAAc,YAAY,mBAAmB,MAAM;AACzD,QAAK,YAAY,YAAY;AAC7B,QAAK,YAAY,MAAM,eAAe,OAAO,aAAa,KAAK;AAC/D,QAAK,YAAY,YAAY,KAAK;AAClC,QAAK,YAAY,MAAM,eAAe,aAAa,QAAQ,UAAU;AACrE,eAAY,cAAc,YAAY;aAC7B,WAAW;AACpB,QAAK,YAAY,YAAY,KAAK;AAClC,QAAK,YAAY,MAAM,eAAe,OAAO,QAAQ,UAAU;SAC1D;AACL,QAAK,YAAY,YAAY,KAAK;AAClC,QAAK,YAAY,MAAM,eAAe,OAAO,QAAQ,UAAU;;;CAGnE,gBAAgB;AACd,MAAI,KAAK,kBACP,MAAK,UAAU;MAEf,MAAK,UAAU,KAAK,IAAI,KAAK,IAAI,KAAK,YAAY,KAAK,EAAE,KAAK,IAAI,KAAK,YAAY,KAAK,CAAC,GAAG;;;;;;;;;;;;;;;;;;CAmBhG,IAAI,WAAW;AACb,MAAI,KAAK,cAAc,KAAK,UAC1B,OAAM,IAAI,MAAM,qDAAqD;AAEvE,SAAO,KAAK;;CAEd,IAAI,SAAS,OAAO;AAClB,OAAK,YAAY,OAAO,KAAK,YAAY,OAAO;AAChD,OAAK,eAAe;;;;;;;;;;;;;;;;CAgBtB,IAAI,UAAU;AACZ,SAAO,KAAK,YAAY;;CAE1B,IAAI,QAAQ,OAAO;AACjB,OAAK,YAAY,UAAU,KAAK,YAAY,UAAU;;;;;;;;;;;;;;;;;CAiBxD,IAAI,YAAY;AACd,SAAO,KAAK,YAAY;;CAE1B,IAAI,UAAU,OAAO;AACnB,OAAK,YAAY,OAAO;AACxB,OAAK,eAAe;;;;;;;;;;;;;;;;;CAiBtB,IAAI,YAAY;AACd,SAAO,KAAK,YAAY;;CAE1B,IAAI,UAAU,OAAO;AACnB,OAAK,YAAY,OAAO;AACxB,OAAK,eAAe;;;;;;;;CAQtB,IAAI,OAAO;AACT,cAAY,SAAS,yEAAyE;AAC9F,SAAO,KAAK;;CAEd,IAAI,KAAK,OAAO;AACd,cAAY,SAAS,yEAAyE;AAC9F,OAAK,WAAW;;;;;;;;CAQlB,IAAI,QAAQ;AACV,cAAY,SAAS,2EAA2E;AAChG,SAAO,KAAK;;CAEd,IAAI,MAAM,OAAO;AACf,cAAY,SAAS,2EAA2E;AAChG,OAAK,YAAY;;;;;;;;CAQnB,IAAI,QAAQ;AACV,cAAY,SAAS,2EAA2E;AAChG,SAAO,KAAK;;CAEd,IAAI,MAAM,OAAO;AACf,cAAY,SAAS,2EAA2E;AAChG,OAAK,YAAY;;;;;;CAMnB,IAAI,mBAAmB;AACrB,SAAO,KAAK;;CAEd,IAAI,iBAAiB,OAAO;AAC1B,OAAK,oBAAoB;AACzB,OAAK,eAAe;;;;;;;;;;;;;;;;;;;;;;;AAuBxB,WAAW,iBAAiB;CAE1B,UAAU;CAEV,SAAS;CAET,YAAY;CACb;;;;AC/OD,IAAIC,aAAW;;;;ACAf,IAAIC,WAAS;;;;ACUb,IAAM,oBAAN,cAAgC,OAAO;CACrC,YAAY,UAAU,EAAE,EAAE;EACxB,MAAM,sBAAsB,IAAI,aAAa;GAC3C,cAAc;IACZ,OAAO;KACL;KACA;KACA;KACA;KACA;KACA;KACA;KACA;KACA;KACA;KACA;KACA;KACA;KACA;KACA;KACA;KACA;KACA;KACA;KACA;KACD;IACD,MAAM;IACN,MAAM;IACP;GACD,QAAQ;IACN,OAAO;IACP,MAAM;IACP;GACF,CAAC;EACF,MAAM,aAAa,WAAW,KAAK;GACjC,QAAQ;IACN;IACA,YAAY;IACb;GACD,UAAU;IACR;IACA,YAAY;IACb;GACF,CAAC;EACF,MAAM,YAAY,UAAU,KAAK;GAC/B;GACA;GACA,MAAM;GACP,CAAC;AACF,QAAM;GACJ,GAAG;GACH;GACA;GACA,WAAW,EACT,qBACD;GACF,CAAC;AACF,OAAK,QAAQ;;;;;;;;CAQf,YAAY,QAAQ,WAAW,OAAO;EACpC,IAAI,YAAY;AAChB,MAAI,UAAU;AACZ,QAAK,UAAU,WAAW,KAAK,QAAQ,OAAO;AAC9C,eAAY,KAAK,aAAa,UAAU;;AAE1C,OAAK,UAAU,oBAAoB,SAAS,eAAe;AAC3D,OAAK,UAAU,oBAAoB,QAAQ;;;;;;;;;;CAU7C,UAAU,KAAK,GAAG,GAAG;AACnB,MAAI,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE;AAC7D,MAAI,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE;AAC7D,MAAI,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE;AAC7D,MAAI,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE;AAC7D,MAAI,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE;AACrE,MAAI,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE;AAC7D,MAAI,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE;AAC7D,MAAI,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE;AAC7D,MAAI,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE;AAC7D,MAAI,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE;AACrE,MAAI,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE;AAClE,MAAI,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE;AAClE,MAAI,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE;AAClE,MAAI,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE;AACl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CA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACD;AACD,OAAK,YAAY,QAAQ,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA4BpC,SAAS,SAAS,GAAG,UAAU;EAC7B,MAAM,IAAI,SAAS,IAAI,IAAI;EAC3B,MAAM,KAAK,IAAI,KAAK;EACpB,MAAM,SAAS;GACb;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACD;AACD,OAAK,YAAY,QAAQ,SAAS;;;;;;;;;;;;;;;;;;;;CAoBpC,aAAa;AACX,OAAK,SAAS,GAAG;;;;;;;;;;;;;;;;;;;;;;;CAuBnB,SAAS,UAAU;AAuBjB,OAAK,YAtBU;GACb;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACD,EACwB,SAAS;;;;;;;;;;;;;;;;;;;;;;;CAuBpC,MAAM,UAAU;AAuBd,OAAK,YAtBU;GACb;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACD,EACwB,SAAS;;;;;;;;;;;;;;;;;;;;;;;;CAwBpC,YAAY,UAAU;AAuBpB,OAAK,YAtBU;GACb;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACD,EACwB,SAAS;;;;;;;;;;;;;;;;;;;;;;;;CAwBpC,SAAS,UAAU;AAuBjB,OAAK,YAtBU;GACb;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACD,EACwB,SAAS;;;;;;;;;;;;;;;;;;;;;;;CAuBpC,MAAM,UAAU;AAuBd,OAAK,YAtBU;GACb;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACD,EACwB,SAAS;;;;;;;;;;;;;;;;;;;;;;;;CAwBpC,WAAW,UAAU;AAuBnB,OAAK,YAtBU;GACb;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACD,EACwB,SAAS;;;;;;;;;;;;;;;;;;;;;;;CAuBpC,OAAO,UAAU;AAuBf,OAAK,YAtBU;GACb;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACD,EACwB,SAAS;;;;;;;;;;;;;;;;;;;;;;;CAuBpC,QAAQ,UAAU;AAuBhB,OAAK,YAtBU;GACb;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACD,EACwB,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA6BpC,UAAU,cAAc,OAAO,YAAY,WAAW,UAAU;AAC9D,mBAAiB,eAAe;AAChC,YAAU,QAAQ;AAClB,iBAAe,aAAa;AAC5B,gBAAc,YAAY;EAC1B,MAAM,OAAO,MAAM;EACnB,MAAM,CAAC,IAAI,IAAI,MAAM,KAAK,SAAS,WAAW,CAAC,SAAS;EACxD,MAAM,CAAC,IAAI,IAAI,MAAM,KAAK,SAAS,UAAU,CAAC,SAAS;EACvD,MAAM,SAAS;GACb;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA;GACA,KAAK;GACL,KAAK;GACL,KAAK;GACL;GACA;GACD;AACD,OAAK,YAAY,QAAQ,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA4BpC,MAAM,WAAW,UAAU;AACzB,gBAAc,YAAY;EAC1B,MAAM,SAAS;GACb,YAAY;GACZ,CAAC;GACD;GACA;GACA;GACA,CAAC;GACD;GACA;GACA;GACA;GACA;GACA;GACA,YAAY;GACZ;GACA;GACA;GACA;G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"}